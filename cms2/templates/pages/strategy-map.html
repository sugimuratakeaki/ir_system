{% extends "base.html" %}

{% block title %}Êà¶Áï•ÁÆ°ÁêÜ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ{% endblock %}
{% block page_icon %}üéØ{% endblock %}
{% block page_title %}Êà¶Áï•ÁÆ°ÁêÜ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ{% endblock %}
{% block breadcrumb_current %}Êà¶Áï•ÁÆ°ÁêÜ{% endblock %}

{% block extra_css %}
<style>
    /* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„Éä */
    .strategy-dashboard {
        background: var(--gray-50);
        min-height: calc(100vh - var(--header-height));
        padding: var(--space-lg);
    }
    
    /* „Éò„ÉÉ„ÉÄ„Éº„Çª„ÇØ„Ç∑„Éß„É≥ */
    .dashboard-header {
        background: white;
        border-radius: var(--border-radius-xl);
        padding: var(--space-xl);
        margin-bottom: var(--space-xl);
        box-shadow: var(--shadow-sm);
    }
    
    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: var(--space-lg);
    }
    
    .header-info h1 {
        font-size: var(--text-2xl);
        font-weight: var(--font-bold);
        color: var(--gray-900);
        margin: 0 0 var(--space-sm) 0;
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .header-info p {
        color: var(--gray-600);
        font-size: var(--text-base);
        margin: 0;
    }
    
    .header-actions {
        display: flex;
        gap: var(--space-sm);
    }
    
    /* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ */
    .action-button {
        display: flex;
        align-items: center;
        gap: var(--space-xs);
        padding: var(--space-sm) var(--space-md);
        background: white;
        color: var(--gray-700);
        border: 1px solid var(--gray-300);
        border-radius: var(--border-radius-lg);
        font-size: var(--text-sm);
        font-weight: var(--font-medium);
        cursor: pointer;
        transition: all var(--transition-fast);
    }
    
    .action-button:hover {
        background: var(--gray-50);
        border-color: var(--gray-400);
        transform: translateY(-1px);
    }
    
    .action-button.primary {
        background: var(--kagami-blue);
        color: white;
        border-color: var(--kagami-blue);
    }
    
    .action-button.primary:hover {
        background: var(--kagami-blue-dark);
        border-color: var(--kagami-blue-dark);
    }
    
    /* „Çµ„Éû„É™„Éº„Ç´„Éº„Éâ */
    .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--space-lg);
        margin-bottom: var(--space-xl);
    }
    
    .summary-card {
        background: white;
        border-radius: var(--border-radius-xl);
        padding: var(--space-lg);
        box-shadow: var(--shadow-sm);
        transition: all var(--transition-normal);
    }
    
    .summary-card:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-2px);
    }
    
    .summary-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--space-md);
    }
    
    .summary-title {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        font-size: var(--text-base);
        font-weight: var(--font-semibold);
        color: var(--gray-700);
    }
    
    .summary-badge {
        padding: 2px 8px;
        background: var(--gray-100);
        color: var(--gray-600);
        border-radius: var(--border-radius-full);
        font-size: var(--text-xs);
        font-weight: var(--font-medium);
    }
    
    .summary-badge.updated {
        background: var(--warning-light);
        color: white;
    }
    
    .summary-badge.new {
        background: var(--info-light);
        color: white;
    }
    
    .summary-value {
        font-size: var(--text-3xl);
        font-weight: var(--font-bold);
        color: var(--gray-900);
        margin-bottom: var(--space-xs);
    }
    
    .summary-baseline {
        font-size: var(--text-sm);
        color: var(--gray-600);
        margin-bottom: var(--space-md);
    }
    
    .summary-progress {
        margin-bottom: var(--space-sm);
    }
    
    .progress-bar {
        height: 8px;
        background: var(--gray-200);
        border-radius: var(--border-radius-full);
        overflow: hidden;
    }
    
    .progress-fill {
        height: 100%;
        background: var(--accent-teal);
        border-radius: var(--border-radius-full);
        transition: width var(--transition-slow) var(--easing-default);
    }
    
    .progress-text {
        display: flex;
        justify-content: space-between;
        font-size: var(--text-xs);
        color: var(--gray-600);
        margin-top: var(--space-xs);
    }
    
    /* Êà¶Áï•„Ç´„ÉÜ„Ç¥„É™„Éº„Çª„ÇØ„Ç∑„Éß„É≥ */
    .strategy-sections {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
        gap: var(--space-xl);
        margin-bottom: var(--space-xl);
    }
    
    .strategy-section {
        background: white;
        border-radius: var(--border-radius-xl);
        padding: var(--space-xl);
        box-shadow: var(--shadow-sm);
    }
    
    .section-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: var(--space-lg);
        padding-bottom: var(--space-md);
        border-bottom: 1px solid var(--gray-200);
    }
    
    .section-title {
        display: flex;
        align-items: center;
        gap: var(--space-sm);
        font-size: var(--text-lg);
        font-weight: var(--font-bold);
        color: var(--gray-900);
    }
    
    .section-icon {
        font-size: var(--text-xl);
    }
    
    .view-details {
        font-size: var(--text-sm);
        color: var(--kagami-blue);
        text-decoration: none;
        font-weight: var(--font-medium);
        transition: color var(--transition-fast);
    }
    
    .view-details:hover {
        color: var(--kagami-blue-dark);
        text-decoration: underline;
    }
    
    /* ÁõÆÊ®ô„É™„Çπ„Éà */
    .targets-list {
        display: flex;
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .target-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--space-md);
        background: var(--gray-50);
        border-radius: var(--border-radius-lg);
        border: 1px solid var(--gray-200);
        transition: all var(--transition-fast);
    }
    
    .target-item:hover {
        background: white;
        border-color: var(--gray-300);
        box-shadow: var(--shadow-xs);
    }
    
    .target-info {
        flex: 1;
    }
    
    .target-name {
        font-weight: var(--font-semibold);
        color: var(--gray-900);
        margin-bottom: var(--space-xs);
        display: flex;
        align-items: center;
        gap: var(--space-sm);
    }
    
    .target-metrics {
        display: flex;
        gap: var(--space-lg);
        font-size: var(--text-sm);
        color: var(--gray-600);
    }
    
    .metric-item {
        display: flex;
        align-items: center;
        gap: var(--space-xs);
    }
    
    .metric-label {
        color: var(--gray-500);
    }
    
    .metric-value {
        font-weight: var(--font-semibold);
        color: var(--gray-700);
    }
    
    .target-actions {
        display: flex;
        gap: var(--space-xs);
    }
    
    .target-action {
        padding: var(--space-xs) var(--space-sm);
        background: white;
        border: 1px solid var(--gray-300);
        border-radius: var(--border-radius-md);
        font-size: var(--text-xs);
        color: var(--gray-600);
        cursor: pointer;
        transition: all var(--transition-fast);
    }
    
    .target-action:hover {
        background: var(--gray-50);
        border-color: var(--gray-400);
        color: var(--gray-700);
    }
    
    /* „Ç§„É≥„Çµ„Ç§„Éà„Çª„ÇØ„Ç∑„Éß„É≥ */
    .insights-section {
        background: white;
        border-radius: var(--border-radius-xl);
        padding: var(--space-xl);
        box-shadow: var(--shadow-sm);
    }
    
    .insights-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--space-lg);
    }
    
    .insight-card {
        padding: var(--space-lg);
        background: var(--gray-50);
        border-radius: var(--border-radius-lg);
        border: 1px solid var(--gray-200);
        transition: all var(--transition-fast);
    }
    
    .insight-card:hover {
        background: white;
        border-color: var(--gray-300);
        box-shadow: var(--shadow-xs);
    }
    
    .insight-type {
        display: inline-flex;
        align-items: center;
        gap: var(--space-xs);
        padding: 4px 12px;
        background: var(--info-light);
        color: white;
        border-radius: var(--border-radius-full);
        font-size: var(--text-xs);
        font-weight: var(--font-medium);
        margin-bottom: var(--space-sm);
    }
    
    .insight-type.warning {
        background: var(--warning);
    }
    
    .insight-type.success {
        background: var(--success);
    }
    
    .insight-title {
        font-weight: var(--font-semibold);
        color: var(--gray-900);
        margin-bottom: var(--space-xs);
    }
    
    .insight-description {
        font-size: var(--text-sm);
        color: var(--gray-600);
        line-height: var(--leading-relaxed);
    }
    
    /* ÊäïË≥áÂÆ∂Ë≥™Âïè„Çª„ÇØ„Ç∑„Éß„É≥ */
    .questions-indicator {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 2px 8px;
        background: var(--error-light);
        color: white;
        border-radius: var(--border-radius-full);
        font-size: var(--text-xs);
        font-weight: var(--font-medium);
    }
    
    /* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú */
    @media (max-width: 1200px) {
        .strategy-sections {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 768px) {
        .strategy-dashboard {
            padding: var(--space-md);
        }
        
        .dashboard-header {
            padding: var(--space-lg);
        }
        
        .header-content {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .summary-grid {
            grid-template-columns: 1fr;
        }
        
        .insights-grid {
            grid-template-columns: 1fr;
        }
        
        .target-metrics {
            flex-direction: column;
            gap: var(--space-xs);
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="strategy-dashboard">
    <!-- „Éò„ÉÉ„ÉÄ„Éº„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <div class="dashboard-header">
        <div class="header-content">
            <div class="header-info">
                <h1>
                    <span>üéØ</span>
                    ‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª Êà¶Áï•ÁÆ°ÁêÜ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                </h1>
                <p>2024-2026Âπ¥Â∫¶ ‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª„ÅÆÈÄ≤Êçó„Å®ÊäïË≥áÂÆ∂ÂØæË©±Áä∂Ê≥Å„Çí‰∏ÄÂÖÉÁÆ°ÁêÜ</p>
            </div>
            <div class="header-actions">
                <button class="action-button" onclick="exportDashboard()">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                    </svg>
                    „Ç®„ÇØ„Çπ„Éù„Éº„Éà
                </button>
                <button class="action-button primary" onclick="updateStrategies()">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                    ÊúÄÊñ∞„Éá„Éº„Çø„ÅßÊõ¥Êñ∞
                </button>
            </div>
        </div>
    </div>
    
    <!-- „Çµ„Éû„É™„Éº„Ç´„Éº„Éâ -->
    <div class="summary-grid">
        <div class="summary-card">
            <div class="summary-header">
                <h3 class="summary-title">
                    <span>üìà</span>
                    ÂÖ®‰ΩìÈÄ≤ÊçóÁéá
                </h3>
            </div>
            <div class="summary-value">42.5%</div>
            <div class="summary-baseline">Ë®àÁîª1Âπ¥ÁõÆ„Å®„Åó„Å¶È†ÜË™ø„Å´Êé®Áßª</div>
            <div class="summary-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 42.5%;"></div>
                </div>
                <div class="progress-text">
                    <span>0%</span>
                    <span>42.5%</span>
                    <span>100%</span>
                </div>
            </div>
        </div>
        
        <div class="summary-card">
            <div class="summary-header">
                <h3 class="summary-title">
                    <span>üí¨</span>
                    ÊäïË≥áÂÆ∂„Åã„Çâ„ÅÆË≥™Âïè
                </h3>
                <span class="summary-badge updated">Ë¶ÅÂØæÂøú</span>
            </div>
            <div class="summary-value">45‰ª∂</div>
            <div class="summary-baseline">‰ªäÈÄ±: +12‰ª∂ÔºàÂâçÈÄ±ÊØîÔºâ</div>
            <div class="summary-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 73%; background: var(--warning);"></div>
                </div>
                <div class="progress-text">
                    <span>ÂõûÁ≠îÊ∏à: 33‰ª∂</span>
                    <span>Êú™ÂõûÁ≠î: 12‰ª∂</span>
                </div>
            </div>
        </div>
        
        <div class="summary-card">
            <div class="summary-header">
                <h3 class="summary-title">
                    <span>üîÑ</span>
                    Êà¶Áï•Â§âÊõ¥
                </h3>
                <span class="summary-badge new">Êñ∞Ë¶è</span>
            </div>
            <div class="summary-value">3È†ÖÁõÆ</div>
            <div class="summary-baseline">‰ªäÂõõÂçäÊúü„ÅÆË¶ãÁõ¥„Åó‰∫ãÈ†Ö</div>
            <div class="summary-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 100%; background: var(--info);"></div>
                </div>
                <div class="progress-text">
                    <span>ÊâøË™çÊ∏à: 2‰ª∂</span>
                    <span>Ê§úË®é‰∏≠: 1‰ª∂</span>
                </div>
            </div>
        </div>
        
        <div class="summary-card">
            <div class="summary-header">
                <h3 class="summary-title">
                    <span>‚è∞</span>
                    Ê¨°ÂõûIRË™¨Êòé‰ºö
                </h3>
            </div>
            <div class="summary-value">15Êó•Âæå</div>
            <div class="summary-baseline">2024Âπ¥Q1Ê±∫ÁÆóË™¨Êòé‰ºö</div>
            <div class="summary-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 65%; background: var(--success);"></div>
                </div>
                <div class="progress-text">
                    <span>Ê∫ñÂÇôÈÄ≤Êçó: 65%</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Êà¶Áï•„Ç´„ÉÜ„Ç¥„É™„Éº„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <div class="strategy-sections">
        <!-- Ë≤°ÂãôÁõÆÊ®ô -->
        <div class="strategy-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="section-icon">üí∞</span>
                    Ë≤°ÂãôÁõÆÊ®ô
                </h2>
                <a href="#" class="view-details">Ë©≥Á¥∞„ÇíË¶ã„Çã ‚Üí</a>
            </div>
            <div class="targets-list">
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">
                            Â£≤‰∏äÈ´ò
                            <span class="summary-badge updated">Êõ¥Êñ∞</span>
                        </div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">1,500ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">630ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">42%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">8</span>
                        </button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">Âñ∂Ê•≠Âà©ÁõäÁéá</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">15.0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">13.8%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">65%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">Ë≥™Âïè</button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">ROE</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">12.0%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">9.2%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">35%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">3</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÊàêÈï∑Êà¶Áï• -->
        <div class="strategy-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="section-icon">üöÄ</span>
                    ÊàêÈï∑Êà¶Áï•
                </h2>
                <a href="#" class="view-details">Ë©≥Á¥∞„ÇíË¶ã„Çã ‚Üí</a>
            </div>
            <div class="targets-list">
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">
                            Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá
                            <span class="summary-badge updated">Êõ¥Êñ∞</span>
                        </div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">38%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">28%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">58%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">5</span>
                        </button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥Â±ïÈñã</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">5„Ç´ÂõΩ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">2„Ç´ÂõΩ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">40%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">18</span>
                        </button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">Êñ∞Ë¶è‰∫ãÊ•≠Â£≤‰∏ä</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">200ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">45ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">23%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">Ë≥™Âïè</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ESGÁõÆÊ®ô -->
        <div class="strategy-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="section-icon">üå±</span>
                    ESGÁõÆÊ®ô
                </h2>
                <a href="#" class="view-details">Ë©≥Á¥∞„ÇíË¶ã„Çã ‚Üí</a>
            </div>
            <div class="targets-list">
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">CO2ÂâäÊ∏õÁéá</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">-50%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">-28%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">56%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">7</span>
                        </button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">Â•≥ÊÄßÁÆ°ÁêÜËÅ∑ÊØîÁéá</div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">30%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">18%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">45%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">2</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- „Éá„Ç∏„Çø„É´Êà¶Áï• -->
        <div class="strategy-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="section-icon">üíª</span>
                    „Éá„Ç∏„Çø„É´Êà¶Áï•
                </h2>
                <a href="#" class="view-details">Ë©≥Á¥∞„ÇíË¶ã„Çã ‚Üí</a>
            </div>
            <div class="targets-list">
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">
                            DXÊäïË≥áÈ°ç
                            <span class="summary-badge updated">Êõ¥Êñ∞</span>
                        </div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÁõÆÊ®ô:</span>
                                <span class="metric-value">320ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÁèæÂú®:</span>
                                <span class="metric-value">112ÂÑÑÂÜÜ</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">35%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">
                            Ë≥™Âïè <span class="questions-indicator">12</span>
                        </button>
                    </div>
                </div>
                
                <div class="target-item">
                    <div class="target-info">
                        <div class="target-name">
                            AIÈúÄË¶Å‰∫àÊ∏¨„Ç∑„Çπ„ÉÜ„É†
                            <span class="summary-badge new">Êñ∞Ë¶è</span>
                        </div>
                        <div class="target-metrics">
                            <div class="metric-item">
                                <span class="metric-label">ÈñãÂßã:</span>
                                <span class="metric-value">2024 Q2</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÂäπÊûú:</span>
                                <span class="metric-value">Âà©ÁõäÁéá+0.5pt</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ÈÄ≤Êçó:</span>
                                <span class="metric-value">0%</span>
                            </div>
                        </div>
                    </div>
                    <div class="target-actions">
                        <button class="target-action">Ë©≥Á¥∞</button>
                        <button class="target-action">Ë≥™Âïè</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- AI„Ç§„É≥„Çµ„Ç§„Éà„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <div class="insights-section">
        <div class="section-header">
            <h2 class="section-title">
                <span class="section-icon">ü§ñ</span>
                AI„Å´„Çà„ÇãÊà¶Áï•„Ç§„É≥„Çµ„Ç§„Éà
            </h2>
        </div>
        <div class="insights-grid">
            <div class="insight-card">
                <span class="insight-type">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                    Áõ∏Èñ¢ÂàÜÊûê
                </span>
                <h3 class="insight-title">Êµ∑Â§ñÂ±ïÈñã„Å®Â£≤‰∏äÊàêÈï∑„ÅÆÁõ∏Èñ¢</h3>
                <p class="insight-description">
                    Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá„ÅÆ‰∏äÊòá„ÅåÂÖ®‰ΩìÂ£≤‰∏äÁõÆÊ®ôÈÅîÊàê„ÅÆ‰∏ªË¶ÅÂõ†„Å®„Å™„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÁâπ„Å´„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„ÅÆÊàêÈï∑„Åå‰∫àÊÉ≥„Çí‰∏äÂõû„Å£„Å¶„Åä„Çä„ÄÅ„É™„ÇΩ„Éº„Çπ„ÅÆËøΩÂä†ÈÖçÂàÜ„ÇíÊ§úË®é„Åô„Åπ„Åç„Åß„Åô„ÄÇ
                </p>
            </div>
            
            <div class="insight-card">
                <span class="insight-type warning">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                    </svg>
                    Ê≥®ÊÑè‰∫ãÈ†Ö
                </span>
                <h3 class="insight-title">DXÊäïË≥á„ÅÆROIÊ∏¨ÂÆö</h3>
                <p class="insight-description">
                    Â¢óÈ°ç„Åï„Çå„Åü20ÂÑÑÂÜÜ„ÅÆÊäïË≥áÂØæÂäπÊûú„Åå‰∏çÊòéÁ¢∫„Åß„Åô„ÄÇÂÖ∑‰ΩìÁöÑ„Å™KPI„Å®Ê∏¨ÂÆöÊñπÊ≥ï„ÅÆË®≠ÂÆö„ÅåÂøÖË¶Å„Åß„Åô„ÄÇÊäïË≥áÂÆ∂„Åã„Çâ„ÅÆË≥™Âïè„ÇÇÂ¢óÂä†ÂÇæÂêë„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇ
                </p>
            </div>
            
            <div class="insight-card">
                <span class="insight-type success">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Ê©ü‰ºö
                </span>
                <h3 class="insight-title">ESGÊäïË≥áÂÆ∂„ÅÆÈñ¢ÂøÉÂ¢óÂä†</h3>
                <p class="insight-description">
                    CO2ÂâäÊ∏õ„Å∏„ÅÆÂèñ„ÇäÁµÑ„Åø„Å´ÂØæ„Åô„ÇãÊäïË≥áÂÆ∂„ÅÆÈñ¢ÂøÉ„ÅåÈ´ò„Åæ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇË©≥Á¥∞„Å™ÈÄ≤Êçó„É¨„Éù„Éº„Éà„ÅÆÈñãÁ§∫„Å´„Çà„Çä„ÄÅESGÊäïË≥áÂÆ∂„Å∏„ÅÆ„Ç¢„Éî„Éº„É´„ÅåÂèØËÉΩ„Åß„Åô„ÄÇ
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆÂàùÊúüÂåñ
    document.addEventListener('DOMContentLoaded', function() {
        initializeDashboard();
        loadLatestData();
        setupEventListeners();
    });
    
    // „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆÂàùÊúüÂåñ
    function initializeDashboard() {
        // „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
        animateProgressBars();
        
        // Êõ¥Êñ∞„Éê„ÉÉ„Ç∏„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
        animateUpdateBadges();
    }
    
    // ÊúÄÊñ∞„Éá„Éº„Çø„ÅÆË™≠„ÅøËæº„Åø
    function loadLatestData() {
        // ÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„ÄÅAPI„Åã„ÇâÊúÄÊñ∞„Éá„Éº„Çø„ÇíÂèñÂæó
        console.log('ÊúÄÊñ∞„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø‰∏≠...');
    }
    
    // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„Éº„ÅÆË®≠ÂÆö
    function setupEventListeners() {
        // ÁõÆÊ®ô„Ç¢„Ç§„ÉÜ„É†„ÅÆ„ÇØ„É™„ÉÉ„ÇØ„Ç§„Éô„É≥„Éà
        document.querySelectorAll('.target-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (!e.target.classList.contains('target-action')) {
                    showTargetDetail(this);
                }
            });
        });
    }
    
    // „Éó„É≠„Ç∞„É¨„Çπ„Éê„Éº„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
    function animateProgressBars() {
        const progressBars = document.querySelectorAll('.progress-fill');
        progressBars.forEach((bar, index) => {
            setTimeout(() => {
                bar.style.width = bar.style.width || '0%';
            }, index * 100);
        });
    }
    
    // Êõ¥Êñ∞„Éê„ÉÉ„Ç∏„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
    function animateUpdateBadges() {
        const badges = document.querySelectorAll('.summary-badge.updated, .summary-badge.new');
        badges.forEach(badge => {
            badge.style.animation = 'pulse 2s infinite';
        });
    }
    
    // Êà¶Áï•„ÅÆÊõ¥Êñ∞
    function updateStrategies() {
        showNotification('ÊúÄÊñ∞„ÅÆÊ±∫ÁÆó„Éá„Éº„Çø„Åã„ÇâÊà¶Áï•ÊåáÊ®ô„ÇíÊõ¥Êñ∞„Åó„Å¶„ÅÑ„Åæ„Åô...', 'info');
        
        // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
        const button = event.currentTarget;
        button.disabled = true;
        button.innerHTML = `
            <svg class="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            Êõ¥Êñ∞‰∏≠...
        `;
        
        // ÂÆüÈöõ„ÅÆÂá¶ÁêÜ„Çí„Ç∑„Éü„É•„É¨„Éº„Éà
        setTimeout(() => {
            button.disabled = false;
            button.innerHTML = `
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
                ÊúÄÊñ∞„Éá„Éº„Çø„ÅßÊõ¥Êñ∞
            `;
            showNotification('Êà¶Áï•ÊåáÊ®ô„ÇíÊúÄÊñ∞„Éá„Éº„Çø„ÅßÊõ¥Êñ∞„Åó„Åæ„Åó„Åü', 'success');
            
            // Êõ¥Êñ∞„Åï„Çå„Åü„Ç¢„Ç§„ÉÜ„É†„Çí„Éè„Ç§„É©„Ç§„Éà
            const updatedItems = document.querySelectorAll('.summary-badge.updated');
            updatedItems.forEach(item => {
                item.style.animation = 'none';
                setTimeout(() => {
                    item.style.animation = 'pulse 2s infinite';
                }, 100);
            });
        }, 3000);
    }
    
    // „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆ„Ç®„ÇØ„Çπ„Éù„Éº„Éà
    function exportDashboard() {
        showModal({
            title: '„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆ„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
            content: `
                <div class="space-y-4">
                    <p class="text-sm text-gray-600">
                        Êà¶Áï•ÁÆ°ÁêÜ„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åó„Åæ„Åô„ÄÇ
                    </p>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">„Ç®„ÇØ„Çπ„Éù„Éº„ÉàÂΩ¢Âºè</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option>PDFÔºàÂΩπÂì°‰ºöÂ†±ÂëäÁî®Ôºâ</option>
                            <option>ExcelÔºàË©≥Á¥∞ÂàÜÊûêÁî®Ôºâ</option>
                            <option>PowerPointÔºà„Éó„É¨„Çº„É≥Áî®Ôºâ</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Âê´„ÇÅ„ÇãÂÜÖÂÆπ</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" checked class="mr-2">
                                <span class="text-sm">„Çµ„Éû„É™„ÉºÊÉÖÂ†±</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" checked class="mr-2">
                                <span class="text-sm">ÂêÑÊà¶Áï•„ÅÆË©≥Á¥∞</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" checked class="mr-2">
                                <span class="text-sm">ÊäïË≥áÂÆ∂Ë≥™ÂïèÂàÜÊûê</span>
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2">
                                <span class="text-sm">AI„Ç§„É≥„Çµ„Ç§„Éà</span>
                            </label>
                        </div>
                    </div>
                </div>
            `,
            confirmText: '„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
            onConfirm: () => {
                showNotification('„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà‰∏≠...', 'info');
                setTimeout(() => {
                    showNotification('„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„ÅÆ„Ç®„ÇØ„Çπ„Éù„Éº„Éà„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü', 'success');
                }, 2000);
            }
        });
    }
    
    // ÁõÆÊ®ô„ÅÆË©≥Á¥∞Ë°®Á§∫
    function showTargetDetail(targetElement) {
        const targetName = targetElement.querySelector('.target-name').textContent.trim();
        
        showModal({
            title: `${targetName}„ÅÆË©≥Á¥∞`,
            content: `
                <div class="space-y-4">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h4 class="font-medium text-gray-900 mb-2">ÈÄ≤ÊçóÁä∂Ê≥Å</h4>
                        <div class="space-y-2">
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">Q1ÂÆüÁ∏æ</span>
                                <span class="text-sm font-medium">Ë®àÁîªÊØî 105%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm text-gray-600">ÂâçÂπ¥ÂêåÊúüÊØî</span>
                                <span class="text-sm font-medium">+12.3%</span>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">‰∏ª„Å™Â§âÊõ¥ÁÇπ</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Êµ∑Â§ñÂ±ïÈñã„ÅÆÂä†ÈÄü„Å´„Çà„Çã‰∏äÊñπ‰øÆÊ≠£</li>
                            <li>‚Ä¢ ÁÇ∫ÊõøÂΩ±ÈüøÔºàÂÜÜÂÆâÔºâ„Å´„Çà„Çã„Éó„É©„ÇπÂäπÊûú</li>
                            <li>‚Ä¢ Êñ∞Ë£ΩÂìÅ„ÅÆÂ•ΩË™ø„Å™Á´ã„Å°‰∏ä„Åå„Çä</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-medium text-gray-900 mb-2">ÊäïË≥áÂÆ∂„Åã„Çâ„ÅÆ‰∏ª„Å™Ë≥™Âïè</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ ÊåÅÁ∂öÂèØËÉΩÊÄß„Å´„Å§„ÅÑ„Å¶„ÅÆË©≥Á¥∞Ë™¨Êòé</li>
                            <li>‚Ä¢ Á´∂Âêà‰ªñÁ§æ„Å®„ÅÆÂ∑ÆÂà•ÂåñË¶ÅÂõ†</li>
                            <li>‚Ä¢ „É™„Çπ„ÇØË¶ÅÂõ†„Å®„Åù„ÅÆÂØæÁ≠ñ</li>
                        </ul>
                    </div>
                </div>
            `,
            confirmText: 'Èñâ„Åò„Çã'
        });
    }
    
    // ÈÄöÁü•Ë°®Á§∫
    function showNotification(message, type = 'info') {
        if (window.parent && window.parent.showNotification) {
            window.parent.showNotification(message, type);
        } else {
            console.log(`${type}: ${message}`);
        }
    }
    
    // „É¢„Éº„ÉÄ„É´Ë°®Á§∫
    function showModal(options) {
        if (window.parent && window.parent.showModal) {
            window.parent.showModal(options);
        } else {
            if (confirm(options.content)) {
                options.onConfirm && options.onConfirm();
            }
        }
    }
    
    // „Éë„É´„Çπ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Áî®„ÅÆ„Çπ„Çø„Ç§„É´
    const style = document.createElement('style');
    style.textContent = `
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }
    `;
    document.head.appendChild(style);
</script>
{% endblock %}