{% extends "base.html" %}

{% block title %}‰∏≠ÊúüË®àÁîª„ÉªÊäïË≥áÂÆ∂ÂØæÂøúÁÆ°ÁêÜ{% endblock %}
{% block page_icon %}üìã{% endblock %}
{% block page_title %}‰∏≠ÊúüË®àÁîª„ÉªÊäïË≥áÂÆ∂ÂØæÂøúÁÆ°ÁêÜ{% endblock %}
{% block breadcrumb_current %}‰∏≠ÊúüË®àÁîª„ÉªÊäïË≥áÂÆ∂ÂØæÂøúÁÆ°ÁêÜ{% endblock %}

{% block extra_css %}
<style>
    /* ‰∏≠ÊúüË®àÁîªË°®Á§∫„Ç®„É™„Ç¢ */
    .midterm-plan-container {
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        overflow: hidden;
        margin-bottom: 24px;
    }
    
    .plan-header {
        background: linear-gradient(135deg, #1a365d 0%, #2563eb 100%);
        color: white;
        padding: 24px;
    }
    
    .plan-title {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 8px;
    }
    
    .plan-period {
        font-size: 1rem;
        opacity: 0.9;
        margin-bottom: 16px;
    }
    
    .plan-source {
        display: flex;
        gap: 16px;
        font-size: 0.875rem;
    }
    
    .source-badge {
        background: rgba(255, 255, 255, 0.2);
        padding: 4px 12px;
        border-radius: 16px;
        backdrop-filter: blur(10px);
    }
    
    /* Ë®àÁîªË©≥Á¥∞ */
    .plan-content {
        padding: 24px;
    }
    
    .plan-section {
        margin-bottom: 32px;
    }
    
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
        padding-bottom: 12px;
        border-bottom: 2px solid #e5e7eb;
    }
    
    .section-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #111827;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .section-actions {
        display: flex;
        gap: 8px;
    }
    
    /* ÁõÆÊ®ô„Ç´„Éº„Éâ */
    .target-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
    }
    
    .target-card {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        position: relative;
        transition: all 0.2s;
    }
    
    .target-card:hover {
        border-color: #14b8a6;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    }
    
    .target-indicator {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #10b981;
    }
    
    .target-indicator.has-questions {
        background: #f59e0b;
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% { opacity: 1; transform: scale(1); }
        50% { opacity: 0.8; transform: scale(1.2); }
        100% { opacity: 1; transform: scale(1); }
    }
    
    .target-name {
        font-weight: 600;
        color: #111827;
        margin-bottom: 8px;
    }
    
    .target-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1a365d;
        margin-bottom: 4px;
    }
    
    .target-baseline {
        font-size: 0.875rem;
        color: #6b7280;
        margin-bottom: 8px;
    }
    
    .target-questions {
        font-size: 0.75rem;
        color: #f59e0b;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    /* Ë≥™ÂïèÁÆ°ÁêÜ„Ç®„É™„Ç¢ */
    .question-management {
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        padding: 24px;
        margin-bottom: 24px;
    }
    
    .question-tabs {
        display: flex;
        gap: 4px;
        background: #f3f4f6;
        padding: 4px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .question-tab {
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        color: #6b7280;
        cursor: pointer;
        transition: all 0.2s;
        position: relative;
    }
    
    .question-tab.active {
        background: white;
        color: #111827;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .question-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        background: #ef4444;
        color: white;
        font-size: 0.625rem;
        padding: 2px 6px;
        border-radius: 10px;
        font-weight: 600;
    }
    
    /* Ë≥™Âïè„É™„Çπ„Éà */
    .question-list {
        space-y: 12px;
    }
    
    .question-item {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        transition: all 0.2s;
        cursor: pointer;
    }
    
    .question-item:hover {
        border-color: #14b8a6;
        background: #f0fdfa;
    }
    
    .question-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 8px;
    }
    
    .question-meta {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 0.75rem;
        color: #6b7280;
    }
    
    .question-status {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .status-badge {
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.625rem;
        font-weight: 600;
    }
    
    .status-new {
        background: #fee2e2;
        color: #991b1b;
    }
    
    .status-answered {
        background: #d1fae5;
        color: #065f46;
    }
    
    .status-faq {
        background: #dbeafe;
        color: #1e40af;
    }
    
    .question-text {
        font-weight: 500;
        color: #111827;
        margin-bottom: 8px;
    }
    
    .question-context {
        font-size: 0.875rem;
        color: #6b7280;
        margin-bottom: 12px;
    }
    
    .question-actions {
        display: flex;
        gap: 8px;
    }
    
    .action-button {
        padding: 6px 12px;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 500;
        background: white;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .action-button:hover {
        background: #f9fafb;
        border-color: #d1d5db;
    }
    
    .action-button.primary {
        background: #14b8a6;
        border-color: #14b8a6;
        color: white;
    }
    
    .action-button.primary:hover {
        background: #0d9488;
        border-color: #0d9488;
    }
    
    /* FAQ‰ΩúÊàê„Ç®„É™„Ç¢ */
    .faq-editor {
        background: linear-gradient(135deg, #f0fdfa, #e0f2fe);
        border: 1px solid #14b8a6;
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 24px;
        position: relative;
        overflow: hidden;
    }
    
    .faq-editor::before {
        content: 'ü§ñ';
        position: absolute;
        top: 24px;
        right: 24px;
        font-size: 32px;
        opacity: 0.2;
    }
    
    .faq-editor-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .faq-editor-title {
        font-size: 1.125rem;
        font-weight: 600;
        color: #0f766e;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .ai-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 4px 12px;
        background: rgba(255, 255, 255, 0.8);
        border-radius: 16px;
        font-size: 0.75rem;
        color: #0f766e;
    }
    
    .ai-indicator.active {
        animation: ai-pulse 1.5s infinite;
    }
    
    @keyframes ai-pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
    }
    
    /* FAQÁ∑®ÈõÜ„Éï„Ç©„Éº„É† */
    .faq-form {
        background: white;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .form-section {
        margin-bottom: 20px;
    }
    
    .form-label {
        display: block;
        font-weight: 500;
        color: #374151;
        margin-bottom: 8px;
        font-size: 0.875rem;
    }
    
    .form-input, .form-textarea {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 0.875rem;
        transition: all 0.2s;
    }
    
    .form-input:focus, .form-textarea:focus {
        outline: none;
        border-color: #14b8a6;
        box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.1);
    }
    
    .form-textarea {
        min-height: 100px;
        resize: vertical;
    }
    
    /* AIÊèêÊ°à */
    .ai-suggestions {
        background: #f0fdfa;
        border: 1px solid #14b8a6;
        border-radius: 8px;
        padding: 16px;
        margin-top: 12px;
    }
    
    .ai-suggestion-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 12px;
        background: white;
        border-radius: 6px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .ai-suggestion-item:hover {
        transform: translateX(4px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .suggestion-icon {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #d1fae5;
        border-radius: 50%;
        flex-shrink: 0;
    }
    
    .suggestion-content {
        flex: 1;
    }
    
    .suggestion-title {
        font-weight: 500;
        color: #111827;
        margin-bottom: 4px;
        font-size: 0.875rem;
    }
    
    .suggestion-text {
        font-size: 0.75rem;
        color: #6b7280;
        line-height: 1.5;
    }
    
    .suggestion-action {
        color: #14b8a6;
        font-size: 0.75rem;
        font-weight: 500;
    }
    
    /* ÂÖ¨ÈñãFAQ */
    .public-faq-section {
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
        padding: 24px;
    }
    
    .faq-category {
        margin-bottom: 24px;
    }
    
    .category-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
        cursor: pointer;
    }
    
    .category-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f3f4f6;
        border-radius: 6px;
    }
    
    .category-title {
        font-weight: 600;
        color: #111827;
        flex: 1;
    }
    
    .category-count {
        font-size: 0.75rem;
        color: #6b7280;
        background: #f3f4f6;
        padding: 2px 8px;
        border-radius: 12px;
    }
    
    .faq-list {
        space-y: 8px;
    }
    
    .faq-item {
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .faq-item:hover {
        border-color: #d1d5db;
        background: #f3f4f6;
    }
    
    .faq-question {
        font-weight: 500;
        color: #111827;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .faq-answer {
        font-size: 0.875rem;
        color: #4b5563;
        line-height: 1.6;
        display: none;
    }
    
    .faq-item.expanded .faq-answer {
        display: block;
    }
    
    .faq-meta {
        display: flex;
        gap: 16px;
        margin-top: 12px;
        font-size: 0.75rem;
        color: #6b7280;
    }
    
    .faq-stats {
        display: flex;
        align-items: center;
        gap: 4px;
    }
    
    /* „Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó */
    .draggable {
        cursor: move;
    }
    
    .dragging {
        opacity: 0.5;
    }
    
    .drop-zone {
        border: 2px dashed #e5e7eb;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        color: #9ca3af;
        transition: all 0.2s;
    }
    
    .drop-zone.active {
        border-color: #14b8a6;
        background: #f0fdfa;
        color: #0f766e;
    }
    
    /* Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´„Çπ„Çø„Ç§„É´ */
    .target-detail-modal {
        max-height: 80vh;
        overflow-y: auto;
    }
    
    .detail-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: 20px;
        background: #f9fafb;
        border-radius: 12px 12px 0 0;
        margin: -20px -20px 20px -20px;
    }
    
    .detail-tabs {
        display: flex;
        gap: 4px;
        background: #f3f4f6;
        padding: 4px;
        border-radius: 8px;
        margin-bottom: 20px;
    }
    
    .detail-tab {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        color: #6b7280;
        background: transparent;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .detail-tab.active {
        background: white;
        color: #111827;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .tab-badge {
        background: #ef4444;
        color: white;
        font-size: 0.625rem;
        padding: 2px 6px;
        border-radius: 10px;
        font-weight: 600;
    }
    
    .detail-content {
        min-height: 300px;
    }
    
    .detail-footer {
        display: flex;
        gap: 12px;
        margin-top: 24px;
        padding-top: 24px;
        border-top: 1px solid #e5e7eb;
    }
    
    .btn-primary {
        padding: 8px 16px;
        background: #14b8a6;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.2s;
    }
    
    .btn-primary:hover {
        background: #0d9488;
    }
    
    .btn-secondary {
        padding: 8px 16px;
        background: white;
        color: #374151;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.2s;
    }
    
    .btn-secondary:hover {
        background: #f9fafb;
        border-color: #d1d5db;
    }
    
    /* „Éó„É≠„Ç∞„É¨„Çπ„ÉÅ„É£„Éº„Éà */
    .progress-chart {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
    }
    
    .progress-timeline {
        position: relative;
        padding: 20px 0;
    }
    
    .timeline-item {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 16px;
        position: relative;
    }
    
    .timeline-date {
        width: 80px;
        font-size: 0.75rem;
        color: #6b7280;
        text-align: right;
    }
    
    .timeline-marker {
        width: 12px;
        height: 12px;
        background: #14b8a6;
        border-radius: 50%;
        position: relative;
        z-index: 1;
    }
    
    .timeline-marker.pending {
        background: #e5e7eb;
        border: 2px solid #9ca3af;
    }
    
    .timeline-content {
        flex: 1;
        background: #f9fafb;
        padding: 12px 16px;
        border-radius: 8px;
        position: relative;
    }
    
    .timeline-line {
        position: absolute;
        left: 85px;
        top: 0;
        bottom: 0;
        width: 2px;
        background: #e5e7eb;
        z-index: 0;
    }
    
    /* „É™„Ç¢„É´„Çø„Ç§„É†„Ç≥„É©„Éú„É¨„Éº„Ç∑„Éß„É≥ */
    .collaboration-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 16px;
        background: #f0fdfa;
        border: 1px solid #14b8a6;
        border-radius: 8px;
        font-size: 0.875rem;
        color: #0f766e;
        margin-bottom: 16px;
    }
    
    .active-users {
        display: flex;
        align-items: center;
        gap: -8px;
    }
    
    .user-avatar {
        width: 32px;
        height: 32px;
        background: #14b8a6;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.75rem;
        font-weight: 600;
        border: 2px solid white;
    }
    
    /* „Éí„Éº„Éà„Éû„ÉÉ„Éó */
    .heatmap-container {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
    }
    
    .heatmap-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 4px;
    }
    
    .heatmap-cell {
        aspect-ratio: 1;
        border-radius: 4px;
        position: relative;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .heatmap-cell:hover {
        transform: scale(1.1);
        z-index: 10;
    }
    
    .heat-level-0 { background: #f3f4f6; }
    .heat-level-1 { background: #86efac; }
    .heat-level-2 { background: #34d399; }
    .heat-level-3 { background: #10b981; }
    .heat-level-4 { background: #059669; }
    
    /* ÊâøË™ç„ÉØ„Éº„ÇØ„Éï„É≠„Éº */
    .approval-flow {
        background: #f9fafb;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 16px;
    }
    
    .approval-step {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        margin-bottom: 8px;
    }
    
    .approval-status {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .approval-approved {
        background: #d1fae5;
        color: #065f46;
    }
    
    .approval-pending {
        background: #fed7aa;
        color: #9a3412;
    }
    
    .approval-waiting {
        background: #f3f4f6;
        color: #9ca3af;
    }
    
    /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂäπÊûú */
    @keyframes pulse {
        0%, 100% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.05); opacity: 0.9; }
    }
    
    @keyframes slideIn {
        from { transform: translateX(-10px); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    .target-card {
        animation: fadeIn 0.5s ease-out;
        animation-fill-mode: both;
    }
    
    .target-card:nth-child(1) { animation-delay: 0.1s; }
    .target-card:nth-child(2) { animation-delay: 0.2s; }
    .target-card:nth-child(3) { animation-delay: 0.3s; }
    .target-card:nth-child(4) { animation-delay: 0.4s; }
    .target-card:nth-child(5) { animation-delay: 0.5s; }
    .target-card:nth-child(6) { animation-delay: 0.6s; }
    
    .target-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    /* „Çπ„Éû„Éº„ÉàÊèêÊ°à„Ç´„Éº„Éâ */
    .smart-suggestion {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
        animation: slideIn 0.5s ease-out;
    }
    
    .smart-suggestion::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
        transform: rotate(45deg);
        animation: shimmer 3s infinite;
    }
    
    @keyframes shimmer {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }
    
    /* AI„Ç¢„Ç∑„Çπ„Éà„Éú„Çø„É≥ */
    .ai-assist-button {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        box-shadow: 0 10px 25px -5px rgba(20, 184, 166, 0.5);
        cursor: pointer;
        transition: all 0.3s;
        z-index: 1000;
    }
    
    .ai-assist-button:hover {
        transform: scale(1.1);
        box-shadow: 0 15px 35px -5px rgba(20, 184, 166, 0.7);
    }
    
    .ai-assist-menu {
        position: fixed;
        bottom: 100px;
        right: 30px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        padding: 8px;
        min-width: 200px;
        display: none;
        z-index: 1001;
    }
    
    .ai-assist-menu.active {
        display: block;
        animation: slideIn 0.3s ease-out;
    }
    
    .ai-assist-option {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .ai-assist-option:hover {
        background: #f3f4f6;
    }
    
    /* „Ç§„É≥„Çµ„Ç§„Éà„Éë„Éç„É´ */
    .insights-panel {
        background: linear-gradient(135deg, #f9fafb 0%, #e5e7eb 100%);
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
    }
    
    .insight-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: white;
        border-radius: 8px;
        margin-bottom: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }
    
    .insight-item:hover {
        transform: translateX(8px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .insight-icon {
        width: 40px;
        height: 40px;
        background: #dbeafe;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #2563eb;
    }
    
    .insight-icon.warning {
        background: #fef3c7;
        color: #d97706;
    }
    
    .insight-icon.success {
        background: #d1fae5;
        color: #059669;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- AI„Ç¢„Ç∑„Çπ„Éà„Éú„Çø„É≥ -->
    <div class="ai-assist-button" onclick="toggleAIAssist()">
        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
        </svg>
    </div>
    
    <!-- AI„Ç¢„Ç∑„Çπ„Éà„É°„Éã„É•„Éº -->
    <div class="ai-assist-menu" id="aiAssistMenu">
        <div class="ai-assist-option" onclick="aiGenerateInsights()">
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
            <span class="text-sm font-medium">„Ç§„É≥„Çµ„Ç§„ÉàÁîüÊàê</span>
        </div>
        <div class="ai-assist-option" onclick="aiSuggestAnswers()">
            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
            </svg>
            <span class="text-sm font-medium">ÂõûÁ≠îÊ°à‰ΩúÊàê</span>
        </div>
        <div class="ai-assist-option" onclick="aiAnalyzeTrends()">
            <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
            </svg>
            <span class="text-sm font-medium">„Éà„É¨„É≥„ÉâÂàÜÊûê</span>
        </div>
        <div class="ai-assist-option" onclick="aiOptimizePlan()">
            <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            <span class="text-sm font-medium">Ë®àÁîªÊúÄÈÅ©Âåñ</span>
        </div>
    </div>
    
    <!-- „Çπ„Éû„Éº„ÉàÊèêÊ°à -->
    <div class="smart-suggestion" id="smartSuggestion" style="display: none;">
        <div class="flex items-start gap-3">
            <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
            <div class="flex-1">
                <h3 class="font-semibold mb-1">AIÂàÜÊûê„Å´„Çà„ÇãÈáçË¶Å„Å™Áô∫Ë¶ã</h3>
                <p class="text-sm opacity-90" id="suggestionText">DXÊäïË≥á„Å´Èñ¢„Åô„ÇãË≥™Âïè„ÅåÂÖàÈÄ±ÊØî„Åß40%Â¢óÂä†„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊäïË≥áÂÆ∂Âêë„Åë„Å´Ë©≥Á¥∞„Å™Ë™¨ÊòéË≥áÊñô„ÅÆÊ∫ñÂÇô„ÇíÊé®Â•®„Åó„Åæ„Åô„ÄÇ</p>
            </div>
            <button onclick="dismissSuggestion()" class="text-white/80 hover:text-white">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>
    
    <!-- „Ç§„É≥„Çµ„Ç§„Éà„Éë„Éç„É´ -->
    <div class="insights-panel" id="insightsPanel" style="display: none;">
        <h3 class="text-lg font-semibold mb-4">AI„Å´„Çà„ÇãÂàÜÊûê„Å®Êé®Â•®‰∫ãÈ†Ö</h3>
        <div class="space-y-3">
            <div class="insight-item" onclick="applyInsight('revenue')">
                <div class="insight-icon">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                </div>
                <div class="flex-1">
                    <h4 class="font-medium text-sm">Â£≤‰∏äÁõÆÊ®ôÈÅîÊàê„Å∏„ÅÆÈáçË¶Å„Éù„Ç§„É≥„Éà</h4>
                    <p class="text-xs text-gray-600 mt-1">ÁÇ∫Êõø„É™„Çπ„ÇØ„Å´Èñ¢„Åô„ÇãË≥™Âïè„ÅåÂ§ö„Åè„ÄÅË©≥Á¥∞„Å™„Éò„ÉÉ„Ç∏Êà¶Áï•„ÅÆË™¨Êòé„ÅåÂøÖË¶Å„Åß„Åô</p>
                </div>
                <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </div>
            
            <div class="insight-item" onclick="applyInsight('esg')">
                <div class="insight-icon warning">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div class="flex-1">
                    <h4 class="font-medium text-sm">ESGÁõÆÊ®ô„Å´Èñ¢„Åô„ÇãÊ≥®ÊÑè‰∫ãÈ†Ö</h4>
                    <p class="text-xs text-gray-600 mt-1">CO2ÂâäÊ∏õÁõÆÊ®ô„Å´„Å§„ÅÑ„Å¶ÊäïË≥áÂÆ∂„Åã„ÇâÂÖ∑‰ΩìÁöÑ„Å™„É≠„Éº„Éâ„Éû„ÉÉ„Éó„ÅÆË¶ÅÊ±Ç„ÅåÂ¢óÂä†</p>
                </div>
                <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </div>
            
            <div class="insight-item" onclick="applyInsight('questions')">
                <div class="insight-icon success">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div class="flex-1">
                    <h4 class="font-medium text-sm">„Çà„Åè„ÅÇ„ÇãË≥™Âïè„Éë„Çø„Éº„É≥„ÇíÊ§úÂá∫</h4>
                    <p class="text-xs text-gray-600 mt-1">23‰ª∂„ÅÆÈ°û‰ººË≥™Âïè„ÇíËá™Âãï„Ç∞„É´„Éº„ÉóÂåñ„Åó„ÄÅÂäπÁéáÁöÑ„Å™ÂõûÁ≠î‰ΩúÊàê„ÅåÂèØËÉΩ„Åß„Åô</p>
                </div>
                <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </div>
        </div>
    </div>

    <!-- ‰∏≠ÊúüÁµåÂñ∂Ë®àÁîªË°®Á§∫„Ç®„É™„Ç¢ -->
    <div class="midterm-plan-container">
    <div class="plan-header">
        <h1 class="plan-title">‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª 2024-2026</h1>
        <p class="plan-period">„ÄåDX„Å®ESG„ÇíËª∏„Å®„Åó„ÅüÊåÅÁ∂öÁöÑÊàêÈï∑„Å∏„ÅÆÊåëÊà¶„Äç</p>
        <div class="plan-source">
            <span class="source-badge">üìÑ 2024Âπ¥5ÊúàÊ±∫ÁÆóÁü≠‰ø°„Çà„Çä</span>
            <span class="source-badge">üì¢ 2024Âπ¥5Êúà15Êó•ÈÅ©ÊôÇÈñãÁ§∫„Çà„Çä</span>
            <span class="source-badge">üîÑ ÊúÄÁµÇÊõ¥Êñ∞: 2024Âπ¥1Êúà20Êó•</span>
        </div>
    </div>
    
    <div class="plan-content">
        <!-- ÂÆöÈáèÁõÆÊ®ô„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="plan-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span>üìä</span>
                    ÂÆöÈáèÁõÆÊ®ôÔºà2026Âπ¥Â∫¶Ôºâ
                </h2>
                <div class="section-actions">
                    <button onclick="showAllQuestions('quantitative')" class="action-button">
                        Èñ¢ÈÄ£Ë≥™Âïè„ÇíË¶ã„Çã (23‰ª∂)
                    </button>
                    <button onclick="editTargets('quantitative')" class="action-button">
                        Á∑®ÈõÜ
                    </button>
                </div>
            </div>
            
            <div class="target-grid">
                <div class="target-card" onclick="showTargetDetail('revenue')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">Â£≤‰∏äÈ´ò</div>
                    <div class="target-value">1,500ÂÑÑÂÜÜ</div>
                    <div class="target-baseline">2023Âπ¥Â∫¶ÂÆüÁ∏æ: 1,200ÂÑÑÂÜÜÔºà+25%Ôºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('revenue')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>8‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('operating-margin')">
                    <div class="target-indicator"></div>
                    <div class="target-name">Âñ∂Ê•≠Âà©ÁõäÁéá</div>
                    <div class="target-value">15.0%</div>
                    <div class="target-baseline">2023Âπ¥Â∫¶ÂÆüÁ∏æ: 12.3%Ôºà+2.7ptÔºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('operating-margin')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>„Åô„Åπ„Å¶ÂõûÁ≠îÊ∏à„Åø</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('roe')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">ROE</div>
                    <div class="target-value">12.0%</div>
                    <div class="target-baseline">2023Âπ¥Â∫¶ÂÆüÁ∏æ: 10.5%Ôºà+1.5ptÔºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('roe')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>3‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('dividend-ratio')">
                    <div class="target-indicator"></div>
                    <div class="target-name">ÈÖçÂΩìÊÄßÂêë</div>
                    <div class="target-value">40%</div>
                    <div class="target-baseline">2023Âπ¥Â∫¶ÂÆüÁ∏æ: 35%Ôºà+5ptÔºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('dividend-ratio')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>„Åô„Åπ„Å¶ÂõûÁ≠îÊ∏à„Åø</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('overseas-ratio')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá</div>
                    <div class="target-value">35%</div>
                    <div class="target-baseline">2023Âπ¥Â∫¶ÂÆüÁ∏æ: 22%Ôºà+13ptÔºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('overseas-ratio')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>5‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('co2-reduction')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">CO2ÂâäÊ∏õÁéá</div>
                    <div class="target-value">-50%</div>
                    <div class="target-baseline">2020Âπ¥Â∫¶ÊØîÔºàÁèæÂú®: -28%Ôºâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('co2-reduction')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>7‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÈáçÁÇπÊñΩÁ≠ñ„Çª„ÇØ„Ç∑„Éß„É≥ -->
        <div class="plan-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span>üéØ</span>
                    ÈáçÁÇπÊñΩÁ≠ñ
                </h2>
                <div class="section-actions">
                    <button onclick="showAllQuestions('strategies')" class="action-button">
                        Èñ¢ÈÄ£Ë≥™Âïè„ÇíË¶ã„Çã (45‰ª∂)
                    </button>
                    <button onclick="editTargets('strategies')" class="action-button">
                        Á∑®ÈõÜ
                    </button>
                </div>
            </div>
            
            <div class="target-grid">
                <div class="target-card" onclick="showTargetDetail('dx-investment')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">DXÊäïË≥á</div>
                    <div class="target-value">3Âπ¥Èñì„Åß300ÂÑÑÂÜÜ</div>
                    <div class="target-baseline">Âü∫Âππ„Ç∑„Çπ„ÉÜ„É†Âà∑Êñ∞„ÄÅAIÊ¥ªÁî®„ÄÅ„Éá„Éº„ÇøÂü∫Áõ§ÊßãÁØâ</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('dx-investment')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>12‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('asia-expansion')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">„Ç¢„Ç∏„Ç¢Â±ïÈñã</div>
                    <div class="target-value">5„Ç´ÂõΩÊñ∞Ë¶èÈÄ≤Âá∫</div>
                    <div class="target-baseline">„Ç§„É≥„Éâ„Éç„Ç∑„Ç¢„ÄÅ„Éô„Éà„Éä„É†„ÄÅ„Çø„Ç§„ÄÅ„Éû„É¨„Éº„Ç∑„Ç¢„ÄÅ„Éï„Ç£„É™„Éî„É≥</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('asia-expansion')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>18‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
                
                <div class="target-card" onclick="showTargetDetail('new-business')">
                    <div class="target-indicator has-questions"></div>
                    <div class="target-name">Êñ∞Ë¶è‰∫ãÊ•≠</div>
                    <div class="target-value">Â£≤‰∏äÊßãÊàêÊØî20%</div>
                    <div class="target-baseline">„Éò„É´„Çπ„Ç±„Ç¢„ÄÅ„Ç∞„É™„Éº„É≥„ÉÜ„ÉÉ„ÇØ„ÄÅSaaS‰∫ãÊ•≠</div>
                    <div class="target-questions" onclick="event.stopPropagation(); showTargetQuestions('new-business')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span>15‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Ë≥™ÂïèÁÆ°ÁêÜ„Ç®„É™„Ç¢ -->
<div class="question-management">
    <div class="section-header">
        <h2 class="section-title">
            <span>üí¨</span>
            ÊäïË≥áÂÆ∂„Åã„Çâ„ÅÆË≥™ÂïèÁÆ°ÁêÜ
        </h2>
        <div class="section-actions">
            <button onclick="importQuestions()" class="action-button">
                Ë≥™Âïè„Çí„Ç§„É≥„Éù„Éº„Éà
            </button>
            <button onclick="showAIAssistant()" class="action-button primary">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                AIÂõûÁ≠îÊîØÊè¥
            </button>
        </div>
    </div>
    
    <div class="question-tabs">
        <button class="question-tab active" onclick="switchQuestionTab('unanswered')">
            Êú™ÂõûÁ≠î
            <span class="question-badge">26</span>
        </button>
        <button class="question-tab" onclick="switchQuestionTab('draft')">
            ‰∏ãÊõ∏„Åç
            <span class="question-badge">8</span>
        </button>
        <button class="question-tab" onclick="switchQuestionTab('answered')">
            ÂõûÁ≠îÊ∏à„Åø
        </button>
        <button class="question-tab" onclick="switchQuestionTab('faq')">
            FAQÂåñÊ∏à„Åø
        </button>
    </div>
    
    <div id="question-list" class="question-list">
        <!-- Êú™ÂõûÁ≠î„ÅÆË≥™Âïè‰æã -->
        <div class="question-item" onclick="openQuestionDetail('Q001')">
            <div class="question-header">
                <div class="question-meta">
                    <span>üè¢ ÈáéÊùë„Ç¢„Çª„ÉÉ„Éà„Éû„Éç„Ç∏„É°„É≥„Éà</span>
                    <span>‚Ä¢</span>
                    <span>2024/01/22 Èù¢Ë´á</span>
                    <span>‚Ä¢</span>
                    <span>Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá„Å´„Å§„ÅÑ„Å¶</span>
                </div>
                <div class="question-status">
                    <span class="status-badge status-new">Êñ∞Ë¶è</span>
                </div>
            </div>
            <p class="question-text">
                Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá35%„ÅÆÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅÂêÑÂú∞ÂüüÂà•„ÅÆÂ£≤‰∏äÁõÆÊ®ô„Å®ÊäïË≥áË®àÁîª„ÅÆË©≥Á¥∞„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                Áâπ„Å´„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„Åß„ÅÆÁ´∂ÂêàÂÑ™‰ΩçÊÄß„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´Á¢∫‰øù„Åô„Çã„ÅÆ„ÅãÔºü
            </p>
            <p class="question-context">
                Èñ¢ÈÄ£Ôºö‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª > ÂÆöÈáèÁõÆÊ®ô > Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá„ÄÅÈáçÁÇπÊñΩÁ≠ñ > „Ç¢„Ç∏„Ç¢Â±ïÈñã
            </p>
            <div class="question-actions">
                <button class="action-button primary" onclick="answerQuestion('Q001')">ÂõûÁ≠î‰ΩúÊàê</button>
                <button class="action-button" onclick="createFAQ('Q001')">FAQÂåñ</button>
                <button class="action-button" onclick="assignQuestion('Q001')">ÊãÖÂΩìËÄÖÂâ≤ÂΩì</button>
                <button class="action-button" onclick="relateQuestion('Q001')">È°û‰ººË≥™Âïè„ÇíË¶ã„Çã</button>
            </div>
        </div>
        
        <div class="question-item" onclick="openQuestionDetail('Q002')">
            <div class="question-header">
                <div class="question-meta">
                    <span>üåè BlackRock</span>
                    <span>‚Ä¢</span>
                    <span>2024/01/21 ÈõªË©±‰ºöË≠∞</span>
                    <span>‚Ä¢</span>
                    <span>DXÊäïË≥á„Å´„Å§„ÅÑ„Å¶</span>
                </div>
                <div class="question-status">
                    <span class="status-badge status-new">Êñ∞Ë¶è</span>
                </div>
            </div>
            <p class="question-text">
                DXÊäïË≥á300ÂÑÑÂÜÜ„ÅÆÂÜÖË®≥„Å®ÊúüÂæÖ„Åï„Çå„ÇãROI„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèË™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                „Åæ„Åü„ÄÅÊäïË≥áÂäπÊûú„ÅÆÊ∏¨ÂÆöÊñπÊ≥ï„Å®KPI„ÅÆË®≠ÂÆö„Å´„Å§„ÅÑ„Å¶Êïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
            </p>
            <p class="question-context">
                Èñ¢ÈÄ£Ôºö‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª > ÈáçÁÇπÊñΩÁ≠ñ > DXÊäïË≥á
            </p>
            <div class="question-actions">
                <button class="action-button primary" onclick="answerQuestion('Q002')">ÂõûÁ≠î‰ΩúÊàê</button>
                <button class="action-button" onclick="createFAQ('Q002')">FAQÂåñ</button>
                <button class="action-button" onclick="assignQuestion('Q002')">ÊãÖÂΩìËÄÖÂâ≤ÂΩì</button>
                <button class="action-button" onclick="relateQuestion('Q002')">È°û‰ººË≥™Âïè„ÇíË¶ã„Çã</button>
            </div>
        </div>
        
        <div class="question-item" onclick="openQuestionDetail('Q003')">
            <div class="question-header">
                <div class="question-meta">
                    <span>üå± ESGÊäïË≥á„Éï„Ç°„É≥„Éâ</span>
                    <span>‚Ä¢</span>
                    <span>2024/01/20 Êõ∏Èù¢</span>
                    <span>‚Ä¢</span>
                    <span>CO2ÂâäÊ∏õ„Å´„Å§„ÅÑ„Å¶</span>
                </div>
                <div class="question-status">
                    <span class="status-badge status-new">Êñ∞Ë¶è</span>
                </div>
            </div>
            <p class="question-text">
                CO2ÂâäÊ∏õÁéá50%ÈÅîÊàê„ÅÆ„Åü„ÇÅ„ÅÆÂÖ∑‰ΩìÁöÑ„Å™„É≠„Éº„Éâ„Éû„ÉÉ„Éó„Å®„ÄÅ
                „Çπ„Ç≥„Éº„Éó1„ÄÅ2„ÄÅ3„Åù„Çå„Åû„Çå„ÅÆÂâäÊ∏õË®àÁîª„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
            </p>
            <p class="question-context">
                Èñ¢ÈÄ£Ôºö‰∏≠ÊúüÁµåÂñ∂Ë®àÁîª > ÂÆöÈáèÁõÆÊ®ô > CO2ÂâäÊ∏õÁéá
            </p>
            <div class="question-actions">
                <button class="action-button primary" onclick="answerQuestion('Q003')">ÂõûÁ≠î‰ΩúÊàê</button>
                <button class="action-button" onclick="createFAQ('Q003')">FAQÂåñ</button>
                <button class="action-button" onclick="assignQuestion('Q003')">ÊãÖÂΩìËÄÖÂâ≤ÂΩì</button>
                <button class="action-button" onclick="relateQuestion('Q003')">È°û‰ººË≥™Âïè„ÇíË¶ã„Çã</button>
            </div>
        </div>
    </div>
</div>

<!-- FAQ‰ΩúÊàê„Ç®„É™„Ç¢ÔºàÂàùÊúü„ÅØÈùûË°®Á§∫Ôºâ -->
<div id="faq-editor" class="faq-editor" style="display: none;">
    <div class="faq-editor-header">
        <h3 class="faq-editor-title">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            AIÊîØÊè¥FAQ‰ΩúÊàê
        </h3>
        <div class="ai-indicator active">
            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
            AI„ÅåÂàÜÊûê‰∏≠...
        </div>
    </div>
    
    <div class="faq-form">
        <div class="form-section">
            <label class="form-label">ÂÖÉ„ÅÆË≥™Âïè</label>
            <div class="p-3 bg-gray-50 rounded-lg text-sm" id="original-question">
                <!-- ÂãïÁöÑ„Å´ÊåøÂÖ• -->
            </div>
        </div>
        
        <div class="form-section">
            <label class="form-label">„Ç´„ÉÜ„Ç¥„É™„Éº</label>
            <select class="form-input" id="faq-category">
                <option>Ë≤°Âãô„ÉªÊ•≠Á∏æ</option>
                <option>ÁµåÂñ∂Êà¶Áï•</option>
                <option>ESG„Éª„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£</option>
                <option>„Ç¨„Éê„Éä„É≥„Çπ</option>
                <option>‰∫ãÊ•≠Â±ïÈñã</option>
                <option>ÊäÄË°ì„ÉªÁ†îÁ©∂ÈñãÁô∫</option>
            </select>
        </div>
        
        <div class="form-section">
            <label class="form-label">FAQÁî®„ÅÆË≥™ÂïèÊñá</label>
            <input type="text" class="form-input" id="faq-question" 
                placeholder="ÊäïË≥áÂÆ∂„Å´„Å®„Å£„Å¶„Çè„Åã„Çä„ÇÑ„Åô„ÅÑË≥™ÂïèÊñá„Å´Á∑®ÈõÜ">
            
            <div class="ai-suggestions">
                <div class="text-xs font-semibold text-teal-700 mb-2">AIÊèêÊ°à</div>
                <div class="ai-suggestion-item" onclick="applyAISuggestion('question', 1)">
                    <div class="suggestion-icon">üí°</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">„Çà„ÇäÊ±éÁî®ÁöÑ„Å™Ë°®Áèæ</div>
                        <div class="suggestion-text">
                            „ÄåÊµ∑Â§ñÂ±ïÈñã„Å´„Åä„Åë„ÇãÂú∞ÂüüÂà•„ÅÆÂ£≤‰∏äÁõÆÊ®ô„Å®ÊäïË≥áË®àÁîª„Å´„Å§„ÅÑ„Å¶Êïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„Äç
                        </div>
                    </div>
                    <span class="suggestion-action">ÈÅ©Áî®</span>
                </div>
                <div class="ai-suggestion-item" onclick="applyAISuggestion('question', 2)">
                    <div class="suggestion-icon">üéØ</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">ÁÑ¶ÁÇπ„ÇíÁµû„Å£„ÅüË°®Áèæ</div>
                        <div class="suggestion-text">
                            „Äå„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„Åß„ÅÆÊàêÈï∑Êà¶Áï•„Å®Á´∂ÂêàÂÑ™‰ΩçÊÄß„Å´„Å§„ÅÑ„Å¶„Äç
                        </div>
                    </div>
                    <span class="suggestion-action">ÈÅ©Áî®</span>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <label class="form-label">ÂõûÁ≠î</label>
            <textarea class="form-textarea" id="faq-answer" 
                placeholder="ÊòéÁ¢∫„ÅßÂåÖÊã¨ÁöÑ„Å™ÂõûÁ≠î„ÇíË®òËºâ"></textarea>
            
            <div class="ai-suggestions">
                <div class="text-xs font-semibold text-teal-700 mb-2">AIÊèêÊ°àÔºàÈñãÁ§∫Ê∏à„ÅøÊÉÖÂ†±„Åã„ÇâÁîüÊàêÔºâ</div>
                <div class="ai-suggestion-item" onclick="applyAISuggestion('answer', 1)">
                    <div class="suggestion-icon">üìä</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">Êï∞ÂÄ§„ÇíÂê´„ÇÄÂÖ∑‰ΩìÁöÑÂõûÁ≠î</div>
                        <div class="suggestion-text">
                            „Äå2026Âπ¥Â∫¶„ÅÆÊµ∑Â§ñÂ£≤‰∏äÊØîÁéá35%ÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅ„Ç¢„Ç∏„Ç¢Âú∞Âüü„Åß200ÂÑÑÂÜÜÔºàÂÖ®‰Ωì„ÅÆ60%Ôºâ„ÄÅ
                            ÂåóÁ±≥„Åß100ÂÑÑÂÜÜÔºà30%Ôºâ„ÄÅÊ¨ßÂ∑û„Åß30ÂÑÑÂÜÜÔºà10%Ôºâ„ÅÆÂ£≤‰∏ä„ÇíË®àÁîª„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                            ÊäïË≥áÈ°ç„ÅØ3Âπ¥Èñì„ÅßÁ∑èÈ°ç150ÂÑÑÂÜÜ„Çí‰∫àÂÆö„Åó„ÄÅÁèæÂú∞Ê≥ï‰∫∫Ë®≠Á´ã„ÄÅÁâ©ÊµÅÊã†ÁÇπÊßãÁØâ„ÄÅ
                            „Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞Âº∑Âåñ„Å´ÂÖÖÂΩì„Åó„Åæ„Åô„ÄÇ„Äç
                        </div>
                    </div>
                    <span class="suggestion-action">ÈÅ©Áî®</span>
                </div>
                <div class="ai-suggestion-item" onclick="applyAISuggestion('answer', 2)">
                    <div class="suggestion-icon">üîç</div>
                    <div class="suggestion-content">
                        <div class="suggestion-title">Èñ¢ÈÄ£ÊÉÖÂ†±„É™„É≥„ÇØ‰ªò„Åç</div>
                        <div class="suggestion-text">
                            ‰∏äË®ò„Å´Âä†„Åà„Å¶„ÄåË©≥Á¥∞„ÅØÁµ±ÂêàÂ†±ÂëäÊõ∏P.45-48„Äé„Ç∞„É≠„Éº„Éê„É´Â±ïÈñãÊà¶Áï•„Äè„Çí„ÅîÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„Äç„ÇíËøΩÂä†
                        </div>
                    </div>
                    <span class="suggestion-action">ËøΩÂä†</span>
                </div>
            </div>
        </div>
        
        <div class="form-section">
            <label class="form-label">Èñ¢ÈÄ£Ë≥áÊñô„Éª„É™„É≥„ÇØ</label>
            <div class="space-y-2">
                <div class="flex items-center gap-2">
                    <input type="checkbox" id="link-1" checked>
                    <label for="link-1" class="text-sm">2024Âπ¥5ÊúàÊúüÊ±∫ÁÆóË™¨ÊòéË≥áÊñô P.23-25</label>
                </div>
                <div class="flex items-center gap-2">
                    <input type="checkbox" id="link-2" checked>
                    <label for="link-2" class="text-sm">‰∏≠ÊúüÁµåÂñ∂Ë®àÁîªË™¨ÊòéË≥áÊñô P.12-15</label>
                </div>
                <div class="flex items-center gap-2">
                    <input type="checkbox" id="link-3">
                    <label for="link-3" class="text-sm">Áµ±ÂêàÂ†±ÂëäÊõ∏2023 P.45-48</label>
                </div>
            </div>
        </div>
        
        <div class="flex gap-3 mt-6">
            <button onclick="saveFAQ()" class="action-button primary">‰øùÂ≠ò„Åó„Å¶FAQÂÖ¨Èñã</button>
            <button onclick="saveDraft()" class="action-button">‰∏ãÊõ∏„Åç‰øùÂ≠ò</button>
            <button onclick="previewFAQ()" class="action-button">„Éó„É¨„Éì„É•„Éº</button>
            <button onclick="closeFAQEditor()" class="action-button">„Ç≠„É£„É≥„Çª„É´</button>
        </div>
    </div>
</div>

<!-- ÂÖ¨ÈñãFAQ‰∏ÄË¶ß -->
<div class="public-faq-section">
    <div class="section-header">
        <h2 class="section-title">
            <span>üìö</span>
            ÂÖ¨ÈñãFAQ
        </h2>
        <div class="section-actions">
            <input type="search" placeholder="FAQ„ÇíÊ§úÁ¥¢..." class="form-input" style="width: 200px;">
            <button onclick="exportFAQ()" class="action-button">„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
            <button onclick="manageFAQOrder()" class="action-button">‰∏¶„Å≥È†ÜÁÆ°ÁêÜ</button>
        </div>
    </div>
    
    <!-- Ë≤°Âãô„ÉªÊ•≠Á∏æ„Ç´„ÉÜ„Ç¥„É™„Éº -->
    <div class="faq-category">
        <div class="category-header" onclick="toggleCategory('financial')">
            <div class="category-icon">üí∞</div>
            <h3 class="category-title">Ë≤°Âãô„ÉªÊ•≠Á∏æ</h3>
            <span class="category-count">12‰ª∂</span>
            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </div>
        
        <div class="faq-list" id="financial-faqs">
            <div class="faq-item draggable" draggable="true" onclick="toggleFAQ(this)">
                <div class="faq-question">
                    <span>Q.</span>
                    2026Âπ¥Â∫¶„ÅÆÂ£≤‰∏äÈ´ò1,500ÂÑÑÂÜÜÈÅîÊàê„ÅÆÂâçÊèêÊù°‰ª∂„Å®ÂÜÖË®≥„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                </div>
                <div class="faq-answer">
                    Â£≤‰∏äÈ´ò1,500ÂÑÑÂÜÜ„ÅÆÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅÊó¢Â≠ò‰∫ãÊ•≠„Åß1,200ÂÑÑÂÜÜÔºàÂπ¥Âπ≥ÂùáÊàêÈï∑Áéá3%Ôºâ„ÄÅ
                    Êñ∞Ë¶è‰∫ãÊ•≠„Åß300ÂÑÑÂÜÜ„ÇíË®àÁîª„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂú∞ÂüüÂà•„Åß„ÅØÂõΩÂÜÖ900ÂÑÑÂÜÜ„ÄÅÊµ∑Â§ñ600ÂÑÑÂÜÜÔºàÊµ∑Â§ñÊØîÁéá40%Ôºâ„Çí
                    Ë¶ãËæº„Çì„Åß„Åä„Çä„ÄÅÁâπ„Å´„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„Åß„ÅÆÊàêÈï∑„ÇíÈáçË¶ñ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                    ÁÇ∫Êõø„É¨„Éº„Éà„ÅØ1„Éâ„É´=140ÂÜÜ„ÇíÂâçÊèê„Å®„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ
                </div>
                <div class="faq-meta">
                    <span class="faq-stats">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                        Èñ≤Ë¶ß: 234Âõû
                    </span>
                    <span class="faq-stats">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        ÊúâÁî®: 89%
                    </span>
                    <span>ÊúÄÁµÇÊõ¥Êñ∞: 2024/01/15</span>
                    <button onclick="editFAQ('FAQ001')" class="text-blue-600 hover:text-blue-700 text-sm">Á∑®ÈõÜ</button>
                </div>
            </div>
            
            <div class="faq-item draggable" draggable="true" onclick="toggleFAQ(this)">
                <div class="faq-question">
                    <span>Q.</span>
                    Âñ∂Ê•≠Âà©ÁõäÁéá15%ÈÅîÊàê„ÅÆ„Åü„ÇÅ„ÅÆÂÖ∑‰ΩìÁöÑ„Å™ÊñΩÁ≠ñ„Å´„Å§„ÅÑ„Å¶Êïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                </div>
                <div class="faq-answer">
                    Âñ∂Ê•≠Âà©ÁõäÁéá15%„ÅÆÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅ‰ª•‰∏ã„ÅÆÊñΩÁ≠ñ„ÇíÂÆüÊñΩ„Åó„Åæ„ÅôÔºö
                    1) È´ò‰ªòÂä†‰æ°ÂÄ§Ë£ΩÂìÅ„Å∏„ÅÆ„Ç∑„Éï„Éà„Å´„Çà„ÇãÁ≤óÂà©ÁéáÊîπÂñÑÔºà+2.0ptÔºâ
                    2) DXÊé®ÈÄ≤„Å´„Çà„ÇãÊ•≠ÂãôÂäπÁéáÂåñ„Åß„ÅÆ„Ç≥„Çπ„ÉàÂâäÊ∏õÔºà+1.5ptÔºâ
                    3) Ë¶èÊ®°Êã°Â§ß„Å´„Çà„ÇãÂõ∫ÂÆöË≤ªÁéá„ÅÆ‰ΩéÊ∏õÔºà+1.2ptÔºâ
                    „Åì„Çå„Çâ„Å´„Çà„Çä„ÄÅÁèæÂú®„ÅÆ12.3%„Åã„ÇâÊÆµÈöéÁöÑ„Å´ÊîπÂñÑ„ÇíÂõ≥„Çä„Åæ„Åô„ÄÇ
                </div>
                <div class="faq-meta">
                    <span class="faq-stats">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                        Èñ≤Ë¶ß: 189Âõû
                    </span>
                    <span class="faq-stats">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                        </svg>
                        ÊúâÁî®: 92%
                    </span>
                    <span>ÊúÄÁµÇÊõ¥Êñ∞: 2024/01/10</span>
                    <button onclick="editFAQ('FAQ002')" class="text-blue-600 hover:text-blue-700 text-sm">Á∑®ÈõÜ</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ESG„Éª„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£„Ç´„ÉÜ„Ç¥„É™„Éº -->
    <div class="faq-category">
        <div class="category-header" onclick="toggleCategory('esg')">
            <div class="category-icon">üå±</div>
            <h3 class="category-title">ESG„Éª„Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£</h3>
            <span class="category-count">8‰ª∂</span>
            <svg class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
        </div>
        
        <div class="faq-list" id="esg-faqs" style="display: none;">
            <!-- ESGÈñ¢ÈÄ£„ÅÆFAQ -->
        </div>
    </div>
</div>

<!-- „Éï„É≠„Éº„ÉÜ„Ç£„É≥„Ç∞„Ç¢„ÇØ„Ç∑„Éß„É≥ -->
<div class="fixed bottom-6 right-6 flex flex-col gap-3">
    <button onclick="showAIAssistant()" class="px-6 py-3 bg-kagami-blue text-white rounded-full shadow-lg hover:bg-kagami-blue-dark transition-all flex items-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
        AIÂõûÁ≠î„Ç¢„Ç∑„Çπ„Çø„É≥„Éà
    </button>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // ÁõÆÊ®ôË©≥Á¥∞ÁîªÈù¢Ë°®Á§∫
    function showTargetDetail(targetId) {
        const targetData = getTargetData(targetId);
        
        const modalContent = `
            <div class="target-detail-modal" data-target-id="${targetId}">
                <!-- „Éò„ÉÉ„ÉÄ„ÉºÈÉ®ÂàÜ -->
                <div class="detail-header">
                    <div class="detail-title-section">
                        <h3 class="text-xl font-bold text-gray-900">${targetData.name}</h3>
                        <p class="text-sm text-gray-600 mt-1">${targetData.description}</p>
                    </div>
                    <div class="detail-status">
                        <span class="status-badge ${targetData.status === 'on-track' ? 'status-on-track' : 'status-at-risk'}">
                            ${targetData.status === 'on-track' ? 'È†ÜË™ø' : 'Ë¶ÅÊ≥®ÊÑè'}
                        </span>
                    </div>
                </div>
                
                <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
                <div class="detail-tabs">
                    <button class="detail-tab active" onclick="switchDetailTab('overview')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                        </svg>
                        Ê¶ÇË¶Å
                    </button>
                    <button class="detail-tab" onclick="switchDetailTab('progress')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                        </svg>
                        ÈÄ≤Êçó
                    </button>
                    <button class="detail-tab" onclick="switchDetailTab('questions')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z" />
                        </svg>
                        Ë≥™Âïè <span class="tab-badge">${targetData.questionCount}</span>
                    </button>
                    <button class="detail-tab" onclick="switchDetailTab('history')">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Â±•Ê≠¥
                    </button>
                </div>
                
                <!-- „Ç≥„É≥„ÉÜ„É≥„ÉÑ„Ç®„É™„Ç¢ -->
                <div id="detail-content" class="detail-content">
                    ${getDetailContent('overview', targetData)}
                </div>
                
                <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éï„ÉÉ„Çø„Éº -->
                <div class="detail-footer">
                    <button onclick="editTarget('${targetId}')" class="btn-primary">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                        </svg>
                        Á∑®ÈõÜ
                    </button>
                    <button onclick="updateProgress('${targetId}')" class="btn-secondary">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                        </svg>
                        ÈÄ≤ÊçóÊõ¥Êñ∞
                    </button>
                    <button onclick="createTargetFAQ('${targetId}')" class="btn-secondary">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                        </svg>
                        FAQ‰ΩúÊàê
                    </button>
                </div>
            </div>
        `;
        
        // showModalÈñ¢Êï∞„Å´size„Éë„É©„É°„Éº„Çø„Åå„ÅÇ„ÇãÂ†¥Âêà
        const modalOptions = {
            title: targetData.name,
            content: modalContent,
            confirmText: null,
            cancelText: 'Èñâ„Åò„Çã'
        };
        
        // „É¢„Éº„ÉÄ„É´„ÇíÂ§ß„Åç„ÅèË°®Á§∫
        if (typeof showModal === 'function') {
            showModal(modalOptions);
        }
    }
    
    // ÁõÆÊ®ô„Éá„Éº„ÇøÂèñÂæó
    function getTargetData(targetId) {
        const targets = {
            'revenue': {
                id: 'revenue',
                name: 'Â£≤‰∏äÈ´ò',
                value: '1,500ÂÑÑÂÜÜ',
                baseline: '2023Âπ¥Â∫¶ÂÆüÁ∏æ: 1,200ÂÑÑÂÜÜÔºà+25%Ôºâ',
                description: '2026Âπ¥Â∫¶„Å´„Åä„Åë„ÇãÂ£≤‰∏äÈ´òÁõÆÊ®ô',
                status: 'on-track',
                progress: 42,
                questionCount: 8,
                lastUpdate: '2024/01/20',
                responsible: 'ÁµåÂñ∂‰ºÅÁîªÈÉ®„ÉªË≤°ÂãôÈÉ®',
                milestones: [
                    { date: '2024/03', target: '1,250ÂÑÑÂÜÜ', actual: '1,245ÂÑÑÂÜÜ', status: 'completed' },
                    { date: '2024/09', target: '1,300ÂÑÑÂÜÜ', actual: null, status: 'pending' },
                    { date: '2025/03', target: '1,350ÂÑÑÂÜÜ', actual: null, status: 'pending' },
                    { date: '2025/09', target: '1,425ÂÑÑÂÜÜ', actual: null, status: 'pending' },
                    { date: '2026/03', target: '1,500ÂÑÑÂÜÜ', actual: null, status: 'pending' }
                ]
            },
            'operating-margin': {
                id: 'operating-margin',
                name: 'Âñ∂Ê•≠Âà©ÁõäÁéá',
                value: '15.0%',
                baseline: '2023Âπ¥Â∫¶ÂÆüÁ∏æ: 12.3%Ôºà+2.7ptÔºâ',
                description: 'È´ò‰ªòÂä†‰æ°ÂÄ§Âåñ„Å®ÂäπÁéáÂåñ„Å´„Çà„ÇãÂà©ÁõäÁéáÂêë‰∏ä',
                status: 'on-track',
                progress: 65,
                questionCount: 0,
                lastUpdate: '2024/01/22',
                responsible: 'ÁµåÂñ∂‰ºÅÁîªÈÉ®„ÉªCFO'
            },
            'dx-investment': {
                id: 'dx-investment',
                name: 'DXÊäïË≥á',
                value: '3Âπ¥Èñì„Åß300ÂÑÑÂÜÜ',
                baseline: 'Âü∫Âππ„Ç∑„Çπ„ÉÜ„É†Âà∑Êñ∞„ÄÅAIÊ¥ªÁî®„ÄÅ„Éá„Éº„ÇøÂü∫Áõ§ÊßãÁØâ',
                description: '„Éá„Ç∏„Çø„É´Â§âÈù©„Å´„Çà„ÇãÁ´∂‰∫âÂäõÂº∑Âåñ',
                status: 'at-risk',
                progress: 35,
                questionCount: 12,
                lastUpdate: '2024/01/18',
                responsible: 'DXÊé®ÈÄ≤ÂÆ§„ÉªITÈÉ®ÈñÄ'
            },
            'roe': {
                id: 'roe',
                name: 'ROE',
                value: '12.0%',
                baseline: '2023Âπ¥Â∫¶ÂÆüÁ∏æ: 10.5%Ôºà+1.5ptÔºâ',
                description: 'Ë≥áÊú¨ÂäπÁéá„ÅÆÂêë‰∏ä„ÇíÈÄö„Åò„Åü‰ºÅÊ•≠‰æ°ÂÄ§Âêë‰∏ä',
                status: 'on-track',
                progress: 58,
                questionCount: 3,
                lastUpdate: '2024/01/21',
                responsible: 'CFO„ÉªË≤°ÂãôÈÉ®'
            },
            'dividend-ratio': {
                id: 'dividend-ratio',
                name: 'ÈÖçÂΩìÊÄßÂêë',
                value: '40%',
                baseline: '2023Âπ¥Â∫¶ÂÆüÁ∏æ: 35%Ôºà+5ptÔºâ',
                description: 'Ê†™‰∏ªÈÇÑÂÖÉ„ÅÆÂº∑Âåñ',
                status: 'on-track',
                progress: 70,
                questionCount: 0,
                lastUpdate: '2024/01/19',
                responsible: 'CFO„ÉªË≤°ÂãôÈÉ®'
            },
            'overseas-ratio': {
                id: 'overseas-ratio',
                name: 'Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá',
                value: '35%',
                baseline: '2023Âπ¥Â∫¶ÂÆüÁ∏æ: 22%Ôºà+13ptÔºâ',
                description: '„Ç∞„É≠„Éº„Éê„É´Â±ïÈñã„ÅÆÂä†ÈÄü',
                status: 'on-track',
                progress: 45,
                questionCount: 5,
                lastUpdate: '2024/01/22',
                responsible: 'ÂõΩÈöõ‰∫ãÊ•≠ÈÉ®'
            },
            'co2-reduction': {
                id: 'co2-reduction',
                name: 'CO2ÂâäÊ∏õÁéá',
                value: '-50%',
                baseline: '2020Âπ¥Â∫¶ÊØîÔºàÁèæÂú®: -28%Ôºâ',
                description: '„Ç´„Éº„Éú„É≥„Éã„É•„Éº„Éà„É©„É´„Å∏„ÅÆÂèñ„ÇäÁµÑ„Åø',
                status: 'on-track',
                progress: 56,
                questionCount: 7,
                lastUpdate: '2024/01/20',
                responsible: 'ESGÊé®ÈÄ≤ÂÆ§'
            },
            'asia-expansion': {
                id: 'asia-expansion',
                name: '„Ç¢„Ç∏„Ç¢Â±ïÈñã',
                value: '5„Ç´ÂõΩÊñ∞Ë¶èÈÄ≤Âá∫',
                baseline: '„Ç§„É≥„Éâ„Éç„Ç∑„Ç¢„ÄÅ„Éô„Éà„Éä„É†„ÄÅ„Çø„Ç§„ÄÅ„Éû„É¨„Éº„Ç∑„Ç¢„ÄÅ„Éï„Ç£„É™„Éî„É≥',
                description: '„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„Åß„ÅÆ„Éó„É¨„Çº„É≥„ÇπÊã°Â§ß',
                status: 'on-track',
                progress: 40,
                questionCount: 18,
                lastUpdate: '2024/01/21',
                responsible: 'ÂõΩÈöõ‰∫ãÊ•≠ÈÉ®'
            },
            'new-business': {
                id: 'new-business',
                name: 'Êñ∞Ë¶è‰∫ãÊ•≠',
                value: 'Â£≤‰∏äÊßãÊàêÊØî20%',
                baseline: '„Éò„É´„Çπ„Ç±„Ç¢„ÄÅ„Ç∞„É™„Éº„É≥„ÉÜ„ÉÉ„ÇØ„ÄÅSaaS‰∫ãÊ•≠',
                description: 'Êñ∞„Åü„Å™ÊàêÈï∑„Ç®„É≥„Ç∏„É≥„ÅÆÁ¢∫Á´ã',
                status: 'at-risk',
                progress: 25,
                questionCount: 15,
                lastUpdate: '2024/01/19',
                responsible: 'Êñ∞Ë¶è‰∫ãÊ•≠ÈñãÁô∫ÈÉ®'
            }
        };
        return targets[targetId] || targets['revenue'];
    }
    
    // Ë©≥Á¥∞„Ç≥„É≥„ÉÜ„É≥„ÉÑÂèñÂæó
    function getDetailContent(tab, targetData) {
        switch(tab) {
            case 'overview':
                return `
                    <div class="overview-content">
                        <!-- „É™„Ç¢„É´„Çø„Ç§„É†„Ç≥„É©„Éú„É¨„Éº„Ç∑„Éß„É≥„Ç§„É≥„Ç∏„Ç±„Éº„Çø„Éº -->
                        <div class="collaboration-indicator">
                            <div class="active-users">
                                <div class="user-avatar">TY</div>
                                <div class="user-avatar" style="background: #3b82f6;">SH</div>
                                <div class="user-avatar" style="background: #f59e0b;">KI</div>
                            </div>
                            <span>3Âêç„Åå„Åì„ÅÆÈ†ÖÁõÆ„ÇíÁ∑®ÈõÜ‰∏≠</span>
                            <div style="margin-left: auto; font-size: 0.75rem;">
                                ÊúÄÁµÇÊõ¥Êñ∞: ${targetData.lastUpdate} 14:32
                            </div>
                        </div>
                        
                        <!-- Âü∫Êú¨ÊÉÖÂ†± -->
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="info-block">
                                <label class="text-sm text-gray-600">ÁõÆÊ®ôÂÄ§</label>
                                <p class="text-lg font-semibold">${targetData.value}</p>
                            </div>
                            <div class="info-block">
                                <label class="text-sm text-gray-600">Âü∫Ê∫ñÂÄ§</label>
                                <p class="text-sm">${targetData.baseline}</p>
                            </div>
                            <div class="info-block">
                                <label class="text-sm text-gray-600">ÊãÖÂΩìÈÉ®ÈñÄ</label>
                                <p class="text-sm">${targetData.responsible}</p>
                            </div>
                            <div class="info-block">
                                <label class="text-sm text-gray-600">ÈÄ≤ÊçóÁéá</label>
                                <div class="flex items-center gap-2">
                                    <div class="progress-bar" style="width: 100px;">
                                        <div class="progress-fill" style="width: ${targetData.progress}%;"></div>
                                    </div>
                                    <span class="text-sm font-medium">${targetData.progress}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Èñ¢ÈÄ£ÊåáÊ®ô -->
                        <div class="related-metrics">
                            <h4 class="font-medium text-gray-900 mb-3">Èñ¢ÈÄ£ÊåáÊ®ô</h4>
                            <div class="grid grid-cols-3 gap-3">
                                <div class="metric-card">
                                    <div class="metric-label">ÂõΩÂÜÖÂ£≤‰∏ä</div>
                                    <div class="metric-value">900ÂÑÑÂÜÜ</div>
                                    <div class="metric-change positive">+3.2%</div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Êµ∑Â§ñÂ£≤‰∏ä</div>
                                    <div class="metric-value">600ÂÑÑÂÜÜ</div>
                                    <div class="metric-change positive">+8.5%</div>
                                </div>
                                <div class="metric-card">
                                    <div class="metric-label">Êñ∞Ë¶è‰∫ãÊ•≠</div>
                                    <div class="metric-value">300ÂÑÑÂÜÜ</div>
                                    <div class="metric-change">-</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- „É™„Çπ„ÇØ„Å®Ê©ü‰ºö -->
                        <div class="risks-opportunities mt-6">
                            <h4 class="font-medium text-gray-900 mb-3">„É™„Çπ„ÇØ„Å®Ê©ü‰ºö</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="risk-card">
                                    <h5 class="text-sm font-medium text-red-900 mb-2">üö® „É™„Çπ„ÇØ</h5>
                                    <ul class="text-sm text-gray-700 space-y-1">
                                        <li>‚Ä¢ ÁÇ∫ÊõøÂ§âÂãï„ÅÆÂΩ±ÈüøÔºà1„Éâ„É´5ÂÜÜ„ÅßÁ¥Ñ30ÂÑÑÂÜÜ„ÅÆÂΩ±ÈüøÔºâ</li>
                                        <li>‚Ä¢ ÂéüÊùêÊñô‰æ°Ê†º„ÅÆÈ´òÈ®∞</li>
                                        <li>‚Ä¢ Á´∂‰∫âÊøÄÂåñ„Å´„Çà„Çã‰æ°Ê†º‰∏ãËêΩÂúßÂäõ</li>
                                    </ul>
                                </div>
                                <div class="opportunity-card">
                                    <h5 class="text-sm font-medium text-green-900 mb-2">üí° Ê©ü‰ºö</h5>
                                    <ul class="text-sm text-gray-700 space-y-1">
                                        <li>‚Ä¢ „Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„ÅÆÊàêÈï∑Âä†ÈÄü</li>
                                        <li>‚Ä¢ DXÈúÄË¶Å„ÅÆÊã°Â§ß</li>
                                        <li>‚Ä¢ M&A„Å´„Çà„ÇãÊàêÈï∑Âä†ÈÄü„ÅÆ‰ΩôÂú∞</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .info-block {
                            background: #f9fafb;
                            padding: 12px;
                            border-radius: 8px;
                        }
                        .metric-card {
                            background: white;
                            border: 1px solid #e5e7eb;
                            padding: 12px;
                            border-radius: 8px;
                            text-align: center;
                        }
                        .metric-label {
                            font-size: 0.75rem;
                            color: #6b7280;
                            margin-bottom: 4px;
                        }
                        .metric-value {
                            font-size: 1.125rem;
                            font-weight: 600;
                            color: #111827;
                        }
                        .metric-change {
                            font-size: 0.75rem;
                            color: #6b7280;
                        }
                        .metric-change.positive {
                            color: #10b981;
                        }
                        .risk-card, .opportunity-card {
                            background: #fef2f2;
                            padding: 16px;
                            border-radius: 8px;
                        }
                        .opportunity-card {
                            background: #f0fdf4;
                        }
                    </style>
                `;
                
            case 'progress':
                return `
                    <div class="progress-content">
                        <!-- ÈÄ≤Êçó„ÉÅ„É£„Éº„Éà -->
                        <div class="progress-chart">
                            <h4 class="font-medium text-gray-900 mb-4">ÈÄ≤ÊçóÊé®Áßª</h4>
                            <canvas id="progress-chart-${targetData.id}" height="200"></canvas>
                        </div>
                        
                        <!-- „Éû„Ç§„É´„Çπ„Éà„Éº„É≥ -->
                        <div class="milestones mt-6">
                            <h4 class="font-medium text-gray-900 mb-4">„Éû„Ç§„É´„Çπ„Éà„Éº„É≥</h4>
                            <div class="timeline-line"></div>
                            ${targetData.milestones ? targetData.milestones.map(milestone => `
                                <div class="timeline-item">
                                    <div class="timeline-date">${milestone.date}</div>
                                    <div class="timeline-marker ${milestone.status === 'completed' ? '' : 'pending'}"></div>
                                    <div class="timeline-content">
                                        <div class="flex justify-between items-start">
                                            <div>
                                                <div class="font-medium">ÁõÆÊ®ô: ${milestone.target}</div>
                                                ${milestone.actual ? `<div class="text-sm text-gray-600">ÂÆüÁ∏æ: ${milestone.actual}</div>` : ''}
                                            </div>
                                            <span class="text-xs px-2 py-1 rounded ${milestone.status === 'completed' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}">
                                                ${milestone.status === 'completed' ? 'ÈÅîÊàê' : '‰∫àÂÆö'}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            `).join('') : ''}
                        </div>
                        
                        <!-- ÊâøË™ç„ÉØ„Éº„ÇØ„Éï„É≠„Éº -->
                        <div class="approval-flow mt-6">
                            <h4 class="font-medium text-gray-900 mb-4">ÈÄ≤ÊçóÊõ¥Êñ∞ÊâøË™ç„Éï„É≠„Éº</h4>
                            <div class="approval-step">
                                <div class="approval-status approval-approved">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">ÊãÖÂΩìÈÉ®ÈñÄÁ¢∫Ë™ç</div>
                                    <div class="text-sm text-gray-600">Áî∞‰∏≠Â§™ÈÉéÔºàÁµåÂñ∂‰ºÅÁîªÈÉ®Ôºâ - 2024/01/20 10:30</div>
                                </div>
                            </div>
                            <div class="approval-step">
                                <div class="approval-status approval-pending">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">CFOÊâøË™ç</div>
                                    <div class="text-sm text-gray-600">ÊâøË™çÂæÖ„Å°</div>
                                </div>
                            </div>
                            <div class="approval-step">
                                <div class="approval-status approval-waiting">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <div class="font-medium">CEOÊúÄÁµÇÊâøË™ç</div>
                                    <div class="text-sm text-gray-600">Êú™ÂÆüÊñΩ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
            case 'questions':
                return `
                    <div class="questions-content">
                        <!-- Ë≥™Âïè„Éí„Éº„Éà„Éû„ÉÉ„Éó -->
                        <div class="heatmap-container">
                            <h4 class="font-medium text-gray-900 mb-4">ÊäïË≥áÂÆ∂Èñ¢ÂøÉÂ∫¶„Éí„Éº„Éà„Éû„ÉÉ„ÉóÔºàÈÅéÂéª30Êó•Ôºâ</h4>
                            <div class="heatmap-grid">
                                ${generateHeatmap()}
                            </div>
                            <div class="text-xs text-gray-500 mt-2">‚Äª ÊøÉ„ÅÑËâ≤„Åª„Å©Ë≥™Âïè„ÅåÂ§ö„ÅÑÊó•</div>
                        </div>
                        
                        <!-- Ë≥™Âïè„É™„Çπ„Éà -->
                        <div class="questions-list mt-6">
                            <h4 class="font-medium text-gray-900 mb-4">Èñ¢ÈÄ£„Åô„ÇãË≥™ÂïèÔºà${targetData.questionCount}‰ª∂Ôºâ</h4>
                            <div class="space-y-3">
                                <div class="question-summary-card">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center gap-2">
                                            <span class="text-sm font-medium">ÈáéÊùë„Ç¢„Çª„ÉÉ„Éà„Éû„Éç„Ç∏„É°„É≥„Éà</span>
                                            <span class="text-xs text-gray-500">2024/01/22</span>
                                        </div>
                                        <span class="status-badge status-new">Êú™ÂõûÁ≠î</span>
                                    </div>
                                    <p class="text-sm text-gray-700 mb-2">
                                        Â£≤‰∏äÈ´ò1,500ÂÑÑÂÜÜÈÅîÊàê„ÅÆÂâçÊèêÊù°‰ª∂„Å®„Åó„Å¶„ÄÅÁÇ∫Êõø„É¨„Éº„Éà„ÅÆÊÉ≥ÂÆö„ÅØ„Å©„ÅÆÁ®ãÂ∫¶„Åß„Åô„ÅãÔºü
                                    </p>
                                    <div class="flex gap-2">
                                        <button onclick="answerQuestion('Q004')" class="text-xs px-3 py-1 bg-kagami-blue text-white rounded">ÂõûÁ≠î‰ΩúÊàê</button>
                                        <button onclick="viewSimilar('Q004')" class="text-xs px-3 py-1 border border-gray-300 rounded">È°û‰ººË≥™Âïè</button>
                                    </div>
                                </div>
                                
                                <div class="question-summary-card">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="flex items-center gap-2">
                                            <span class="text-sm font-medium">BlackRock</span>
                                            <span class="text-xs text-gray-500">2024/01/20</span>
                                        </div>
                                        <span class="status-badge status-answered">ÂõûÁ≠îÊ∏à</span>
                                    </div>
                                    <p class="text-sm text-gray-700 mb-2">
                                        Êñ∞Ë¶è‰∫ãÊ•≠„ÅÆ300ÂÑÑÂÜÜ„ÅØ„Å©„ÅÆ„Çà„ÅÜ„Å™ÂàÜÈáé„ÇíÊÉ≥ÂÆö„Åó„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü
                                    </p>
                                    <div class="flex gap-2">
                                        <button onclick="viewAnswer('Q005')" class="text-xs px-3 py-1 border border-gray-300 rounded">ÂõûÁ≠î„ÇíË¶ã„Çã</button>
                                        <button onclick="createFAQ('Q005')" class="text-xs px-3 py-1 border border-gray-300 rounded">FAQÂåñ</button>
                                    </div>
                                </div>
                            </div>
                            
                            <button onclick="showAllQuestions('${targetData.id}')" class="mt-4 text-sm text-kagami-blue hover:text-kagami-blue-dark">
                                „Åô„Åπ„Å¶„ÅÆË≥™Âïè„ÇíË¶ã„Çã ‚Üí
                            </button>
                        </div>
                    </div>
                    
                    <style>
                        .question-summary-card {
                            background: #f9fafb;
                            padding: 16px;
                            border-radius: 8px;
                            border: 1px solid #e5e7eb;
                        }
                    </style>
                `;
                
            case 'history':
                return `
                    <div class="history-content">
                        <h4 class="font-medium text-gray-900 mb-4">Â§âÊõ¥Â±•Ê≠¥</h4>
                        <div class="space-y-3">
                            <div class="history-item">
                                <div class="flex items-start gap-3">
                                    <div class="history-icon">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="font-medium text-sm">Áî∞‰∏≠Â§™ÈÉé</span>
                                            <span class="text-xs text-gray-500">2024/01/20 14:32</span>
                                        </div>
                                        <p class="text-sm text-gray-700">
                                            ÁõÆÊ®ôÂÄ§„Çí„Äå1,450ÂÑÑÂÜÜ„Äç„Åã„Çâ„Äå1,500ÂÑÑÂÜÜ„Äç„Å´‰∏äÊñπ‰øÆÊ≠£
                                        </p>
                                        <div class="mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600">
                                            ÁêÜÁî±: „Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„ÅÆÊÉ≥ÂÆö‰ª•‰∏ä„ÅÆÊàêÈï∑„ÇíÂèçÊò†
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="history-item">
                                <div class="flex items-start gap-3">
                                    <div class="history-icon bg-green-100 text-green-600">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="font-medium text-sm">‰ΩêËó§Ëä±Â≠ê</span>
                                            <span class="text-xs text-gray-500">2024/01/15 10:20</span>
                                        </div>
                                        <p class="text-sm text-gray-700">
                                            Q3ÂÆüÁ∏æ„ÇíÊõ¥Êñ∞Ôºö1,245ÂÑÑÂÜÜÔºàÁõÆÊ®ôÈÅîÊàêÔºâ
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="history-item">
                                <div class="flex items-start gap-3">
                                    <div class="history-icon bg-blue-100 text-blue-600">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="font-medium text-sm">„Ç∑„Çπ„ÉÜ„É†</span>
                                            <span class="text-xs text-gray-500">2024/01/10 09:00</span>
                                        </div>
                                        <p class="text-sm text-gray-700">
                                            ÊäïË≥áÂÆ∂„Åã„Çâ„ÅÆË≥™Âïè„Åå5‰ª∂ËøΩÂä†„Åï„Çå„Åæ„Åó„Åü
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <style>
                        .history-item {
                            padding: 12px;
                            border-radius: 8px;
                            background: #f9fafb;
                        }
                        .history-icon {
                            width: 32px;
                            height: 32px;
                            background: #e5e7eb;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            flex-shrink: 0;
                        }
                    </style>
                `;
                
            default:
                return '<p>„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË™≠„ÅøËæº„Åø‰∏≠...</p>';
        }
    }
    
    // „Éí„Éº„Éà„Éû„ÉÉ„ÉóÁîüÊàê
    function generateHeatmap() {
        let html = '';
        for (let i = 0; i < 30; i++) {
            const level = Math.floor(Math.random() * 5);
            html += `<div class="heatmap-cell heat-level-${level}" title="${i+1}Êó•Ââç: ${level * 2}‰ª∂„ÅÆË≥™Âïè"></div>`;
        }
        return html;
    }
    
    // Ë©≥Á¥∞„Çø„ÉñÂàá„ÇäÊõø„Åà
    function switchDetailTab(tab) {
        document.querySelectorAll('.detail-tab').forEach(t => {
            t.classList.remove('active');
        });
        event.target.classList.add('active');
        
        const targetId = document.querySelector('.target-detail-modal').dataset.targetId;
        const targetData = getTargetData(targetId);
        document.getElementById('detail-content').innerHTML = getDetailContent(tab, targetData);
        
        // „ÉÅ„É£„Éº„Éà„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÊèèÁîª
        if (tab === 'progress') {
            setTimeout(() => drawProgressChart(targetData), 100);
        }
    }
    
    // ÈÄ≤Êçó„ÉÅ„É£„Éº„ÉàÊèèÁîª
    function drawProgressChart(targetData) {
        // Chart.js„Å™„Å©„Çí‰ΩøÁî®„Åó„Å¶„ÉÅ„É£„Éº„Éà„ÇíÊèèÁîª
        // „Åì„Åì„Åß„ÅØ„Éó„É¨„Éº„Çπ„Éõ„É´„ÉÄ„Éº
        console.log('Drawing progress chart for', targetData.id);
    }
    
    // „Çø„Éº„Ç≤„ÉÉ„ÉàË≥™ÂïèË°®Á§∫
    function showTargetQuestions(targetId) {
        showModal({
            title: 'Èñ¢ÈÄ£„Åô„ÇãË≥™Âïè',
            content: `
                <div class="space-y-4">
                    <div class="p-4 bg-yellow-50 rounded-lg">
                        <p class="text-sm text-yellow-800">
                            „Åì„ÅÆÁõÆÊ®ô„Å´Èñ¢„Åó„Å¶${targetId === 'revenue' ? '8' : targetId === 'roe' ? '3' : targetId === 'overseas-ratio' ? '5' : targetId === 'co2-reduction' ? '7' : targetId === 'dx-investment' ? '12' : targetId === 'asia-expansion' ? '18' : '15'}‰ª∂„ÅÆÊú™ÂõûÁ≠îË≥™Âïè„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ
                        </p>
                    </div>
                    
                    <div class="space-y-3">
                        <!-- Ë≥™Âïè„É™„Çπ„Éà„ÅåÂãïÁöÑ„Å´Ë°®Á§∫„Åï„Çå„Çã -->
                    </div>
                    
                    <div class="flex gap-3">
                        <button onclick="answerAllQuestions('${targetId}')" class="px-4 py-2 bg-kagami-blue text-white rounded-lg hover:bg-kagami-blue-dark">
                            „Åô„Åπ„Å¶„Å´ÂõûÁ≠î„Çí‰ΩúÊàê
                        </button>
                        <button onclick="createTargetFAQ('${targetId}')" class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
                            FAQ„Çí‰ΩúÊàê
                        </button>
                    </div>
                </div>
            `,
            confirmText: null,
            cancelText: 'Èñâ„Åò„Çã'
        });
    }
    
    // Ë≥™Âïè„Çø„ÉñÂàá„ÇäÊõø„Åà
    function switchQuestionTab(tab) {
        document.querySelectorAll('.question-tab').forEach(t => {
            t.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // „Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÅÆÊõ¥Êñ∞ÔºàÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ„Éá„Éº„Çø„ÇíÂãïÁöÑ„Å´Ë™≠„ÅøËæº„ÅøÔºâ
        showNotification(`${tab === 'unanswered' ? 'Êú™ÂõûÁ≠î' : tab === 'draft' ? '‰∏ãÊõ∏„Åç' : tab === 'answered' ? 'ÂõûÁ≠îÊ∏à„Åø' : 'FAQÂåñÊ∏à„Åø'}„ÅÆË≥™Âïè„ÇíË°®Á§∫`, 'info');
    }
    
    // Ë≥™Âïè„Å´ÂõûÁ≠î
    function answerQuestion(questionId) {
        document.getElementById('faq-editor').style.display = 'block';
        document.getElementById('original-question').textContent = 
            questionId === 'Q001' ? 'Êµ∑Â§ñÂ£≤‰∏äÊØîÁéá35%„ÅÆÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅÂêÑÂú∞ÂüüÂà•„ÅÆÂ£≤‰∏äÁõÆÊ®ô„Å®ÊäïË≥áË®àÁîª„ÅÆË©≥Á¥∞„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' :
            questionId === 'Q002' ? 'DXÊäïË≥á300ÂÑÑÂÜÜ„ÅÆÂÜÖË®≥„Å®ÊúüÂæÖ„Åï„Çå„ÇãROI„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèË™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' :
            'CO2ÂâäÊ∏õÁéá50%ÈÅîÊàê„ÅÆ„Åü„ÇÅ„ÅÆÂÖ∑‰ΩìÁöÑ„Å™„É≠„Éº„Éâ„Éû„ÉÉ„Éó„ÇíÊïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ';
        
        // FAQ„Ç®„Éá„Ç£„Çø„Éº„Å´„Çπ„ÇØ„É≠„Éº„É´
        document.getElementById('faq-editor').scrollIntoView({ behavior: 'smooth' });
        
        // AIÊèêÊ°à„Çí„É≠„Éº„Éâ
        setTimeout(() => {
            showNotification('AI„ÅåÂõûÁ≠îÊ°à„Çí‰ΩúÊàê‰∏≠...', 'info');
        }, 500);
    }
    
    // FAQ‰ΩúÊàê
    function createFAQ(questionId) {
        answerQuestion(questionId);
    }
    
    // AIÊèêÊ°à„ÇíÈÅ©Áî®
    function applyAISuggestion(type, index) {
        if (type === 'question') {
            if (index === 1) {
                document.getElementById('faq-question').value = 'Êµ∑Â§ñÂ±ïÈñã„Å´„Åä„Åë„ÇãÂú∞ÂüüÂà•„ÅÆÂ£≤‰∏äÁõÆÊ®ô„Å®ÊäïË≥áË®àÁîª„Å´„Å§„ÅÑ„Å¶Êïô„Åà„Å¶„Åè„Å†„Åï„ÅÑ';
            } else {
                document.getElementById('faq-question').value = '„Ç¢„Ç∏„Ç¢Â∏ÇÂ†¥„Åß„ÅÆÊàêÈï∑Êà¶Áï•„Å®Á´∂ÂêàÂÑ™‰ΩçÊÄß„Å´„Å§„ÅÑ„Å¶';
            }
        } else if (type === 'answer') {
            const currentAnswer = document.getElementById('faq-answer').value;
            if (index === 1) {
                document.getElementById('faq-answer').value = `2026Âπ¥Â∫¶„ÅÆÊµ∑Â§ñÂ£≤‰∏äÊØîÁéá35%ÈÅîÊàê„Å´Âêë„Åë„Å¶„ÄÅ„Ç¢„Ç∏„Ç¢Âú∞Âüü„Åß200ÂÑÑÂÜÜÔºàÂÖ®‰Ωì„ÅÆ60%Ôºâ„ÄÅÂåóÁ±≥„Åß100ÂÑÑÂÜÜÔºà30%Ôºâ„ÄÅÊ¨ßÂ∑û„Åß30ÂÑÑÂÜÜÔºà10%Ôºâ„ÅÆÂ£≤‰∏ä„ÇíË®àÁîª„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊäïË≥áÈ°ç„ÅØ3Âπ¥Èñì„ÅßÁ∑èÈ°ç150ÂÑÑÂÜÜ„Çí‰∫àÂÆö„Åó„ÄÅÁèæÂú∞Ê≥ï‰∫∫Ë®≠Á´ã„ÄÅÁâ©ÊµÅÊã†ÁÇπÊßãÁØâ„ÄÅ„Éû„Éº„Ç±„ÉÜ„Ç£„É≥„Ç∞Âº∑Âåñ„Å´ÂÖÖÂΩì„Åó„Åæ„Åô„ÄÇ`;
            } else {
                document.getElementById('faq-answer').value = currentAnswer + '\n\nË©≥Á¥∞„ÅØÁµ±ÂêàÂ†±ÂëäÊõ∏P.45-48„Äé„Ç∞„É≠„Éº„Éê„É´Â±ïÈñãÊà¶Áï•„Äè„Çí„ÅîÂèÇÁÖß„Åè„Å†„Åï„ÅÑ„ÄÇ';
            }
        }
        showNotification('AIÊèêÊ°à„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü', 'success');
    }
    
    // FAQ‰øùÂ≠ò
    function saveFAQ() {
        showModal({
            title: 'FAQ„ÅÆÂÖ¨ÈñãÁ¢∫Ë™ç',
            content: `
                <div class="space-y-4">
                    <div class="p-4 bg-blue-50 rounded-lg">
                        <p class="text-sm text-blue-800">
                            „Åì„ÅÆFAQ„ÇíÂÖ¨Èñã„Åô„Çã„Å®„ÄÅ„Åô„Åπ„Å¶„ÅÆÊäïË≥áÂÆ∂„ÅåÈñ≤Ë¶ßÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇ
                        </p>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-900 mb-2">ÂÖ¨ÈñãÁØÑÂõ≤</h4>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="radio" name="visibility" checked class="mr-2">
                                <span class="text-sm">„Åô„Åπ„Å¶„ÅÆÊäïË≥áÂÆ∂</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="visibility" class="mr-2">
                                <span class="text-sm">Ê©üÈñ¢ÊäïË≥áÂÆ∂„ÅÆ„Åø</span>
                            </label>
                            <label class="flex items-center">
                                <input type="radio" name="visibility" class="mr-2">
                                <span class="text-sm">ÁâπÂÆö„ÅÆÊäïË≥áÂÆ∂„Ç∞„É´„Éº„Éó</span>
                            </label>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-900 mb-2">ÈÄöÁü•Ë®≠ÂÆö</h4>
                        <label class="flex items-center">
                            <input type="checkbox" checked class="mr-2">
                            <span class="text-sm">Èñ¢ÈÄ£„Åô„ÇãË≥™Âïè„Çí„Åó„ÅüÊäïË≥áÂÆ∂„Å´ÈÄöÁü•</span>
                        </label>
                    </div>
                </div>
            `,
            confirmText: 'ÂÖ¨Èñã„Åô„Çã',
            onConfirm: () => {
                showNotification('FAQ„ÇíÂÖ¨Èñã„Åó„Åæ„Åó„Åü', 'success');
                closeFAQEditor();
            }
        });
    }
    
    // FAQ„Ç®„Éá„Ç£„Çø„Éº„ÇíÈñâ„Åò„Çã
    function closeFAQEditor() {
        document.getElementById('faq-editor').style.display = 'none';
    }
    
    // FAQ„Ç´„ÉÜ„Ç¥„É™„Éº„ÅÆÂ±ïÈñã/Êäò„Çä„Åü„Åü„Åø
    function toggleCategory(categoryId) {
        const faqs = document.getElementById(`${categoryId}-faqs`);
        const arrow = event.currentTarget.querySelector('svg');
        
        if (faqs.style.display === 'none') {
            faqs.style.display = 'block';
            arrow.style.transform = 'rotate(180deg)';
        } else {
            faqs.style.display = 'none';
            arrow.style.transform = 'rotate(0deg)';
        }
    }
    
    // FAQ„ÅÆÂ±ïÈñã/Êäò„Çä„Åü„Åü„Åø
    function toggleFAQ(element) {
        if (event.target.tagName === 'BUTTON') return;
        element.classList.toggle('expanded');
    }
    
    // AI„Ç¢„Ç∑„Çπ„Çø„É≥„Éà
    function showAIAssistant() {
        showModal({
            title: 'AIÂõûÁ≠î„Ç¢„Ç∑„Çπ„Çø„É≥„Éà',
            content: `
                <div class="space-y-4">
                    <div class="p-4 bg-gradient-to-r from-teal-50 to-blue-50 rounded-lg">
                        <h4 class="font-semibold text-gray-900 mb-2">AI„ÅåÂàÜÊûê„Åó„ÅüÂÇæÂêë</h4>
                        <ul class="space-y-2 text-sm text-gray-700">
                            <li class="flex items-start gap-2">
                                <span class="text-red-500">‚Ä¢</span>
                                Êµ∑Â§ñÂ±ïÈñã„Å´Èñ¢„Åô„ÇãË≥™Âïè„ÅåÊúÄ„ÇÇÂ§ö„ÅèÔºà43%Ôºâ„ÄÅÁâπ„Å´Âú∞ÂüüÂà•ÊäïË≥áË®àÁîª„Å∏„ÅÆÈñ¢ÂøÉ„ÅåÈ´ò„ÅÑ
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-yellow-500">‚Ä¢</span>
                                DXÊäïË≥á„ÅÆROI„Å´Èñ¢„Åô„ÇãË≥™Âïè„ÅåÂ¢óÂä†ÔºàÂâçÊúàÊØî+65%Ôºâ
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-500">‚Ä¢</span>
                                ESGÈñ¢ÈÄ£„ÅÆË≥™Âïè„ÅØÂÆöÈáèÁõÆÊ®ô„ÇíÊ±Ç„ÇÅ„ÇãÂÜÖÂÆπ„Åå‰∏≠ÂøÉ
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-gray-900 mb-2">Êé®Â•®„Ç¢„ÇØ„Ç∑„Éß„É≥</h4>
                        <div class="space-y-2">
                            <button onclick="generateBulkFAQ()" class="w-full p-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-left">
                                <div class="font-medium text-gray-900">üìÑ ‰∏ÄÊã¨FAQ‰ΩúÊàê</div>
                                <div class="text-sm text-gray-600 mt-1">Êú™ÂõûÁ≠î26‰ª∂„ÅÆË≥™Âïè„Åã„ÇâÈáçË¶Å„Å™10‰ª∂„ÇíÈÅ∏„Çì„ÅßFAQÂåñ</div>
                            </button>
                            <button onclick="analyzeQuestionTrends()" class="w-full p-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-left">
                                <div class="font-medium text-gray-900">üìä „Éà„É¨„É≥„ÉâÂàÜÊûê</div>
                                <div class="text-sm text-gray-600 mt-1">Ë≥™ÂïèÂÇæÂêë„ÇíÂàÜÊûê„Åó„Å¶‰∫àÈò≤ÁöÑ„Å™FAQ„ÇíÊèêÊ°à</div>
                            </button>
                            <button onclick="improveExistingFAQ()" class="w-full p-3 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-left">
                                <div class="font-medium text-gray-900">‚ú® Êó¢Â≠òFAQÊîπÂñÑ</div>
                                <div class="text-sm text-gray-600 mt-1">Èñ≤Ë¶ßÊï∞„ÅÆÂ§ö„ÅÑFAQ„ÇíAI„ÅåÂàÜÊûê„Åó„Å¶ÊîπÂñÑÊèêÊ°à</div>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            AI„Å´Áõ∏Ë´á
                        </label>
                        <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="3"
                            placeholder="‰æãÔºöÊµ∑Â§ñÂ±ïÈñã„Å´Èñ¢„Åô„ÇãË≥™Âïè„Å∏„ÅÆÊ®ôÊ∫ñÁöÑ„Å™ÂõûÁ≠î„Éë„Çø„Éº„É≥„ÇíÊïô„Åà„Å¶"></textarea>
                    </div>
                </div>
            `,
            confirmText: 'AI„Å´Áõ∏Ë´á',
            onConfirm: () => {
                showNotification('AI„ÅåÂàÜÊûê‰∏≠...', 'info');
            }
        });
    }
    
    // „Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„ÉóÊ©üËÉΩ
    document.addEventListener('DOMContentLoaded', function() {
        const draggables = document.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll('.faq-list');
        
        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });
            
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
            });
        });
        
        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                const dragging = document.querySelector('.dragging');
                const afterElement = getDragAfterElement(zone, e.clientY);
                if (afterElement == null) {
                    zone.appendChild(dragging);
                } else {
                    zone.insertBefore(dragging, afterElement);
                }
            });
        });
    });
    
    function getDragAfterElement(container, y) {
        const draggableElements = [...container.querySelectorAll('.draggable:not(.dragging)')];
        
        return draggableElements.reduce((closest, child) => {
            const box = child.getBoundingClientRect();
            const offset = y - box.top - box.height / 2;
            
            if (offset < 0 && offset > closest.offset) {
                return { offset: offset, element: child };
            } else {
                return closest;
            }
        }, { offset: Number.NEGATIVE_INFINITY }).element;
    }
    
    // „Åù„ÅÆ‰ªñ„ÅÆ„É¶„Éº„ÉÜ„Ç£„É™„ÉÜ„Ç£Èñ¢Êï∞
    function showAllQuestions(type) {
        showNotification(`${type}„Å´Èñ¢„Åô„Çã„Åô„Åπ„Å¶„ÅÆË≥™Âïè„ÇíË°®Á§∫`, 'info');
    }
    
    function editTargets(type) {
        showNotification(`${type}„ÅÆÁ∑®ÈõÜ„É¢„Éº„Éâ„ÇíÈñã„Åè`, 'info');
    }
    
    function importQuestions() {
        showModal({
            title: 'Ë≥™Âïè„ÅÆ„Ç§„É≥„Éù„Éº„Éà',
            content: `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">„Ç§„É≥„Éù„Éº„ÉàÂÖÉ</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option>Ë≠∞‰∫ãÈå≤ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†</option>
                            <option>„É°„Éº„É´Âïè„ÅÑÂêà„Çè„Åõ</option>
                            <option>CSV„Éï„Ç°„Ç§„É´</option>
                        </select>
                    </div>
                </div>
            `,
            confirmText: '„Ç§„É≥„Éù„Éº„Éà',
            onConfirm: () => {
                showNotification('Ë≥™Âïè„Çí„Ç§„É≥„Éù„Éº„Éà„Åó„Åæ„Åó„Åü', 'success');
            }
        });
    }
    
    function exportFAQ() {
        showModal({
            title: 'FAQ„ÅÆ„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
            content: `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Âá∫ÂäõÂΩ¢Âºè</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option>PDFÔºàÊäïË≥áÂÆ∂Âêë„ÅëÔºâ</option>
                            <option>ExcelÔºàÁ∑®ÈõÜÁî®Ôºâ</option>
                            <option>HTMLÔºàWeb„Çµ„Ç§„ÉàÁî®Ôºâ</option>
                        </select>
                    </div>
                </div>
            `,
            confirmText: '„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
            onConfirm: () => {
                showNotification('FAQ„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åó„Åæ„Åó„Åü', 'success');
            }
        });
    }
    
    // ÁõÆÊ®ôÁ∑®ÈõÜ
    function editTarget(targetId) {
        const targetData = getTargetData(targetId);
        showModal({
            title: `${targetData.name}„ÅÆÁ∑®ÈõÜ`,
            content: `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ÁõÆÊ®ôÂÄ§</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" value="${targetData.value}">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ë™¨Êòé</label>
                        <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="3">${targetData.description}</textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ÊãÖÂΩìÈÉ®ÈñÄ</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" value="${targetData.responsible}">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Â§âÊõ¥ÁêÜÁî±</label>
                        <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="2" placeholder="Â§âÊõ¥ÁêÜÁî±„ÇíË®òËºâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ"></textarea>
                    </div>
                    
                    <div class="p-4 bg-yellow-50 rounded-lg">
                        <p class="text-sm text-yellow-800">
                            <strong>Ê≥®ÊÑèÔºö</strong>„Åì„ÅÆÂ§âÊõ¥„ÅØÈñ¢‰øÇËÄÖ„Å´ÈÄöÁü•„Åï„Çå„ÄÅÊâøË™ç„Éó„É≠„Çª„Çπ„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ
                        </p>
                    </div>
                </div>
            `,
            confirmText: '‰øùÂ≠ò',
            onConfirm: () => {
                showNotification('Â§âÊõ¥„Çí‰øùÂ≠ò„Åó„ÄÅÊâøË™ç„Éó„É≠„Çª„Çπ„ÇíÈñãÂßã„Åó„Åæ„Åó„Åü', 'success');
            }
        });
    }
    
    // ÈÄ≤ÊçóÊõ¥Êñ∞
    function updateProgress(targetId) {
        const targetData = getTargetData(targetId);
        showModal({
            title: `${targetData.name}„ÅÆÈÄ≤ÊçóÊõ¥Êñ∞`,
            content: `
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ÁèæÂú®„ÅÆÈÄ≤ÊçóÁéá</label>
                        <div class="flex items-center gap-4">
                            <input type="range" min="0" max="100" value="${targetData.progress}" 
                                   class="flex-1" id="progress-slider" onchange="updateProgressValue()">
                            <span id="progress-value" class="text-lg font-semibold w-16 text-right">${targetData.progress}%</span>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">ÂÆüÁ∏æÂÄ§</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" 
                               placeholder="‰æã: 1,245ÂÑÑÂÜÜ">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">„Çπ„ÉÜ„Éº„Çø„Çπ</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            <option value="on-track" ${targetData.status === 'on-track' ? 'selected' : ''}>È†ÜË™ø</option>
                            <option value="at-risk" ${targetData.status === 'at-risk' ? 'selected' : ''}>Ë¶ÅÊ≥®ÊÑè</option>
                            <option value="delayed">ÈÅÖÂª∂</option>
                            <option value="completed">ÂÆå‰∫Ü</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">„Ç≥„É°„É≥„Éà</label>
                        <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="3" 
                                  placeholder="ÈÄ≤Êçó„Å´Èñ¢„Åô„ÇãË©≥Á¥∞„ÇÑË™≤È°å„ÇíË®òËºâ"></textarea>
                    </div>
                    
                    <div>
                        <label class="flex items-center">
                            <input type="checkbox" class="mr-2">
                            <span class="text-sm">Èñ¢‰øÇËÄÖ„Å´ÈÄ≤ÊçóÊõ¥Êñ∞„ÇíÈÄöÁü•„Åô„Çã</span>
                        </label>
                    </div>
                </div>
            `,
            confirmText: 'Êõ¥Êñ∞',
            onConfirm: () => {
                showNotification('ÈÄ≤Êçó„ÇíÊõ¥Êñ∞„Åó„Åæ„Åó„Åü', 'success');
            }
        });
    }
    
    // ÈÄ≤Êçó„Çπ„É©„Ç§„ÉÄ„Éº„ÅÆÂÄ§Êõ¥Êñ∞
    function updateProgressValue() {
        const slider = document.getElementById('progress-slider');
        const value = document.getElementById('progress-value');
        value.textContent = slider.value + '%';
    }
    
    // „É™„Ç¢„É´„Çø„Ç§„É†„Ç≥„É©„Éú„É¨„Éº„Ç∑„Éß„É≥„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
    function simulateRealtimeCollaboration() {
        // „É©„É≥„ÉÄ„É†„Å´„É¶„Éº„Ç∂„Éº„ÅåÂèÇÂä†/Èõ¢ËÑ±
        setInterval(() => {
            const indicators = document.querySelectorAll('.collaboration-indicator');
            indicators.forEach(indicator => {
                const users = indicator.querySelector('.active-users');
                if (users && Math.random() > 0.7) {
                    // „É¶„Éº„Ç∂„Éº„Ç¢„Éê„Çø„Éº„ÅÆÊõ¥Êñ∞
                    const avatars = users.querySelectorAll('.user-avatar');
                    const randomAvatar = avatars[Math.floor(Math.random() * avatars.length)];
                    randomAvatar.style.animation = 'pulse 1s';
                    setTimeout(() => {
                        randomAvatar.style.animation = '';
                    }, 1000);
                }
            });
        }, 5000);
    }
    
    // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆÂàùÊúüÂåñ
    document.addEventListener('DOMContentLoaded', function() {
        // „Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„Éó„ÅÆÂàùÊúüÂåñ
        initializeDragAndDrop();
        
        // „É™„Ç¢„É´„Çø„Ç§„É†„Ç≥„É©„Éú„É¨„Éº„Ç∑„Éß„É≥„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
        simulateRealtimeCollaboration();
        
        // „Ç≠„Éº„Éú„Éº„Éâ„Ç∑„Éß„Éº„Éà„Ç´„ÉÉ„Éà
        document.addEventListener('keydown', function(e) {
            // Ctrl+K: Ê§úÁ¥¢
            if (e.ctrlKey && e.key === 'k') {
                e.preventDefault();
                document.getElementById('globalSearch')?.focus();
            }
            // Ctrl+S: ‰øùÂ≠ò
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                showNotification('Â§âÊõ¥„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü', 'success');
            }
        });
    });
    
    // „Éâ„É©„ÉÉ„Ç∞&„Éâ„É≠„ÉÉ„ÉóÂàùÊúüÂåñ
    function initializeDragAndDrop() {
        const draggables = document.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll('.faq-list');
        
        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });
            
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
            });
        });
        
        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                const dragging = document.querySelector('.dragging');
                const afterElement = getDragAfterElement(zone, e.clientY);
                if (afterElement == null) {
                    zone.appendChild(dragging);
                } else {
                    zone.insertBefore(dragging, afterElement);
                }
            });
        });
    }
    
    // „Åù„ÅÆ‰ªñ„ÅÆË£úÂä©Èñ¢Êï∞
    function assignQuestion(questionId) {
        showNotification(`Ë≥™Âïè${questionId}„ÅÆÊãÖÂΩìËÄÖ„ÇíÂâ≤„ÇäÂΩì„Å¶`, 'info');
    }
    
    function relateQuestion(questionId) {
        showNotification(`Ë≥™Âïè${questionId}„ÅÆÈ°û‰ººË≥™Âïè„ÇíË°®Á§∫`, 'info');
    }
    
    function openQuestionDetail(questionId) {
        showNotification(`Ë≥™Âïè${questionId}„ÅÆË©≥Á¥∞„ÇíË°®Á§∫`, 'info');
    }
    
    function saveDraft() {
        showNotification('FAQ„Çí‰∏ãÊõ∏„Åç‰øùÂ≠ò„Åó„Åæ„Åó„Åü', 'success');
    }
    
    function previewFAQ() {
        showNotification('FAQ„ÅÆ„Éó„É¨„Éì„É•„Éº„ÇíË°®Á§∫', 'info');
    }
    
    function editFAQ(faqId) {
        showNotification(`FAQ${faqId}„ÅÆÁ∑®ÈõÜ„É¢„Éº„Éâ„ÇíÈñã„Åè`, 'info');
    }
    
    function manageFAQOrder() {
        showNotification('FAQ„ÅÆ‰∏¶„Å≥È†ÜÁÆ°ÁêÜ„É¢„Éº„Éâ„ÇíÈñã„Åè', 'info');
    }
    
    function createTargetFAQ(targetId) {
        showNotification(`${targetId}„Å´Èñ¢„Åô„ÇãFAQ„Çí‰ΩúÊàê`, 'info');
    }
    
    function answerAllQuestions(targetId) {
        showNotification(`${targetId}„ÅÆ„Åô„Åπ„Å¶„ÅÆË≥™Âïè„Å´ÂõûÁ≠î„Çí‰ΩúÊàê`, 'info');
    }
    
    function viewSimilar(questionId) {
        showNotification(`Ë≥™Âïè${questionId}„ÅÆÈ°û‰ººË≥™Âïè„ÇíË°®Á§∫`, 'info');
    }
    
    function viewAnswer(questionId) {
        showNotification(`Ë≥™Âïè${questionId}„ÅÆÂõûÁ≠î„ÇíË°®Á§∫`, 'info');
    }
    
    function generateBulkFAQ() {
        showNotification('‰∏ÄÊã¨FAQ‰ΩúÊàê„ÇíÈñãÂßã', 'info');
    }
    
    function analyzeQuestionTrends() {
        showNotification('Ë≥™Âïè„Éà„É¨„É≥„ÉâÂàÜÊûê„ÇíÈñãÂßã', 'info');
    }
    
    function improveExistingFAQ() {
        showNotification('Êó¢Â≠òFAQ„ÅÆÊîπÂñÑÊèêÊ°à„ÇíÁîüÊàê', 'info');
    }
    
    // AI„Ç¢„Ç∑„Çπ„ÉàÈñ¢ÈÄ£Èñ¢Êï∞
    function toggleAIAssist() {
        const menu = document.getElementById('aiAssistMenu');
        menu.classList.toggle('active');
    }
    
    function aiGenerateInsights() {
        toggleAIAssist();
        document.getElementById('insightsPanel').style.display = 'block';
        showNotification('AI„Åå„Éá„Éº„Çø„ÇíÂàÜÊûê„Åó„ÄÅ„Ç§„É≥„Çµ„Ç§„Éà„ÇíÁîüÊàê„Åó„Åæ„Åó„Åü', 'success');
        
        // „Çπ„Éû„Éº„ÉàÊèêÊ°à„ÇÇË°®Á§∫
        setTimeout(() => {
            document.getElementById('smartSuggestion').style.display = 'block';
        }, 1000);
    }
    
    function aiSuggestAnswers() {
        toggleAIAssist();
        showNotification('AI„ÅåË≥™Âïè„Å∏„ÅÆÂõûÁ≠îÊ°à„ÇíÁîüÊàê„Åó„Å¶„ÅÑ„Åæ„Åô...', 'info');
        
        // FAQÁ∑®ÈõÜ„Çª„ÇØ„Ç∑„Éß„É≥„Çí„Éè„Ç§„É©„Ç§„Éà
        setTimeout(() => {
            const faqEditor = document.querySelector('.faq-editor');
            if (faqEditor) {
                faqEditor.scrollIntoView({ behavior: 'smooth', block: 'center' });
                faqEditor.style.animation = 'pulse 2s';
            }
        }, 500);
    }
    
    function aiAnalyzeTrends() {
        toggleAIAssist();
        showNotification('Ë≥™Âïè„Éà„É¨„É≥„Éâ„ÇíÂàÜÊûê‰∏≠...', 'info');
        
        // „Éà„É¨„É≥„ÉâÂàÜÊûê„É¢„Éº„ÉÄ„É´„ÇíË°®Á§∫
        setTimeout(() => {
            showModal({
                title: 'AI„Éà„É¨„É≥„ÉâÂàÜÊûêÁµêÊûú',
                content: `
                    <div class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-medium text-blue-900 mb-2">üìà ‰∏äÊòá„Éà„É¨„É≥„Éâ</h4>
                            <ul class="text-sm text-blue-700 space-y-1">
                                <li>‚Ä¢ DXÊäïË≥á„ÅÆROI„Å´Èñ¢„Åô„ÇãË≥™Âïè: +40% (ÂÖàÈÄ±ÊØî)</li>
                                <li>‚Ä¢ „Ç¢„Ç∏„Ç¢Â±ïÈñã„ÅÆ„É™„Çπ„ÇØ„Å´Èñ¢„Åô„ÇãË≥™Âïè: +25%</li>
                                <li>‚Ä¢ ESGÁõÆÊ®ô„ÅÆÂÆüÁèæÂèØËÉΩÊÄß: +20%</li>
                            </ul>
                        </div>
                        
                        <div class="bg-orange-50 p-4 rounded-lg">
                            <h4 class="font-medium text-orange-900 mb-2">üîç Ê≥®ÁõÆ„ÉÜ„Éº„Éû</h4>
                            <ul class="text-sm text-orange-700 space-y-1">
                                <li>‚Ä¢ „Çµ„Éó„É©„Ç§„ÉÅ„Çß„Éº„É≥„ÅÆÂú∞ÊîøÂ≠¶„É™„Çπ„ÇØ</li>
                                <li>‚Ä¢ AI‰∫∫Êùê„ÅÆÁ¢∫‰øù„Å®ËÇ≤ÊàêË®àÁîª</li>
                                <li>‚Ä¢ „Çµ„Çπ„ÉÜ„Éä„Éì„É™„ÉÜ„Ç£„Éú„É≥„Éâ„ÅÆÊ¥ªÁî®</li>
                            </ul>
                        </div>
                        
                        <div class="bg-green-50 p-4 rounded-lg">
                            <h4 class="font-medium text-green-900 mb-2">üí° Êé®Â•®„Ç¢„ÇØ„Ç∑„Éß„É≥</h4>
                            <ul class="text-sm text-green-700 space-y-1">
                                <li>‚Ä¢ DXÊäïË≥á„Å´Èñ¢„Åô„ÇãË©≥Á¥∞Ë™¨ÊòéË≥áÊñô„ÅÆ‰ΩúÊàê</li>
                                <li>‚Ä¢ Âú∞ÊîøÂ≠¶„É™„Çπ„ÇØÂØæÂøúÊñπÈáù„ÅÆFAQÂåñ</li>
                                <li>‚Ä¢ ÂõõÂçäÊúü„Åî„Å®„ÅÆ„Éû„Ç§„É´„Çπ„Éà„Éº„É≥Ë®≠ÂÆö</li>
                            </ul>
                        </div>
                    </div>
                `,
                confirmText: '„É¨„Éù„Éº„Éà„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà',
                onConfirm: () => {
                    showNotification('„Éà„É¨„É≥„ÉâÂàÜÊûê„É¨„Éù„Éº„Éà„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà„Åó„Åæ„Åó„Åü', 'success');
                }
            });
        }, 1500);
    }
    
    function aiOptimizePlan() {
        toggleAIAssist();
        showNotification('Ë®àÁîªÊúÄÈÅ©Âåñ„ÅÆÊèêÊ°à„ÇíÁîüÊàê‰∏≠...', 'info');
        
        setTimeout(() => {
            showModal({
                title: 'AI„Å´„Çà„ÇãË®àÁîªÊúÄÈÅ©ÂåñÊèêÊ°à',
                content: `
                    <div class="space-y-4">
                        <div class="p-4 bg-purple-50 rounded-lg">
                            <h4 class="font-medium text-purple-900 mb-2">üéØ ÁõÆÊ®ôË™øÊï¥ÊèêÊ°à</h4>
                            <div class="space-y-2 text-sm text-purple-700">
                                <p>‚ñ™Ô∏é Êµ∑Â§ñÂ£≤‰∏äÊØîÁéáÁõÆÊ®ô: 35% ‚Üí 30% (ÁèæÂÆüÁöÑ„Å™ÊàêÈï∑Áéá„ÇíËÄÉÊÖÆ)</p>
                                <p>‚ñ™Ô∏é DXÊäïË≥á: 300ÂÑÑÂÜÜ ‚Üí 350ÂÑÑÂÜÜ (Á´∂‰∫âÂÑ™‰ΩçÊÄßÁ¢∫‰øù„ÅÆ„Åü„ÇÅ)</p>
                                <p>‚ñ™Ô∏é CO2ÂâäÊ∏õ: -50% ‚Üí -45% (ÊÆµÈöéÁöÑ„Ç¢„Éó„É≠„Éº„ÉÅ„ÇíÊé®Â•®)</p>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-medium text-blue-900 mb-2">üìÖ „Çø„Ç§„É†„É©„Ç§„É≥ÊúÄÈÅ©Âåñ</h4>
                            <div class="space-y-2 text-sm text-blue-700">
                                <p>‚ñ™Ô∏é Q1-Q2: DXÂü∫Áõ§ÊßãÁØâ„Å´ÈõÜ‰∏≠</p>
                                <p>‚ñ™Ô∏é Q3-Q4: „Ç¢„Ç∏„Ç¢Â±ïÈñã„ÅÆÊú¨Ê†ºÂåñ</p>
                                <p>‚ñ™Ô∏é 2025Âπ¥Â∫¶: Êñ∞Ë¶è‰∫ãÊ•≠„ÅÆÂèéÁõäÂåñÂä†ÈÄü</p>
                            </div>
                        </div>
                        
                        <div class="p-4 bg-amber-50 rounded-lg">
                            <h4 class="font-medium text-amber-900 mb-2">‚ö†Ô∏è „É™„Çπ„ÇØ„Éò„ÉÉ„Ç∏ÊèêÊ°à</h4>
                            <div class="space-y-2 text-sm text-amber-700">
                                <p>‚ñ™Ô∏é ÁÇ∫Êõø„Éò„ÉÉ„Ç∏: Â£≤‰∏ä„ÅÆ60%„Åæ„ÅßÊã°Â§ß</p>
                                <p>‚ñ™Ô∏é „Çµ„Éó„É©„Ç§„ÉÅ„Çß„Éº„É≥: ‰ª£Êõø„Çµ„Éó„É©„Ç§„É§„Éº„ÅÆÁ¢∫‰øù</p>
                                <p>‚ñ™Ô∏é ‰∫∫Êùê: DX‰∫∫Êùê„ÅÆÂ§ñÈÉ®Êé°Áî®Âº∑Âåñ</p>
                            </div>
                        </div>
                    </div>
                `,
                confirmText: 'ÊèêÊ°à„ÇíÈÅ©Áî®',
                onConfirm: () => {
                    showNotification('ÊúÄÈÅ©ÂåñÊèêÊ°à„ÇíË®àÁîª„Å´ÂèçÊò†„Åó„Åæ„Åó„Åü', 'success');
                }
            });
        }, 1500);
    }
    
    function dismissSuggestion() {
        document.getElementById('smartSuggestion').style.display = 'none';
    }
    
    function applyInsight(type) {
        showNotification(`${type}„Å´Èñ¢„Åô„Çã„Ç§„É≥„Çµ„Ç§„Éà„ÇíÈÅ©Áî®„Åó„Åæ„Åó„Åü`, 'success');
        
        // Èñ¢ÈÄ£„Åô„Çã„Çª„ÇØ„Ç∑„Éß„É≥„Çí„Éè„Ç§„É©„Ç§„Éà
        if (type === 'revenue') {
            const revenueCard = document.querySelector('[onclick*="revenue"]');
            if (revenueCard) {
                revenueCard.style.border = '2px solid #3b82f6';
                revenueCard.style.animation = 'pulse 2s';
            }
        }
    }
    
    // „É™„Ç¢„É´„Çø„Ç§„É†Êõ¥Êñ∞„ÅÆ„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
    function simulateRealtimeUpdates() {
        setInterval(() => {
            // „É©„É≥„ÉÄ„É†„Å´Ë≥™ÂïèÊï∞„ÇíÊõ¥Êñ∞
            const questionCounts = document.querySelectorAll('.target-questions span');
            const randomIndex = Math.floor(Math.random() * questionCounts.length);
            if (questionCounts[randomIndex]) {
                const currentText = questionCounts[randomIndex].textContent;
                const match = currentText.match(/(\d+)/);
                if (match) {
                    const currentCount = parseInt(match[1]);
                    const newCount = currentCount + Math.floor(Math.random() * 3) + 1;
                    questionCounts[randomIndex].textContent = currentText.replace(match[1], newCount);
                    questionCounts[randomIndex].parentElement.style.animation = 'pulse 1s';
                }
            }
        }, 10000); // 10Áßí„Åî„Å®„Å´Êõ¥Êñ∞
    }
    
    // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„ÅÆËøΩÂä†ÂàùÊúüÂåñ
    document.addEventListener('DOMContentLoaded', function() {
        // Êó¢Â≠ò„ÅÆÂàùÊúüÂåñ„Å´Âä†„Åà„Å¶
        simulateRealtimeUpdates();
        
        // 3ÁßíÂæå„Å´„Çπ„Éû„Éº„ÉàÊèêÊ°à„ÇíË°®Á§∫
        setTimeout(() => {
            document.getElementById('smartSuggestion').style.display = 'block';
        }, 3000);
    });
</script>
</div>
{% endblock %}