"""
KAGAMI IRç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼ - CMS Application
AIæŠ€è¡“ã‚’æ´»ç”¨ã—ãŸIRæ¥­å‹™æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 
"""

from fastapi import FastAPI, Request
from fastapi.templating import Jinja2Templates
from fastapi.staticfiles import StaticFiles
from fastapi.responses import HTMLResponse
from datetime import datetime
import json

# FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆæœŸåŒ–
app = FastAPI(title="KAGAMI IRç®¡ç†ã‚»ãƒ³ã‚¿ãƒ¼", version="1.0.0")

# é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨­å®š
app.mount("/static", StaticFiles(directory="static"), name="static")
app.mount("/shared", StaticFiles(directory="../shared"), name="shared")
templates = Jinja2Templates(directory="templates")

# ===== ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¡ãƒ¢ãƒªå†…ï¼‰ =====
MOCK_DATA = {
    "pending_tasks": [
        {
            "id": "task_001",
            "type": "dialogue",
            "title": "é‡æ‘AMã¨ã®é¢è«‡è¨˜éŒ²ç¢ºèª",
            "status": "å‡¦ç†å¾…ã¡",
            "priority": "high",
            "investor": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "investor_type": "å¤§å£æ©Ÿé–¢æŠ•è³‡å®¶",
            "created_at": "2024-01-22 08:30",
            "due_date": "2024-01-22",
            "assignee": "IRæ‹…å½“è€…A",
            "urgency_reason": "æ±ºç®—ç™ºè¡¨å‰ã®é‡è¦ç¢ºèªäº‹é …ã‚ã‚Š"
        },
        {
            "id": "task_002",
            "type": "dialogue",
            "title": "æµ·å¤–æŠ•è³‡å®¶ã¨ã®é›»è©±ä¼šè­°è¨˜éŒ²",
            "status": "å‡¦ç†å¾…ã¡",
            "priority": "medium",
            "investor": "BlackRock Inc.",
            "investor_type": "æµ·å¤–æ©Ÿé–¢æŠ•è³‡å®¶",
            "created_at": "2024-01-21 17:00",
            "due_date": "2024-01-23",
            "assignee": "IRæ‹…å½“è€…B",
            "urgency_reason": "ESGé–¢é€£ã®è¿½åŠ è³ªå•å¯¾å¿œ"
        },
        {
            "id": "task_003",
            "type": "question",
            "title": "é…å½“æ”¿ç­–ã«é–¢ã™ã‚‹è³ªå•",
            "status": "å‡¦ç†å¾…ã¡",
            "priority": "medium",
            "investor": "å€‹äººæŠ•è³‡å®¶",
            "investor_type": "å€‹äººæŠ•è³‡å®¶",
            "created_at": "2024-01-22 07:00",
            "due_date": "2024-01-24",
            "assignee": "æœªå‰²å½“",
            "urgency_reason": "æ ªä¸»ç·ä¼šé–¢é€£"
        }
    ],
    "todays_schedule": [
        {
            "id": "schedule_001",
            "time": "10:00",
            "title": "æŠ•è³‡å®¶Bç¤¾ã¨ã®å€‹åˆ¥é¢è«‡",
            "type": "meeting",
            "location": "æœ¬ç¤¾ä¼šè­°å®¤A",
            "participants": ["CFO", "IRéƒ¨é•·"],
            "investor": "æŠ•è³‡å®¶Bç¤¾",
            "importance": "high",
            "preparation_status": "ready",
            "materials": ["æ±ºç®—èª¬æ˜è³‡æ–™", "ä¸­æœŸçµŒå–¶è¨ˆç”»"]
        },
        {
            "id": "schedule_002",
            "time": "14:00",
            "title": "æ±ºç®—ç™ºè¡¨æº–å‚™ä¼šè­°",
            "type": "internal",
            "location": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³",
            "participants": ["çµŒç†éƒ¨", "åºƒå ±éƒ¨", "IRéƒ¨"],
            "importance": "high",
            "preparation_status": "in_progress",
            "tasks_remaining": 3
        },
        {
            "id": "schedule_003",
            "time": "16:00",
            "title": "ã‚¢ãƒŠãƒªã‚¹ãƒˆå‘ã‘ã‚¹ãƒ¢ãƒ¼ãƒ«ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
            "type": "briefing",
            "location": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³",
            "participants": ["CEO", "CFO"],
            "investor": "è¨¼åˆ¸ã‚¢ãƒŠãƒªã‚¹ãƒˆ5å",
            "importance": "medium",
            "preparation_status": "ready",
            "registered_count": 5
        }
    ],
    "urgent_items": [
        {
            "type": "alert",
            "title": "æ±ºç®—çŸ­ä¿¡ã®æœ€çµ‚ç¢ºèª",
            "deadline": "æœ¬æ—¥ 17:00",
            "status": "å¯¾å¿œä¸­",
            "assignee": "çµŒç†éƒ¨",
            "progress": 85
        },
        {
            "type": "reminder",
            "title": "FAQæ›´æ–°æœŸé™ï¼ˆ3ä»¶ï¼‰",
            "deadline": "æ˜æ—¥",
            "status": "æœªç€æ‰‹",
            "items": ["æ¥­ç¸¾è¦‹é€šã—", "è¨­å‚™æŠ•è³‡è¨ˆç”»", "æ ªä¸»é‚„å…ƒæ–¹é‡"]
        }
    ],
    "kpis": {
        "investor_satisfaction": {"value": 95, "trend": "+5%", "label": "æŠ•è³‡å®¶æº€è¶³åº¦"},
        "response_time": {"value": 1.2, "trend": "-30%", "label": "å¹³å‡å¿œç­”æ™‚é–“ï¼ˆæ™‚é–“ï¼‰"},
        "faq_accuracy": {"value": 98, "trend": "+2%", "label": "FAQç²¾åº¦ï¼ˆ%ï¼‰"},
        "active_investors": {"value": 324, "trend": "+12%", "label": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æŠ•è³‡å®¶æ•°"}
    },
    "recent_activities": [
        {"time": "10åˆ†å‰", "type": "FAQæ›´æ–°", "content": "æ±ºç®—èª¬æ˜ä¼šã®æ—¥ç¨‹ã«ã¤ã„ã¦", "icon": "ğŸ“"},
        {"time": "30åˆ†å‰", "type": "æŠ•è³‡å®¶å¯¾è©±", "content": "æ©Ÿé–¢æŠ•è³‡å®¶Aã¨ã®é¢è«‡å®Œäº†", "icon": "ğŸ’¬"},
        {"time": "1æ™‚é–“å‰", "type": "ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†", "content": "éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—èµ·ã“ã—å®Œäº†", "icon": "ğŸ“„"},
        {"time": "2æ™‚é–“å‰", "type": "ã‚·ã‚¹ãƒ†ãƒ ", "content": "å®šæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å®Œäº†", "icon": "âš™ï¸"}
    ],
    "faqs": [
        {
            "id": 1, 
            "question": "2024å¹´åº¦ã®æ¥­ç¸¾è¦‹é€šã—ã¯ï¼Ÿ", 
            "answer": "å£²ä¸Šé«˜ã¯å‰å¹´æ¯”15%å¢—ã®è¦‹è¾¼ã¿ã§ã™ã€‚åˆ©ç›Šé¢ã§ã¯å–¶æ¥­åˆ©ç›Šç‡ãŒæ”¹å–„ã—ã€ROEã‚‚å‘ä¸Šã™ã‚‹äºˆå®šã§ã™ã€‚ç‰¹ã«AIäº‹æ¥­ã®æˆé•·ãŒå…¨ä½“æ¥­ç¸¾ã‚’ç‰½å¼•ã—ã¦ã„ã¾ã™ã€‚", 
            "status": "published", 
            "confidence": 98,
            "data_sources": [
                {"id": 1, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2024-01-20", "relevance": 95},
                {"id": 2, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—èª¬æ˜ä¼š", "type": "èª¬æ˜ä¼š", "date": "2024-01-21", "relevance": 90}
            ],
            "valid_from": "2024-01-20",
            "valid_until": "2024-04-30",
            "category": "è²¡å‹™ãƒ»æ¥­ç¸¾",
            "version": "2024-Q3",
            "last_updated": "2024-01-20 15:30:00",
            "created_by": "IRæ‹…å½“è€…A",
            "tags": ["æ±ºç®—", "æ¥­ç¸¾è¦‹é€šã—", "å£²ä¸Šé«˜"],
            "similar_faqs": [2, 5],
            "view_count": 256,
            "is_current": True
        },
        {
            "id": 2, 
            "question": "é…å½“æ”¿ç­–ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„", 
            "answer": "é…å½“æ€§å‘30%ã‚’ç›®æ¨™ã¨ã—ã€å®‰å®šçš„ãªé…å½“ã®ç¶™ç¶šã‚’åŸºæœ¬æ–¹é‡ã¨ã—ã¦ã„ã¾ã™ã€‚æ¥­ç¸¾å‘ä¸Šã«ä¼´ã„ã€æ®µéšçš„ãªå¢—é…ã‚‚æ¤œè¨ã—ã¦ã„ã¾ã™ã€‚", 
            "status": "published", 
            "confidence": 95,
            "data_sources": [
                {"id": 1, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2024-01-20", "relevance": 85},
                {"id": 3, "name": "ä¸­æœŸçµŒå–¶è¨ˆç”»", "type": "çµŒå–¶è¨ˆç”»", "date": "2024-01-10", "relevance": 80}
            ],
            "valid_from": "2024-01-20",
            "valid_until": "2024-12-31",
            "category": "æ ªä¸»é‚„å…ƒ",
            "version": "2024-Q3",
            "last_updated": "2024-01-20 14:25:00",
            "created_by": "IRæ‹…å½“è€…B",
            "tags": ["é…å½“", "æ ªä¸»é‚„å…ƒ", "é…å½“æ€§å‘"],
            "similar_faqs": [8],
            "view_count": 189,
            "is_current": True
        },
        {
            "id": 3, 
            "question": "ESGã¸ã®å–ã‚Šçµ„ã¿ã¯ï¼Ÿ", 
            "answer": "2030å¹´ã¾ã§ã«ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã‚’ç›®æŒ‡ã—ã€å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®æ´»ç”¨ã‚„ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–ã«ã‚ˆã‚‹åŠ¹ç‡åŒ–ã‚’æ¨é€²ã—ã¦ã„ã¾ã™ã€‚ESGçµŒå–¶å§”å“¡ä¼šã‚’è¨­ç½®ã—ã€æŒç¶šå¯èƒ½ãªæˆé•·ã‚’è¿½æ±‚ã—ã¦ã„ã¾ã™ã€‚", 
            "status": "published", 
            "confidence": 92,
            "data_sources": [
                {"id": 4, "name": "çµ±åˆå ±å‘Šæ›¸2023", "type": "IRè³‡æ–™", "date": "2023-12-15", "relevance": 90}
            ],
            "valid_from": "2023-12-15",
            "valid_until": "2024-12-31",
            "category": "ESG",
            "version": "2024-Q3",
            "last_updated": "2024-01-15 10:20:00",
            "created_by": "IRæ‹…å½“è€…A",
            "tags": ["ESG", "ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«", "ç’°å¢ƒ"],
            "similar_faqs": [4],
            "view_count": 145,
            "is_current": True
        },
        {
            "id": 4,
            "question": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã®é€²æ—çŠ¶æ³ã¯ã„ã‹ãŒã§ã™ã‹ï¼Ÿ",
            "answer": "2022å¹´ã«ç­–å®šã—ãŸ3ã‚«å¹´è¨ˆç”»ã¯é †èª¿ã«é€²æ—ã—ã¦ãŠã‚Šã€å£²ä¸Šé«˜ãƒ»åˆ©ç›Šã¨ã‚‚è¨ˆç”»ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§ã™ã€‚ç‰¹ã«ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æŠ•è³‡ã®åŠ¹æœãŒè¡¨ã‚Œã¦ã„ã¾ã™ã€‚",
            "status": "published",
            "confidence": 94,
            "data_sources": [
                {"id": 3, "name": "ä¸­æœŸçµŒå–¶è¨ˆç”»", "type": "çµŒå–¶è¨ˆç”»", "date": "2024-01-10", "relevance": 95},
                {"id": 1, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2024-01-20", "relevance": 88}
            ],
            "valid_from": "2024-01-10",
            "valid_until": "2025-03-31",
            "category": "çµŒå–¶æˆ¦ç•¥",
            "version": "2024-Q3",
            "last_updated": "2024-01-18 11:15:00",
            "created_by": "IRæ‹…å½“è€…A",
            "tags": ["ä¸­æœŸçµŒå–¶è¨ˆç”»", "æˆ¦ç•¥", "DX"],
            "similar_faqs": [1, 5],
            "view_count": 134,
            "is_current": True
        },
        {
            "id": 5,
            "question": "AIäº‹æ¥­ã®æˆé•·æˆ¦ç•¥ã«ã¤ã„ã¦è©³ã—ãæ•™ãˆã¦ãã ã•ã„",
            "answer": "AIäº‹æ¥­ã¯ä»Šå¾Œ5å¹´é–“ã§å£²ä¸Šã‚’10å€ã«æ‹¡å¤§ã™ã‚‹è¨ˆç”»ã§ã™ã€‚é‡‘èãƒ»è£½é€ ãƒ»ãƒ˜ãƒ«ã‚¹ã‚±ã‚¢åˆ†é‡ã§ã®å±•é–‹ã‚’åŠ é€Ÿã—ã€ç‹¬è‡ªæŠ€è¡“ã‚’æ´»ã‹ã—ãŸå·®åˆ¥åŒ–æˆ¦ç•¥ã‚’æ¨é€²ã—ã¾ã™ã€‚",
            "status": "published",
            "confidence": 96,
            "data_sources": [
                {"id": 3, "name": "ä¸­æœŸçµŒå–¶è¨ˆç”»", "type": "çµŒå–¶è¨ˆç”»", "date": "2024-01-10", "relevance": 92},
                {"id": 5, "name": "AIäº‹æ¥­æˆ¦ç•¥èª¬æ˜ä¼š", "type": "èª¬æ˜ä¼š", "date": "2024-01-15", "relevance": 95}
            ],
            "valid_from": "2024-01-15",
            "valid_until": "2025-01-31",
            "category": "çµŒå–¶æˆ¦ç•¥",
            "version": "2024-Q3",
            "last_updated": "2024-01-19 16:45:00",
            "created_by": "IRæ‹…å½“è€…C",
            "tags": ["AI", "æˆé•·æˆ¦ç•¥", "æ–°è¦äº‹æ¥­"],
            "similar_faqs": [1, 4],
            "view_count": 178,
            "is_current": True
        },
        {
            "id": 6,
            "question": "æ ªä¸»ç·ä¼šã®é–‹å‚¬äºˆå®šã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„",
            "answer": "ç¬¬95æœŸå®šæ™‚æ ªä¸»ç·ä¼šã¯2024å¹´6æœˆ25æ—¥ã«é–‹å‚¬äºˆå®šã§ã™ã€‚ä»Šå¹´ã‚‚ä¸€éƒ¨ã‚ªãƒ³ãƒ©ã‚¤ãƒ³é…ä¿¡ã‚’å®Ÿæ–½ã—ã€ã‚ˆã‚Šå¤šãã®æ ªä¸»æ§˜ã«ã”å‚åŠ ã„ãŸã ã‘ã‚‹ã‚ˆã†æº–å‚™ã—ã¦ã„ã¾ã™ã€‚",
            "status": "published",
            "confidence": 100,
            "data_sources": [
                {"id": 6, "name": "æ ªä¸»ç·ä¼šæ‹›é›†é€šçŸ¥", "type": "æ ªä¸»ç·ä¼šè³‡æ–™", "date": "2024-01-22", "relevance": 100}
            ],
            "valid_from": "2024-01-22",
            "valid_until": "2024-06-30",
            "category": "æ ªä¸»é‚„å…ƒ",
            "version": "2024-Q3",
            "last_updated": "2024-01-22 09:30:00",
            "created_by": "IRæ‹…å½“è€…B",
            "tags": ["æ ªä¸»ç·ä¼š", "é–‹å‚¬äºˆå®š", "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³"],
            "similar_faqs": [],
            "view_count": 89,
            "is_current": True
        },
        {
            "id": 7,
            "question": "æµ·å¤–å±•é–‹ã®çŠ¶æ³ã¨ä»Šå¾Œã®è¨ˆç”»ã¯ï¼Ÿ",
            "answer": "ã‚¢ã‚¸ã‚¢ãƒ»å¤ªå¹³æ´‹åœ°åŸŸã§ã®å£²ä¸ŠãŒå…¨ä½“ã®20%ã‚’å ã‚ã‚‹ã¾ã§æˆé•·ã—ã¾ã—ãŸã€‚ä»Šå¾Œã¯æ¬§å·ãƒ»åŒ—ç±³å¸‚å ´ã¸ã®å±•é–‹ã‚‚è¦–é‡ã«å…¥ã‚Œã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ä¼æ¥­ã¨ã—ã¦ã®åŸºç›¤å¼·åŒ–ã‚’å›³ã‚Šã¾ã™ã€‚",
            "status": "published",
            "confidence": 91,
            "data_sources": [
                {"id": 7, "name": "ã‚°ãƒ­ãƒ¼ãƒãƒ«æˆ¦ç•¥èª¬æ˜è³‡æ–™", "type": "æˆ¦ç•¥è³‡æ–™", "date": "2024-01-12", "relevance": 93}
            ],
            "valid_from": "2024-01-12",
            "valid_until": "2024-12-31",
            "category": "çµŒå–¶æˆ¦ç•¥",
            "version": "2024-Q3",
            "last_updated": "2024-01-17 14:20:00",
            "created_by": "IRæ‹…å½“è€…A",
            "tags": ["æµ·å¤–å±•é–‹", "ã‚°ãƒ­ãƒ¼ãƒãƒ«", "æˆé•·æˆ¦ç•¥"],
            "similar_faqs": [4, 5],
            "view_count": 67,
            "is_current": True
        },
        {
            "id": 8,
            "question": "è‡ªç¤¾æ ªè²·ã„ã®å®Ÿæ–½äºˆå®šã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
            "answer": "è³‡æœ¬åŠ¹ç‡ã®å‘ä¸Šã‚’ç›®çš„ã¨ã—ã¦ã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã®è‡ªç¤¾æ ªè²·ã„ã‚’æ¤œè¨ã—ã¦ã„ã¾ã™ã€‚è²¡å‹™çŠ¶æ³ã¨æŠ•è³‡æ©Ÿä¼šã®ãƒãƒ©ãƒ³ã‚¹ã‚’è¦‹ãªãŒã‚‰åˆ¤æ–­ã—ã¾ã™ã€‚",
            "status": "draft",
            "confidence": 87,
            "data_sources": [
                {"id": 8, "name": "è²¡å‹™æˆ¦ç•¥å§”å“¡ä¼šè­°äº‹éŒ²", "type": "å†…éƒ¨è³‡æ–™", "date": "2024-01-19", "relevance": 85}
            ],
            "valid_from": "2024-01-19",
            "valid_until": "2024-03-31",
            "category": "æ ªä¸»é‚„å…ƒ",
            "version": "2024-Q3",
            "last_updated": "2024-01-21 13:40:00",
            "created_by": "IRæ‹…å½“è€…B",
            "tags": ["è‡ªç¤¾æ ªè²·ã„", "è³‡æœ¬åŠ¹ç‡", "æ ªä¸»é‚„å…ƒ"],
            "similar_faqs": [2],
            "view_count": 52,
            "is_current": True
        },
        {
            "id": 9,
            "question": "ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£çµŒå–¶ã®å…·ä½“çš„ãªå–ã‚Šçµ„ã¿ã¯ï¼Ÿ",
            "answer": "æ°—å€™å¤‰å‹•å¯¾å¿œã€å¤šæ§˜æ€§æ¨é€²ã€ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ç®¡ç†ã®3ã¤ã‚’æŸ±ã¨ã—ã¦å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚2024å¹´ã«ã¯ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£å§”å“¡ä¼šã‚’æ–°è¨­ã—ã€ã‚ˆã‚Šä½“ç³»çš„ãªæ¨é€²ä½“åˆ¶ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚",
            "status": "published",
            "confidence": 93,
            "data_sources": [
                {"id": 9, "name": "ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆ2024", "type": "ESGè³‡æ–™", "date": "2024-01-08", "relevance": 96}
            ],
            "valid_from": "2024-01-08",
            "valid_until": "2024-12-31",
            "category": "ESG",
            "version": "2024-Q3",
            "last_updated": "2024-01-16 10:55:00",
            "created_by": "IRæ‹…å½“è€…A",
            "tags": ["ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£", "ESG", "å§”å“¡ä¼š"],
            "similar_faqs": [3],
            "view_count": 98,
            "is_current": True
        },
        {
            "id": 10,
            "question": "ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–è¦å› ã¯ä½•ã§ã™ã‹ï¼Ÿ",
            "answer": "ç‹¬è‡ªã®AIæŠ€è¡“ã€è±Šå¯Œãªé¡§å®¢ãƒ‡ãƒ¼ã‚¿ã€å¼·å›ºãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ãŒå½“ç¤¾ã®ä¸»è¦ãªå·®åˆ¥åŒ–è¦å› ã§ã™ã€‚ç‰¹ã«ç‰¹è¨±æŠ€è¡“ã«ã‚ˆã‚‹æŠ€è¡“çš„å„ªä½æ€§ã¯ä»Šå¾Œã‚‚ç¶­æŒã—ã¦ã„ãäºˆå®šã§ã™ã€‚",
            "status": "published",
            "confidence": 89,
            "data_sources": [
                {"id": 10, "name": "ç«¶åˆåˆ†æãƒ¬ãƒãƒ¼ãƒˆ", "type": "åˆ†æè³‡æ–™", "date": "2024-01-05", "relevance": 91}
            ],
            "valid_from": "2024-01-05",
            "valid_until": "2024-06-30",
            "category": "çµŒå–¶æˆ¦ç•¥",
            "version": "2024-Q3",
            "last_updated": "2024-01-14 15:10:00",
            "created_by": "IRæ‹…å½“è€…C",
            "tags": ["ç«¶åˆå„ªä½æ€§", "å·®åˆ¥åŒ–", "æŠ€è¡“"],
            "similar_faqs": [5, 7],
            "view_count": 76,
            "is_current": True
        }
    ],
    "data_sources": [
        {"id": 1, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2024-01-20", "status": "å…¬é–‹", "url": "/documents/1"},
        {"id": 2, "name": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—èª¬æ˜ä¼š", "type": "èª¬æ˜ä¼š", "date": "2024-01-21", "status": "å…¬é–‹", "url": "/events/1"},
        {"id": 3, "name": "ä¸­æœŸçµŒå–¶è¨ˆç”»", "type": "çµŒå–¶è¨ˆç”»", "date": "2024-01-10", "status": "å…¬é–‹", "url": "/documents/2"},
        {"id": 4, "name": "çµ±åˆå ±å‘Šæ›¸2023", "type": "IRè³‡æ–™", "date": "2023-12-15", "status": "å…¬é–‹", "url": "/documents/3"},
        {"id": 5, "name": "AIäº‹æ¥­æˆ¦ç•¥èª¬æ˜ä¼š", "type": "èª¬æ˜ä¼š", "date": "2024-01-15", "status": "å…¬é–‹", "url": "/events/2"},
        {"id": 6, "name": "æ ªä¸»ç·ä¼šæ‹›é›†é€šçŸ¥", "type": "æ ªä¸»ç·ä¼šè³‡æ–™", "date": "2024-01-22", "status": "å…¬é–‹", "url": "/documents/4"},
        {"id": 7, "name": "ã‚°ãƒ­ãƒ¼ãƒãƒ«æˆ¦ç•¥èª¬æ˜è³‡æ–™", "type": "æˆ¦ç•¥è³‡æ–™", "date": "2024-01-12", "status": "å…¬é–‹", "url": "/documents/5"},
        {"id": 8, "name": "è²¡å‹™æˆ¦ç•¥å§”å“¡ä¼šè­°äº‹éŒ²", "type": "å†…éƒ¨è³‡æ–™", "date": "2024-01-19", "status": "é™å®šå…¬é–‹", "url": "/documents/6"},
        {"id": 9, "name": "ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆ2024", "type": "ESGè³‡æ–™", "date": "2024-01-08", "status": "å…¬é–‹", "url": "/documents/7"},
        {"id": 10, "name": "ç«¶åˆåˆ†æãƒ¬ãƒãƒ¼ãƒˆ", "type": "åˆ†æè³‡æ–™", "date": "2024-01-05", "status": "å…¬é–‹", "url": "/documents/8"},
        {"id": 11, "name": "2024å¹´åº¦ç¬¬2å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2023-10-20", "status": "å…¬é–‹", "url": "/documents/9"},
        {"id": 12, "name": "2024å¹´åº¦ç¬¬1å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2023-07-20", "status": "å…¬é–‹", "url": "/documents/10"}
    ],
    "faq_versions": [
        {
            "faq_id": 1,
            "version": "2024-Q2",
            "question": "2024å¹´åº¦ã®æ¥­ç¸¾è¦‹é€šã—ã¯ï¼Ÿ",
            "answer": "å£²ä¸Šé«˜ã¯å‰å¹´æ¯”12%å¢—ã®è¦‹è¾¼ã¿ã§ã™ã€‚",
            "valid_from": "2023-10-20",
            "valid_until": "2024-01-19",
            "data_sources": [{"id": 5, "name": "2024å¹´åº¦ç¬¬2å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2023-10-20"}],
            "created_at": "2023-10-20 16:00:00"
        },
        {
            "faq_id": 1,
            "version": "2024-Q1",
            "question": "2024å¹´åº¦ã®æ¥­ç¸¾è¦‹é€šã—ã¯ï¼Ÿ",
            "answer": "å£²ä¸Šé«˜ã¯å‰å¹´æ¯”10%å¢—ã®è¦‹è¾¼ã¿ã§ã™ã€‚",
            "valid_from": "2023-07-20",
            "valid_until": "2023-10-19",
            "data_sources": [{"id": 6, "name": "2024å¹´åº¦ç¬¬1å››åŠæœŸæ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2023-07-20"}],
            "created_at": "2023-07-20 15:30:00"
        }
    ],
    "investors": [
        {"id": 1, "name": "å±±ç”°å¤ªéƒ", "company": "ABCæŠ•è³‡é¡§å•", "type": "æ©Ÿé–¢æŠ•è³‡å®¶", "last_contact": "2024-01-15"},
        {"id": 2, "name": "éˆ´æœ¨èŠ±å­", "company": "å€‹äºº", "type": "å€‹äººæŠ•è³‡å®¶", "last_contact": "2024-01-10"},
        {"id": 3, "name": "John Smith", "company": "Global Capital", "type": "æµ·å¤–æŠ•è³‡å®¶", "last_contact": "2024-01-08"}
    ],
    "documents": [
        {"id": 1, "name": "2024å¹´åº¦æ±ºç®—çŸ­ä¿¡", "type": "æ±ºç®—è³‡æ–™", "date": "2024-01-20", "status": "å…¬é–‹", "downloads": 145},
        {"id": 2, "name": "ä¸­æœŸçµŒå–¶è¨ˆç”»", "type": "çµŒå–¶è¨ˆç”»", "date": "2024-01-10", "status": "å…¬é–‹", "downloads": 89},
        {"id": 3, "name": "çµ±åˆå ±å‘Šæ›¸2023", "type": "IRè³‡æ–™", "date": "2023-12-15", "status": "å…¬é–‹", "downloads": 234}
    ],
    "news": [
        {"id": 1, "title": "2024å¹´åº¦æ±ºç®—ç™ºè¡¨ã®ãŠçŸ¥ã‚‰ã›", "date": "2024-01-20", "category": "æ±ºç®—", "status": "å…¬é–‹"},
        {"id": 2, "title": "æ–°è£½å“é–‹ç™ºã«é–¢ã™ã‚‹ãŠçŸ¥ã‚‰ã›", "date": "2024-01-15", "category": "è£½å“", "status": "å…¬é–‹"},
        {"id": 3, "title": "å½¹å“¡äººäº‹ã«é–¢ã™ã‚‹ãŠçŸ¥ã‚‰ã›", "date": "2024-01-10", "category": "äººäº‹", "status": "ä¸‹æ›¸ã"}
    ],
    "users": [
        {"id": 1, "name": "ç®¡ç†è€…", "email": "admin@example.com", "role": "ç®¡ç†è€…", "status": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–"},
        {"id": 2, "name": "ç·¨é›†è€…A", "email": "editor1@example.com", "role": "ç·¨é›†è€…", "status": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–"},
        {"id": 3, "name": "é–²è¦§è€…B", "email": "viewer1@example.com", "role": "é–²è¦§è€…", "status": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–"}
    ],
    "audit_logs": [
        {"id": 1, "user": "ç®¡ç†è€…", "action": "ãƒ­ã‚°ã‚¤ãƒ³", "target": "ã‚·ã‚¹ãƒ†ãƒ ", "timestamp": "2024-01-20 15:30:00", "ip": "192.168.1.1"},
        {"id": 2, "user": "ç·¨é›†è€…A", "action": "FAQæ›´æ–°", "target": "FAQ ID:1", "timestamp": "2024-01-20 14:25:00", "ip": "192.168.1.2"},
        {"id": 3, "user": "ç®¡ç†è€…", "action": "ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ ", "target": "é–²è¦§è€…B", "timestamp": "2024-01-20 13:15:00", "ip": "192.168.1.1"}
    ],
    "events": [
        {"id": 1, "title": "2024å¹´åº¦ç¬¬3å››åŠæœŸæ±ºç®—ç™ºè¡¨", "type": "æ±ºç®—ç™ºè¡¨", "date": "2024-02-15", "time": "15:00", "location": "æ±è¨¼å…¼ã‚ªãƒ³ãƒ©ã‚¤ãƒ³", "status": "äºˆå®š", "assignee": "IRéƒ¨é–€è²¬ä»»è€…", "description": "TDnetã¸ã®é–‹ç¤ºåŠã³ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ã®å…¬é–‹"},
        {"id": 2, "title": "æ±ºç®—èª¬æ˜ä¼š", "type": "èª¬æ˜ä¼š", "date": "2024-02-16", "time": "10:00", "location": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³", "status": "æº–å‚™ä¸­", "assignee": "åºƒå ±æ‹…å½“è€…A", "description": "æ©Ÿé–¢æŠ•è³‡å®¶ãƒ»ã‚¢ãƒŠãƒªã‚¹ãƒˆå‘ã‘èª¬æ˜ä¼š"},
        {"id": 3, "title": "ç¬¬95æœŸå®šæ™‚æ ªä¸»ç·ä¼š", "type": "æ ªä¸»ç·ä¼š", "date": "2024-06-25", "time": "10:00", "location": "æœ¬ç¤¾å¤§ä¼šè­°å®¤", "status": "äºˆå®š", "assignee": "çµŒç†éƒ¨é–€", "description": "å¹´æ¬¡æ ªä¸»ç·ä¼š"}
    ],
    "email_campaigns": [
        {"id": 1, "subject": "ã€KAGAMIã€‘æ±ºç®—ç™ºè¡¨ã®ãŠçŸ¥ã‚‰ã›", "template": "æ±ºç®—ç™ºè¡¨é€šçŸ¥", "target_group": "ã™ã¹ã¦ã®æŠ•è³‡å®¶", "recipient_count": 324, "scheduled_date": "2024-02-15 15:30", "status": "é…ä¿¡äºˆç´„", "open_rate": 0},
        {"id": 2, "subject": "ã€KAGAMIã€‘æ–°è£½å“é–‹ç™ºã«é–¢ã™ã‚‹ãŠçŸ¥ã‚‰ã›", "template": "ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒªãƒªãƒ¼ã‚¹", "target_group": "ãƒ¡ãƒ¼ãƒ«é€šçŸ¥å¸Œæœ›è€…", "recipient_count": 156, "scheduled_date": "2024-01-15 10:00", "status": "é…ä¿¡æ¸ˆã¿", "open_rate": 68},
        {"id": 3, "subject": "ã€KAGAMIã€‘æŠ•è³‡å®¶èª¬æ˜ä¼šã®ã”æ¡ˆå†…", "template": "ã‚¤ãƒ™ãƒ³ãƒˆæ¡ˆå†…", "target_group": "æ©Ÿé–¢æŠ•è³‡å®¶", "recipient_count": 89, "scheduled_date": "2024-01-20 14:00", "status": "ä¸‹æ›¸ã", "open_rate": 0}
    ],
    "mailing_groups": [
        {"id": 1, "name": "ã™ã¹ã¦ã®æŠ•è³‡å®¶", "icon": "ğŸŒ", "count": 324},
        {"id": 2, "name": "æ©Ÿé–¢æŠ•è³‡å®¶", "icon": "ğŸ¢", "count": 89},
        {"id": 3, "name": "å€‹äººæŠ•è³‡å®¶", "icon": "ğŸ‘¤", "count": 156},
        {"id": 4, "name": "æµ·å¤–æŠ•è³‡å®¶", "icon": "ğŸŒ", "count": 45}
    ],
    "roles": [
        {"id": 1, "name": "ç®¡ç†è€…", "description": "ã™ã¹ã¦ã®æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½", "user_count": 2, "is_system": True, "permissions": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]},
        {"id": 2, "name": "ç·¨é›†è€…", "description": "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä½œæˆãƒ»ç·¨é›†ãŒå¯èƒ½", "user_count": 5, "is_system": False, "permissions": [1, 2, 3, 5, 6, 7]},
        {"id": 3, "name": "é–²è¦§è€…", "description": "é–²è¦§ã®ã¿å¯èƒ½", "user_count": 10, "is_system": False, "permissions": [1, 5]},
        {"id": 4, "name": "IRæ‹…å½“è€…", "description": "IRé–¢é€£æ¥­å‹™ã®ç®¡ç†", "user_count": 3, "is_system": False, "permissions": [1, 2, 3, 4, 5, 6, 7, 8]}
    ],
    "permissions": [
        {"id": 1, "name": "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–²è¦§", "description": "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹"},
        {"id": 2, "name": "FAQç®¡ç†", "description": "FAQã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤"},
        {"id": 3, "name": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†", "description": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»ç®¡ç†"},
        {"id": 4, "name": "ãƒ‹ãƒ¥ãƒ¼ã‚¹ç®¡ç†", "description": "ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ãŠçŸ¥ã‚‰ã›ã®ä½œæˆãƒ»ç·¨é›†"},
        {"id": 5, "name": "æŠ•è³‡å®¶æƒ…å ±é–²è¦§", "description": "æŠ•è³‡å®¶æƒ…å ±ã®é–²è¦§"},
        {"id": 6, "name": "æŠ•è³‡å®¶æƒ…å ±ç·¨é›†", "description": "æŠ•è³‡å®¶æƒ…å ±ã®ç·¨é›†"},
        {"id": 7, "name": "ãƒ¡ãƒ¼ãƒ«é…ä¿¡", "description": "ãƒ¡ãƒ¼ãƒ«é…ä¿¡ã®ä½œæˆãƒ»é€ä¿¡"},
        {"id": 8, "name": "ãƒ¬ãƒãƒ¼ãƒˆé–²è¦§", "description": "åˆ†æãƒ¬ãƒãƒ¼ãƒˆã®é–²è¦§"},
        {"id": 9, "name": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†", "description": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤"},
        {"id": 10, "name": "ã‚·ã‚¹ãƒ†ãƒ è¨­å®š", "description": "ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã®å¤‰æ›´"}
    ],
    "api_keys": [
        {"id": 1, "name": "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰API", "key": "sk_live_abcd1234efgh5678ijkl", "key_preview": "sk_live_abcd1234", "scope": "èª­ã¿å–ã‚Šå°‚ç”¨", "last_used": "2024-01-20 10:30", "is_active": True},
        {"id": 2, "name": "ãƒ‡ãƒ¼ã‚¿é€£æºAPI", "key": "sk_live_mnop9012qrst3456uvwx", "key_preview": "sk_live_mnop9012", "scope": "èª­ã¿æ›¸ã", "last_used": "2024-01-19 15:45", "is_active": True},
        {"id": 3, "name": "ãƒ†ã‚¹ãƒˆAPI", "key": "sk_test_yzab5678cdef9012ghij", "key_preview": "sk_test_yzab5678", "scope": "ãƒ†ã‚¹ãƒˆç”¨", "last_used": "2024-01-15 09:00", "is_active": False}
    ],
    # ç¤¾å¤–å–ç· å½¹å‘ã‘ãƒ‡ãƒ¼ã‚¿
    "company_info": {
        "stock_code": "9999",  # è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
        "company_name": "æ ªå¼ä¼šç¤¾KAGAMI",
        "market": "æ±è¨¼ãƒ—ãƒ©ã‚¤ãƒ ",
        "fiscal_year_end": "3æœˆ",
        "latest_earnings_date": "2024-11-10",
        "next_earnings_date": "2025-02-15"
    },
    "period_data": {
        "month": {
            "start": "2024-12-15",
            "end": "2025-01-15",
            "investor_meetings": 12,
            "compliance_score": 98,
            "investor_satisfaction": 76
        },
        "quarter": {
            "start": "2024-10-01",
            "end": "2024-12-31",
            "investor_meetings": 45,
            "compliance_score": 98,
            "investor_satisfaction": 78
        },
        "q3": {
            "start": "2024-07-01",
            "end": "2024-09-30",
            "investor_meetings": 38,
            "compliance_score": 97,
            "investor_satisfaction": 75
        },
        "h2": {
            "start": "2024-07-01",
            "end": "2024-12-31",
            "investor_meetings": 83,
            "compliance_score": 97.5,
            "investor_satisfaction": 76.5
        },
        "h1": {
            "start": "2024-04-01",
            "end": "2024-06-30",
            "investor_meetings": 73,
            "compliance_score": 96,
            "investor_satisfaction": 72
        },
        "year": {
            "start": "2024-04-01",
            "end": "2025-03-31",
            "investor_meetings": 156,
            "compliance_score": 97,
            "investor_satisfaction": 75
        }
    },
    "governance_overview": {
        "compliance_score": {
            "value": 98, 
            "trend": "stable", 
            "label": "ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚¹ã‚³ã‚¢",
            "description": "å†…éƒ¨ç›£æŸ»ãƒ»å¤–éƒ¨ç›£æŸ»ã®æŒ‡æ‘˜äº‹é …å¯¾å¿œç‡ã€æ³•ä»¤éµå®ˆçŠ¶æ³ã‚’ç·åˆè©•ä¾¡",
            "benchmark": "æ¥­ç•Œå¹³å‡: 92%",
            "calculation": "(å¯¾å¿œå®Œäº†é …ç›®æ•°/å…¨æŒ‡æ‘˜é …ç›®æ•°) Ã— é‡è¦åº¦åŠ é‡å¹³å‡"
        },
        "board_effectiveness": {
            "value": 85, 
            "trend": "+3%", 
            "label": "å–ç· å½¹ä¼šå®ŸåŠ¹æ€§è©•ä¾¡",
            "description": "ç¬¬ä¸‰è€…è©•ä¾¡æ©Ÿé–¢ã«ã‚ˆã‚‹å¹´æ¬¡è©•ä¾¡ã€‚è­°è«–ã®è³ªã€æƒ…å ±æä¾›ã€æ„æ€æ±ºå®šãƒ—ãƒ­ã‚»ã‚¹ã‚’è©•ä¾¡",
            "benchmark": "TOPIX100å¹³å‡: 82%",
            "details_link": "/board-effectiveness-report"
        },
        "risk_alerts": {
            "value": 2, 
            "items": [
                {"title": "ESGç›®æ¨™é”æˆãƒªã‚¹ã‚¯", "level": "ä¸­", "deadline": "Q2å¯¾å¿œå¿…è¦"},
                {"title": "ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä½“åˆ¶", "level": "ä½", "deadline": "Q3æ¤œè¨"}
            ],
            "label": "è¦æ³¨æ„ãƒªã‚¹ã‚¯",
            "description": "å–ç· å½¹ä¼šã§ã®è­°è«–ãƒ»å¯¾å¿œãŒå¿…è¦ãªãƒªã‚¹ã‚¯é …ç›®"
        },
        "investor_satisfaction": {
            "value": 78,
            "trend": "+5%",
            "label": "æŠ•è³‡å®¶æº€è¶³åº¦",
            "description": "å››åŠæœŸã”ã¨ã®æŠ•è³‡å®¶ã‚µãƒ¼ãƒ™ã‚¤çµæœã€‚çµŒå–¶æˆ¦ç•¥ã¸ã®ç†è§£åº¦ã€æƒ…å ±é–‹ç¤ºã®å……å®Ÿåº¦ã€å¯¾è©±ã®è³ªã‚’ç·åˆè©•ä¾¡",
            "calculation": "(æˆ¦ç•¥ç†è§£åº¦Ã—0.4 + æƒ…å ±é–‹ç¤ºå……å®Ÿåº¦Ã—0.3 + å¯¾è©±æº€è¶³åº¦Ã—0.3) Ã— 100",
            "breakdown": {
                "strategy_understanding": 82,
                "disclosure_quality": 75,
                "dialogue_satisfaction": 76
            }
        }
    },
    "strategic_issues": [
        {
            "id": "issue_001",
            "title": "ESGçµŒå–¶ã®æ¨é€²ã¨å®ŸåŠ¹æ€§",
            "category": "ESG/ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£",
            "risk_level": "ä¸­",
            "impact": "é«˜",
            "status": "å¯¾å¿œä¸­",
            "description": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ç›®æ¨™ã«å‘ã‘ãŸå…·ä½“çš„ãªå®Ÿè¡Œè¨ˆç”»ã¨æŠ•è³‡åˆ¤æ–­ã®å¦¥å½“æ€§ã«ã¤ã„ã¦ã€æŠ•è³‡å®¶ã‹ã‚‰ç¶™ç¶šçš„ãªèª¬æ˜è¦æ±‚ãŒã‚ã‚Šã¾ã™ã€‚",
            "board_action_required": "å››åŠæœŸã”ã¨ã®é€²æ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨æˆ¦ç•¥ã®å¦¥å½“æ€§è©•ä¾¡",
            "investor_concerns": 23,
            "last_discussion": "2024-01-15 å–ç· å½¹ä¼š",
            "kpi_progress": {
                "co2_reduction": {"target": -30, "actual": -12, "unit": "%"},
                "renewable_energy": {"target": 50, "actual": 28, "unit": "%"}
            },
            "related_documents": [
                {"name": "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—2030", "date": "2023-12-01"},
                {"name": "ç¬¬3å››åŠæœŸé€²æ—å ±å‘Š", "date": "2024-01-20"}
            ]
        },
        {
            "id": "issue_002",
            "title": "ãƒ‡ã‚¸ã‚¿ãƒ«ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é€²æ—",
            "category": "çµŒå–¶æˆ¦ç•¥",
            "risk_level": "ä¸­",
            "impact": "é«˜",
            "status": "ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°",
            "description": "AIæ´»ç”¨ã‚’å«ã‚€DXæŠ•è³‡ã®è²»ç”¨å¯¾åŠ¹æœã¨ã€ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–æˆ¦ç•¥ã«ã¤ã„ã¦ã€ã‚ˆã‚Šæ˜ç¢ºãªèª¬æ˜ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
            "board_action_required": "æŠ•è³‡åŠ¹æœã®å®šæœŸçš„ãªæ¤œè¨¼ã¨æˆ¦ç•¥è¦‹ç›´ã—",
            "investor_concerns": 18,
            "last_discussion": "2024-01-10 æˆ¦ç•¥å§”å“¡ä¼š",
            "investment_status": {
                "total_budget": "50å„„å††",
                "spent": "18å„„å††",
                "roi_forecast": "3å¹´å¾Œã«é»’å­—åŒ–è¦‹è¾¼ã¿"
            },
            "competitor_benchmark": [
                {"company": "ç«¶åˆAç¤¾", "dx_investment": "80å„„å††", "focus": "AIè‡ªå‹•åŒ–"},
                {"company": "ç«¶åˆBç¤¾", "dx_investment": "45å„„å††", "focus": "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ§‹ç¯‰"}
            ]
        },
        {
            "id": "issue_003",
            "title": "ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¬ãƒãƒŠãƒ³ã‚¹ä½“åˆ¶ã®å¼·åŒ–",
            "category": "ã‚¬ãƒãƒŠãƒ³ã‚¹",
            "risk_level": "ä½",
            "impact": "ä¸­",
            "status": "è¨ˆç”»ä¸­",
            "description": "æµ·å¤–å­ä¼šç¤¾ã®ã‚¬ãƒãƒŠãƒ³ã‚¹ä½“åˆ¶å¼·åŒ–ã¨ã€ã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã®ãƒªã‚¹ã‚¯ç®¡ç†ä½“åˆ¶ã®çµ±åˆã«ã¤ã„ã¦æ¤œè¨ãŒå¿…è¦ã§ã™ã€‚",
            "board_action_required": "æµ·å¤–å­ä¼šç¤¾ã‚¬ãƒãƒŠãƒ³ã‚¹æ–¹é‡ã®æ‰¿èª",
            "investor_concerns": 8,
            "last_discussion": "2023-12-20 ç›£æŸ»å§”å“¡ä¼š",
            "implementation_plan": {
                "phase1": {"period": "2024 Q2", "action": "ç¾çŠ¶èª¿æŸ»ãƒ»èª²é¡Œæ•´ç†"},
                "phase2": {"period": "2024 Q3", "action": "ã‚¬ãƒãƒŠãƒ³ã‚¹æ–¹é‡ç­–å®š"},
                "phase3": {"period": "2024 Q4", "action": "æ®µéšçš„å®Ÿæ–½é–‹å§‹"}
            }
        }
    ],
    "quarterly_trends": {
        "investor_sentiment": [
            {"quarter": "Q1 2024", "value": 72, "label": "æŠ•è³‡å®¶ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ"},
            {"quarter": "Q2 2024", "value": 75, "label": "æŠ•è³‡å®¶ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ"},
            {"quarter": "Q3 2024", "value": 78, "label": "æŠ•è³‡å®¶ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ"},
            {"quarter": "Q4 2024", "value": 82, "label": "æŠ•è³‡å®¶ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ"}
        ],
        "shareholder_composition": [
            {"type": "æ©Ÿé–¢æŠ•è³‡å®¶", "percentage": 65, "change": "+2%", "major_holders": ["é‡æ‘AM", "å¤§å’ŒAM", "ä¸‰è±UFJä¿¡è¨—"]},
            {"type": "å€‹äººæŠ•è³‡å®¶", "percentage": 20, "change": "-1%", "trend_reason": "é«˜é…å½“éŠ˜æŸ„ã¸ã®ã‚·ãƒ•ãƒˆ"},
            {"type": "æµ·å¤–æŠ•è³‡å®¶", "percentage": 15, "change": "-1%", "regions": {"åŒ—ç±³": 8, "æ¬§å·": 5, "ã‚¢ã‚¸ã‚¢": 2}}
        ]
    },
    "risk_monitoring": {
        "early_warning_indicators": [
            {
                "indicator": "æŠ•è³‡å®¶æ‡¸å¿µåº¦æŒ‡æ•°",
                "current": 65,
                "threshold": 70,
                "trend": "ä¸Šæ˜‡",
                "status": "æ³¨æ„",
                "description": "æŠ•è³‡å®¶ã¨ã®å¯¾è©±ã§è¡¨æ˜ã•ã‚ŒãŸæ‡¸å¿µäº‹é …ã®é »åº¦ã¨æ·±åˆ»åº¦ã‚’æŒ‡æ•°åŒ–"
            },
            {
                "indicator": "ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ",
                "current": 72,
                "threshold": 60,
                "trend": "å®‰å®š",
                "status": "æ­£å¸¸",
                "description": "ä¸»è¦ãƒ¡ãƒ‡ã‚£ã‚¢ã§ã®å ±é“å†…å®¹ã®ãƒã‚¸ãƒ†ã‚£ãƒ–/ãƒã‚¬ãƒ†ã‚£ãƒ–åˆ†æ"
            },
            {
                "indicator": "è­°æ±ºæ¨©è¡Œä½¿åå¯¾ç‡äºˆæ¸¬",
                "current": 15,
                "threshold": 20,
                "trend": "æ¨ªã°ã„",
                "status": "æ­£å¸¸",
                "description": "æ¬¡å›æ ªä¸»ç·ä¼šã§ã®åå¯¾ç¥¨ç‡ã®AIäºˆæ¸¬å€¤"
            }
        ],
        "risk_correlation_matrix": {
            "ESGç›®æ¨™æœªé”": {"DXé…å»¶": "é«˜", "äººææµå‡º": "ä¸­", "è¦åˆ¶å¼·åŒ–": "é«˜"},
            "DXé…å»¶": {"ç«¶äº‰åŠ›ä½ä¸‹": "é«˜", "åç›Šæ€§æ‚ªåŒ–": "ä¸­"},
            "ã‚¬ãƒãƒŠãƒ³ã‚¹ä¸å‚™": {"ãƒ¬ãƒ”ãƒ¥ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³": "é«˜", "æŠ•è³‡å®¶é›¢ã‚Œ": "ä¸­"}
        }
    },
    "board_agenda_items": [
        {
            "meeting_date": "2024-02-15",
            "title": "ç¬¬4å››åŠæœŸæ±ºç®—æ‰¿èª",
            "type": "å®šä¾‹",
            "materials_ready": True,
            "pre_briefing": "2024-02-10",
            "key_decisions": [
                "æ±ºç®—æ•°å€¤ã®æ‰¿èª",
                "é…å½“é‡‘ã®æ±ºå®š",
                "æ¥­ç¸¾äºˆæƒ³ã®ä¿®æ­£è¦å¦"
            ],
            "pre_reading_time": "ç´„2æ™‚é–“",
            "related_issues": ["è²¡å‹™ãƒ»æ¥­ç¸¾"]
        },
        {
            "meeting_date": "2024-02-20",
            "title": "ä¸­æœŸçµŒå–¶è¨ˆç”»ãƒ¬ãƒ“ãƒ¥ãƒ¼",
            "type": "è‡¨æ™‚",
            "materials_ready": False,
            "pre_briefing": "2024-02-18",
            "key_decisions": [
                "è¨ˆç”»ã®é€²æ—è©•ä¾¡",
                "æˆ¦ç•¥ã®ä¿®æ­£è¦å¦",
                "è¿½åŠ æŠ•è³‡ã®æ‰¿èª"
            ],
            "pre_reading_time": "ç´„3æ™‚é–“",
            "related_issues": ["ä¸­æœŸçµŒå–¶è¨ˆç”»ã®å®Ÿç¾å¯èƒ½æ€§", "DXæŠ•è³‡åŠ¹æœ"],
            "external_advisor": "ã€‡ã€‡ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ï¼ˆæˆ¦ç•¥ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰"
        },
        {
            "meeting_date": "2024-03-15",
            "title": "å½¹å“¡å ±é…¬åˆ¶åº¦ã®è¦‹ç›´ã—",
            "type": "å®šä¾‹",
            "materials_ready": False,
            "pre_briefing": "2024-03-10",
            "key_decisions": [
                "å ±é…¬ä½“ç³»ã®å¤‰æ›´",
                "æ¥­ç¸¾é€£å‹•æŒ‡æ¨™ã®è¦‹ç›´ã—",
                "æ ªå¼å ±é…¬ã®å°å…¥"
            ],
            "pre_reading_time": "ç´„1.5æ™‚é–“",
            "related_issues": ["ã‚¬ãƒãƒŠãƒ³ã‚¹"],
            "benchmark_data": "TOPIX100ä¼æ¥­ã®å ±é…¬æ°´æº–åˆ†æä»˜ã"
        }
    ],
    "external_evaluations": [
        {
            "evaluator": "æ—¥æœ¬ã‚³ãƒ¼ãƒãƒ¬ãƒ¼ãƒˆãƒ»ã‚¬ãƒãƒŠãƒ³ã‚¹ãƒ»ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯",
            "rating": "A",
            "date": "2024-01-15",
            "key_points": ["ç‹¬ç«‹ç¤¾å¤–å–ç· å½¹ã®å‰²åˆãŒé©åˆ‡", "æŒ‡åãƒ»å ±é…¬å§”å“¡ä¼šã®ç‹¬ç«‹æ€§ç¢ºä¿", "æƒ…å ±é–‹ç¤ºã®é€æ˜æ€§"]
        },
        {
            "evaluator": "ISS (Institutional Shareholder Services)",
            "rating": "è‰¯å¥½",
            "date": "2023-12-20",
            "key_points": ["å–ç· å½¹ä¼šã®å¤šæ§˜æ€§å‘ä¸Š", "ESGå–ã‚Šçµ„ã¿ã®é€²å±•", "æ ªä¸»é‚„å…ƒæ–¹é‡ã®æ˜ç¢ºåŒ–"]
        }
    ],
    "compliance_incidents": [
        {"date": "éå»6ãƒ¶æœˆ", "count": 0, "severity": "è©²å½“ãªã—"}
    ],
    "investor_dialogue_summary": {
        "total_meetings": 156,
        "by_type": {
            "æ©Ÿé–¢æŠ•è³‡å®¶": {"count": 89, "percentage": 57},
            "å€‹äººæŠ•è³‡å®¶": {"count": 45, "percentage": 29},
            "æµ·å¤–æŠ•è³‡å®¶": {"count": 15, "percentage": 10},
            "è­°æ±ºæ¨©è¡Œä½¿åŠ©è¨€ä¼šç¤¾": {"count": 4, "percentage": 2},
            "ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ã‚¹ãƒˆ": {"count": 3, "percentage": 2}
        },
        "by_topic": {
            "çµŒå–¶æˆ¦ç•¥": {"count": 134, "trend": "å¢—åŠ "},
            "è²¡å‹™ãƒ»æ¥­ç¸¾": {"count": 98, "trend": "æ¨ªã°ã„"},
            "ESG": {"count": 87, "trend": "æ€¥å¢—"},
            "ã‚¬ãƒãƒŠãƒ³ã‚¹": {"count": 56, "trend": "å¢—åŠ "},
            "é…å½“ãƒ»é‚„å…ƒ": {"count": 43, "trend": "æ¨ªã°ã„"}
        },
        "concern_themes": [
            {
                "theme": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã®å®Ÿç¾å¯èƒ½æ€§",
                "mentions": 45,
                "investor_types": ["æ©Ÿé–¢æŠ•è³‡å®¶", "æµ·å¤–æŠ•è³‡å®¶"],
                "sentiment": "æ‡¸å¿µ",
                "key_points": [
                    "æ–°è¦äº‹æ¥­ã®åç›ŠåŒ–æ™‚æœŸã®æ˜ç¢ºåŒ–",
                    "æ—¢å­˜äº‹æ¥­ã¨ã®ã‚·ãƒŠã‚¸ãƒ¼åŠ¹æœ",
                    "æŠ•è³‡å›åã®è¦‹é€šã—"
                ]
            },
            {
                "theme": "ESGç›®æ¨™ã¨ã‚³ã‚¹ãƒˆè² æ‹…",
                "mentions": 38,
                "investor_types": ["æµ·å¤–æŠ•è³‡å®¶", "è­°æ±ºæ¨©è¡Œä½¿åŠ©è¨€ä¼šç¤¾"],
                "sentiment": "è¦æ”¹å–„",
                "key_points": [
                    "å…·ä½“çš„ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®æç¤º",
                    "æŠ•è³‡é¡ã¨æœŸå¾…åŠ¹æœã®ãƒãƒ©ãƒ³ã‚¹",
                    "æ¥­ç•Œå†…ã§ã®ãƒã‚¸ã‚·ãƒ§ãƒ‹ãƒ³ã‚°"
                ]
            },
            {
                "theme": "ãƒ‡ã‚¸ã‚¿ãƒ«åŒ–æŠ•è³‡ã®åŠ¹æœ",
                "mentions": 32,
                "investor_types": ["æ©Ÿé–¢æŠ•è³‡å®¶", "ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ã‚¹ãƒˆ"],
                "sentiment": "æ³¨è¦–",
                "key_points": [
                    "ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–è¦å› ",
                    "ROIã®å…·ä½“çš„ãªæ¸¬å®šæ–¹æ³•",
                    "äººæç¢ºä¿ãƒ»è‚²æˆè¨ˆç”»"
                ]
            }
        ]
    },
    "key_investor_meetings": [
        {
            "id": "meeting_001",
            "date": "2024-01-20",
            "investor_type": "è­°æ±ºæ¨©è¡Œä½¿åŠ©è¨€ä¼šç¤¾",
            "investor_name": "ISS",
            "participants": "CFOã€ç¤¾å¤–å–ç· å½¹2å",
            "duration": "90åˆ†",
            "topics": ["å½¹å“¡å ±é…¬", "ESGç›®æ¨™", "è³‡æœ¬åŠ¹ç‡"],
            "discussion_points": [
                {
                    "topic": "å½¹å“¡å ±é…¬",
                    "concern": "æ¥­ç¸¾é€£å‹•éƒ¨åˆ†ã®å‰²åˆã¨è©•ä¾¡æŒ‡æ¨™",
                    "response": "ä¸­é•·æœŸã‚¤ãƒ³ã‚»ãƒ³ãƒ†ã‚£ãƒ–ã®å°å…¥ã‚’æ¤œè¨ä¸­",
                    "satisfaction": "æ¦‚ã­ç†è§£"
                },
                {
                    "topic": "ESGç›®æ¨™",
                    "concern": "2030å¹´ç›®æ¨™ã®å®Ÿç¾å¯èƒ½æ€§",
                    "response": "è©³ç´°ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’æ¬¡å›é–‹ç¤ºäºˆå®š",
                    "satisfaction": "è¿½åŠ èª¬æ˜è¦"
                }
            ],
            "outcome": "æ¦‚ã­å¥½æ„çš„ãªè©•ä¾¡",
            "follow_up_required": "ESGç›®æ¨™ã®å®šé‡åŒ–",
            "next_meeting": "2024-04-15ï¼ˆäºˆå®šï¼‰"
        },
        {
            "id": "meeting_002",
            "date": "2024-01-15",
            "investor_type": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ã‚¹ãƒˆæŠ•è³‡å®¶",
            "investor_name": "ã€‡ã€‡ã‚­ãƒ£ãƒ”ã‚¿ãƒ«",
            "participants": "CEOã€CFOã€ç¤¾å¤–å–ç· å½¹1å",
            "duration": "120åˆ†",
            "topics": ["è³‡æœ¬æ”¿ç­–", "äº‹æ¥­ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª"],
            "discussion_points": [
                {
                    "topic": "è³‡æœ¬æ”¿ç­–",
                    "concern": "ä½™å‰°è³‡é‡‘ã®æ´»ç”¨æ–¹æ³•",
                    "response": "æˆé•·æŠ•è³‡ã¨æ ªä¸»é‚„å…ƒã®ãƒãƒ©ãƒ³ã‚¹ã‚’æ¤œè¨",
                    "satisfaction": "ç¶™ç¶šå”è­°"
                },
                {
                    "topic": "äº‹æ¥­ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ª",
                    "concern": "éä¸­æ ¸äº‹æ¥­ã®è¦‹ç›´ã—",
                    "response": "äº‹æ¥­è©•ä¾¡åŸºæº–ã®æ˜ç¢ºåŒ–ã‚’é€²è¡Œä¸­",
                    "satisfaction": "æ–¹å‘æ€§åˆæ„"
                }
            ],
            "outcome": "å»ºè¨­çš„ãªå¯¾è©±",
            "follow_up_required": "è³‡æœ¬åŠ¹ç‡æ”¹å–„ç­–ã®æ¤œè¨",
            "next_meeting": "2024-03-10ï¼ˆäºˆå®šï¼‰"
        }
    ],
    # çµŒå–¶é™£å‘ã‘ãƒ‡ãƒ¼ã‚¿
    "top_concerns": [
        {
            "title": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã®é€²æ—ã¸ã®æ‡¸å¿µ",
            "description": "ç‰¹ã«æ–°è¦äº‹æ¥­ã®åç›ŠåŒ–æ™‚æœŸã¨æŠ•è³‡å›åè¦‹è¾¼ã¿ã«ã¤ã„ã¦ã€è¤‡æ•°ã®æ©Ÿé–¢æŠ•è³‡å®¶ã‹ã‚‰è³ªå•ãŒé›†ä¸­ã—ã¦ã„ã¾ã™ã€‚",
            "mention_count": 23,
            "importance": "é«˜",
            "color": "red"
        },
        {
            "title": "ESGç›®æ¨™é”æˆã®å®Ÿç¾å¯èƒ½æ€§",
            "description": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ç›®æ¨™ã«å¯¾ã™ã‚‹å…·ä½“çš„ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨æŠ•è³‡é¡ã«ã¤ã„ã¦èª¬æ˜ã‚’æ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
            "mention_count": 18,
            "importance": "é«˜",
            "color": "orange"
        },
        {
            "title": "é…å½“æ”¿ç­–ã®æŒç¶šå¯èƒ½æ€§",
            "description": "æˆé•·æŠ•è³‡ã¨æ ªä¸»é‚„å…ƒã®ãƒãƒ©ãƒ³ã‚¹ã«ã¤ã„ã¦ã€ã‚ˆã‚Šæ˜ç¢ºãªæ–¹é‡èª¬æ˜ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
            "mention_count": 15,
            "importance": "ä¸­",
            "color": "yellow"
        },
        {
            "title": "ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–æˆ¦ç•¥",
            "description": "å¸‚å ´ã‚·ã‚§ã‚¢æ‹¡å¤§ã®ãŸã‚ã®å…·ä½“çš„ãªæ–½ç­–ã¨ã€æŠ€è¡“å„ªä½æ€§ã®ç¶­æŒæ–¹æ³•ã«ã¤ã„ã¦é–¢å¿ƒãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚",
            "mention_count": 12,
            "importance": "ä¸­",
            "color": "blue"
        },
        {
            "title": "ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ãƒªã‚¹ã‚¯ç®¡ç†",
            "description": "åœ°æ”¿å­¦çš„ãƒªã‚¹ã‚¯ã¸ã®å¯¾å¿œç­–ã¨ã€ä»£æ›¿èª¿é”å…ˆã®ç¢ºä¿çŠ¶æ³ã«ã¤ã„ã¦èª¬æ˜ãŒæ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
            "mention_count": 8,
            "importance": "ä¸­",
            "color": "purple"
        }
    ],
    "recommended_actions": [
        {
            "title": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã®é€²æ—èª¬æ˜ä¼šã‚’é–‹å‚¬",
            "description": "æ–°è¦äº‹æ¥­ã®è©³ç´°ãªKPIã¨åç›ŠåŒ–ã‚·ãƒŠãƒªã‚ªã‚’å«ã‚€ã€åŒ…æ‹¬çš„ãªé€²æ—èª¬æ˜ä¼šã®é–‹å‚¬ã‚’æ¨å¥¨ã—ã¾ã™ã€‚",
            "priority": "ç·Šæ€¥",
            "priority_color": "red",
            "icon": "ğŸ“Š"
        },
        {
            "title": "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®å¯è¦–åŒ–è³‡æ–™ä½œæˆ",
            "description": "å…·ä½“çš„ãªæŠ•è³‡é¡ã€å‰Šæ¸›ç›®æ¨™ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚’æ˜ç¤ºã—ãŸè©³ç´°è³‡æ–™ã®ä½œæˆã¨å…¬é–‹ãŒå¿…è¦ã§ã™ã€‚",
            "priority": "é«˜",
            "priority_color": "orange",
            "icon": "ğŸŒ±"
        },
        {
            "title": "æŠ•è³‡å®¶ã¨ã®å€‹åˆ¥é¢è«‡å¼·åŒ–",
            "description": "ä¸»è¦æ©Ÿé–¢æŠ•è³‡å®¶ã¨ã®1on1é¢è«‡ã‚’å¢—ã‚„ã—ã€æ‡¸å¿µäº‹é …ã«å¯¾ã™ã‚‹ç›´æ¥å¯¾è©±ã®æ©Ÿä¼šã‚’è¨­ã‘ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚",
            "priority": "ä¸­",
            "priority_color": "blue",
            "icon": "ğŸ¤"
        }
    ],
    "important_meetings": [
        {
            "investor": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "date": "2024-01-24",
            "time": "10:00-11:00",
            "agenda": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã®é€²æ—ç¢ºèª",
            "type": "é‡è¦",
            "priority_color": "red"
        },
        {
            "investor": "BlackRock Inc.",
            "date": "2024-01-25",
            "time": "15:00-16:00",
            "agenda": "ESGæˆ¦ç•¥ã«ã¤ã„ã¦",
            "type": "æµ·å¤–",
            "priority_color": "orange"
        },
        {
            "investor": "ä¸‰è±UFJä¿¡è¨—éŠ€è¡Œ",
            "date": "2024-01-26",
            "time": "13:00-14:00",
            "agenda": "æ±ºç®—èª¬æ˜ãƒ»æ¥­ç¸¾è¦‹é€šã—",
            "type": "å®šä¾‹",
            "priority_color": "blue"
        }
    ],
    "skill_tip": {
        "weekly_point": "æ•°å­—ã ã‘ã§ãªãã€ãƒ“ã‚¸ãƒ§ãƒ³ã¨ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’èªã‚‹ã“ã¨ã§æŠ•è³‡å®¶ã®å…±æ„Ÿã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚å…·ä½“ä¾‹ã‚’äº¤ãˆãŸèª¬æ˜ãŒåŠ¹æœçš„ã§ã™ã€‚",
        "trainings": [
            "è³ªç–‘å¿œç­”ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæƒ³å®šå•ç­”é›†ã®æ´»ç”¨ï¼‰",
            "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³è©±æ³•ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°",
            "æŠ•è³‡å®¶å¿ƒç†ã®ç†è§£ã‚»ãƒŸãƒŠãƒ¼å—è¬›"
        ]
    },
    "recent_feedback": [
        {
            "investor": "å¤§æ‰‹æ©Ÿé–¢æŠ•è³‡å®¶A",
            "comment": "çµŒå–¶é™£ã®èª¬æ˜ãŒåˆ†ã‹ã‚Šã‚„ã™ãã€æˆ¦ç•¥ã®æ–¹å‘æ€§ã«ç´å¾—æ„ŸãŒã‚ã‚‹",
            "date": "2024-01-20",
            "sentiment_icon": "ğŸ˜Š",
            "sentiment_color": "green"
        },
        {
            "investor": "æµ·å¤–æŠ•è³‡å®¶B",
            "comment": "ESGã®å…·ä½“çš„ãªå®Ÿè¡Œè¨ˆç”»ã‚’ã‚‚ã£ã¨è©³ã—ãçŸ¥ã‚ŠãŸã„",
            "date": "2024-01-19",
            "sentiment_icon": "ğŸ¤”",
            "sentiment_color": "yellow"
        },
        {
            "investor": "ã‚¢ãƒŠãƒªã‚¹ãƒˆC",
            "comment": "ç«¶åˆæ¯”è¼ƒã®è¦³ç‚¹ã‹ã‚‰ã€å·®åˆ¥åŒ–è¦å› ã‚’ã‚ˆã‚Šæ˜ç¢ºã«ç¤ºã—ã¦ã»ã—ã„",
            "date": "2024-01-18",
            "sentiment_icon": "ğŸ’­",
            "sentiment_color": "orange"
        }
    ]
}

# ===== ãƒ«ãƒ¼ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ =====

@app.get("/", response_class=HTMLResponse)
async def dashboard(request: Request):
    """ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢"""
    from datetime import datetime, timedelta
    import random
    
    # æ–°ã—ã„ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ 
    active_meetings = [
        {
            "id": "meeting_001",
            "title": "é‡æ‘AMã¨ã®é¢è«‡è¨˜éŒ²",
            "investor_name": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "investor_type": "å¤§å£æ©Ÿé–¢æŠ•è³‡å®¶",
            "date": "2024-01-22 10:00",
            "duration": "1æ™‚é–“30åˆ†",
            "priority": "high",
            "days_elapsed": 2,
            "is_urgent": False,
            "stages": {
                "upload": {
                    "status": "completed",
                    "files": ["ğŸ¥", "ğŸ¤", "ğŸ“„"]
                },
                "transcription": {
                    "status": "completed",
                    "duration": "15åˆ†",
                    "progress": 100
                },
                "ai_summary": {
                    "status": "completed"
                },
                "faq": {
                    "status": "in_progress",
                    "draft_count": 3,
                    "count": 0
                },
                "review": {
                    "status": "waiting"
                },
                "publish": {
                    "status": "waiting"
                }
            }
        },
        {
            "id": "meeting_002",
            "title": "BlackRockå®šä¾‹ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
            "investor_name": "BlackRock Inc.",
            "investor_type": "æµ·å¤–æ©Ÿé–¢æŠ•è³‡å®¶",
            "date": "2024-01-21 17:00",
            "duration": "45åˆ†",
            "priority": "high",
            "days_elapsed": 3,
            "is_urgent": False,
            "stages": {
                "upload": {
                    "status": "completed",
                    "files": ["ğŸ’»", "ğŸ¤"]
                },
                "transcription": {
                    "status": "processing",
                    "progress": 65
                },
                "ai_summary": {
                    "status": "waiting"
                },
                "faq": {
                    "status": "waiting"
                },
                "review": {
                    "status": "waiting"
                },
                "publish": {
                    "status": "waiting"
                }
            }
        },
        {
            "id": "meeting_003",
            "title": "å€‹äººæŠ•è³‡å®¶èª¬æ˜ä¼š",
            "investor_name": "å€‹äººæŠ•è³‡å®¶ï¼ˆ30åï¼‰",
            "investor_type": "å€‹äººæŠ•è³‡å®¶",
            "date": "2024-01-20 14:00",
            "duration": "2æ™‚é–“",
            "priority": "medium",
            "days_elapsed": 4,
            "is_urgent": True,
            "stages": {
                "upload": {
                    "status": "pending"
                },
                "transcription": {
                    "status": "waiting"
                },
                "ai_summary": {
                    "status": "waiting"
                },
                "faq": {
                    "status": "waiting"
                },
                "review": {
                    "status": "waiting"
                },
                "publish": {
                    "status": "waiting"
                }
            }
        },
        {
            "id": "meeting_004",
            "title": "ã‚¢ãƒŠãƒªã‚¹ãƒˆå‘ã‘ã‚¹ãƒ¢ãƒ¼ãƒ«ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
            "investor_name": "è¨¼åˆ¸ã‚¢ãƒŠãƒªã‚¹ãƒˆ5å",
            "investor_type": "ã‚¢ãƒŠãƒªã‚¹ãƒˆ",
            "date": "2024-01-19 16:00",
            "duration": "1æ™‚é–“",
            "priority": "high",
            "days_elapsed": 5,
            "is_urgent": True,
            "stages": {
                "upload": {
                    "status": "completed",
                    "files": ["ğŸ’»", "ğŸ“„"]
                },
                "transcription": {
                    "status": "completed",
                    "duration": "10åˆ†"
                },
                "ai_summary": {
                    "status": "completed"
                },
                "faq": {
                    "status": "completed",
                    "count": 5
                },
                "review": {
                    "status": "approved",
                    "approver": "IRéƒ¨é•·"
                },
                "publish": {
                    "status": "ready"
                }
            }
        }
    ]
    
    urgent_meetings = [m for m in active_meetings if m["is_urgent"]]
    
    # æœ¬æ—¥ã®ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ•°ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    todays_meetings = 3
    
    # KPIãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    processing_efficiency = 87
    avg_processing_time = "2.5æ™‚é–“"
    ai_usage_rate = 92
    ai_automated_tasks = 156
    ai_improvement = 15
    investor_satisfaction = 95
    
    # å‡¦ç†å®Œäº†æ™‚ã®è¿½åŠ ãƒ‡ãƒ¼ã‚¿
    todays_schedule = {
        "meetings": 3,
        "followups": 5,
        "reports": 2
    }
    
    priority_followups = [
        {"name": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", "priority": "high", "reason": "è¿½åŠ è³ªå•"},
        {"name": "BlackRock Inc.", "priority": "high", "reason": "ESGæ‡¸å¿µ"},
        {"name": "ä¸‰è±UFJä¿¡è¨—éŠ€è¡Œ", "priority": "medium", "reason": "å®šæœŸç¢ºèª"},
        {"name": "å€‹äººæŠ•è³‡å®¶ã‚°ãƒ«ãƒ¼ãƒ—", "priority": "medium", "reason": "é…å½“è³ªå•"}
    ]
    
    executive_reports = {
        "weekly_status": "ä½œæˆä¸­",
        "concerns": 3,
        "next_board_meeting": "2æœˆ15æ—¥"
    }
    
    weekly_summary = {
        "period": "2024å¹´1æœˆ15æ—¥ã€œ21æ—¥",
        "total_meetings": 12,
        "avg_processing_time": "2.3æ™‚é–“",
        "ai_usage": 95,
        "satisfaction_score": 4.3,
        "top_topics": [
            {"name": "AIäº‹æ¥­æˆ¦ç•¥", "count": 8, "percentage": 67},
            {"name": "ESGç›®æ¨™", "count": 6, "percentage": 50},
            {"name": "è²¡å‹™è¦‹é€šã—", "count": 5, "percentage": 42}
        ],
        "concerns": [
            {"issue": "AIæŠ•è³‡ã®ROIæ˜ç¢ºåŒ–", "mentions": 5},
            {"issue": "ESGç›®æ¨™ã®å®Ÿç¾å¯èƒ½æ€§", "mentions": 4}
        ]
    }
    
    performance_metrics = {
        "transcription_accuracy": 96,
        "summary_quality": 89,
        "faq_efficiency": 92,
        "ai_recommendation": "æ–‡å­—èµ·ã“ã—ç²¾åº¦ãŒå‘ä¸Šã—ã¦ã„ã¾ã™ã€‚FAQä½œæˆæ™‚ã«ã‚ˆã‚Šå¤šãã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚"
    }
    
    investor_engagement = [
        {"type": "æ©Ÿé–¢æŠ•è³‡å®¶", "count": 45, "meetings": 89, "satisfaction": 4.2},
        {"type": "æµ·å¤–æŠ•è³‡å®¶", "count": 15, "meetings": 28, "satisfaction": 3.8},
        {"type": "å€‹äººæŠ•è³‡å®¶", "count": 156, "meetings": 45, "satisfaction": 4.5}
    ]
    
    # 52é€±åˆ†ã®å‡¦ç†ä»¶æ•°ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    weekly_processing_data = []
    current_date = datetime.now()
    for week in range(52):
        week_date = current_date - timedelta(weeks=52-week)
        # å­£ç¯€æ€§ã‚’è€ƒæ…®ã—ãŸãƒ©ãƒ³ãƒ€ãƒ ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
        base_count = 5
        if week_date.month in [2, 5, 8, 11]:  # æ±ºç®—ç™ºè¡¨æ™‚æœŸ
            base_count = 15
        
        institutional = random.randint(base_count, base_count + 5)
        overseas = random.randint(int(base_count * 0.3), int(base_count * 0.7))
        individual = random.randint(int(base_count * 0.5), int(base_count * 0.8))
        analyst = random.randint(1, 3)
        
        weekly_processing_data.append({
            "week": week_date.strftime("%m/%d"),
            "institutional": institutional,
            "overseas": overseas,
            "individual": individual,
            "analyst": analyst,
            "total": institutional + overseas + individual + analyst
        })
    
    # ç›´è¿‘ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°è³ªå•ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
    question_categories = [
        {"category": "æ¥­ç¸¾ãƒ»è²¡å‹™", "count": 45, "percentage": 28, "color": "#3B82F6"},
        {"category": "AIäº‹æ¥­æˆ¦ç•¥", "count": 38, "percentage": 23, "color": "#10B981"},
        {"category": "ESG/ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£", "count": 32, "percentage": 20, "color": "#F59E0B"},
        {"category": "é…å½“ãƒ»æ ªä¸»é‚„å…ƒ", "count": 25, "percentage": 16, "color": "#EF4444"},
        {"category": "ã‚¬ãƒãƒŠãƒ³ã‚¹", "count": 13, "percentage": 8, "color": "#8B5CF6"},
        {"category": "ãã®ä»–", "count": 8, "percentage": 5, "color": "#6B7280"}
    ]
    
    # ä»Šæ—¥ã®æŠ•è³‡å®¶ã¨ã®äºˆå®šï¼ˆè©³ç´°ç‰ˆï¼‰
    todays_meetings_detail = [
        {
            "id": "meeting_today_001",
            "time": "10:00",
            "investor_name": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "duration": "60åˆ†",
            "topics": ["Q3æ±ºç®—", "AIäº‹æ¥­é€²æ—"],
            "is_important": True,
            "last_meeting_summary": "AIäº‹æ¥­ã®åç›ŠåŒ–æ™‚æœŸã«ã¤ã„ã¦æ‡¸å¿µã‚’è¡¨æ˜ã€‚å…·ä½“çš„ãªKPIã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®æç¤ºã‚’æ±‚ã‚ã‚‰ã‚ŒãŸã€‚",
            "pending_items": [
                "AIäº‹æ¥­ã®è©³ç´°ãªKPIè³‡æ–™ã®æä¾›",
                "ç«¶åˆä»–ç¤¾ã¨ã®æ¯”è¼ƒåˆ†æãƒ¬ãƒãƒ¼ãƒˆ"
            ],
            "past_questions": [
                "AIäººæã®ç¢ºä¿çŠ¶æ³ã¯ï¼Ÿ",
                "R&DæŠ•è³‡ã®ROIã¯ï¼Ÿ"
            ]
        },
        {
            "id": "meeting_today_002",
            "time": "14:00",
            "investor_name": "BlackRock Inc.",
            "duration": "45åˆ†",
            "topics": ["ESGç›®æ¨™", "ã‚°ãƒ­ãƒ¼ãƒãƒ«æŠ•è³‡"],
            "is_important": False,
            "last_meeting_summary": "ESGç›®æ¨™ã®é€²æ—çŠ¶æ³ã‚’å®šæœŸçš„ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€‚ç‰¹ã«ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã®å…·ä½“çš„æ–½ç­–ã«é–¢å¿ƒã€‚",
            "pending_items": [
                "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®æ›´æ–°ç‰ˆ"
            ],
            "past_questions": [
                "ã‚¹ã‚³ãƒ¼ãƒ—3ç›®æ¨™ã®å…·ä½“çš„æ–½ç­–ã¯ï¼Ÿ",
                "ã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ã®CO2æ’å‡ºé‡æŠŠæ¡ã¯ï¼Ÿ"
            ]
        }
    ]
    
    return templates.TemplateResponse("dashboard.html", {
        "request": request,
        "title": "ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
        "active_meetings": active_meetings,
        "urgent_meetings": urgent_meetings,
        "todays_meetings": todays_meetings,
        "processing_efficiency": processing_efficiency,
        "avg_processing_time": avg_processing_time,
        "ai_usage_rate": ai_usage_rate,
        "ai_automated_tasks": ai_automated_tasks,
        "ai_improvement": ai_improvement,
        "investor_satisfaction": investor_satisfaction,
        "todays_schedule": todays_schedule,
        "priority_followups": priority_followups,
        "executive_reports": executive_reports,
        "weekly_summary": weekly_summary,
        "performance_metrics": performance_metrics,
        "investor_engagement": investor_engagement,
        "weekly_processing_data": weekly_processing_data,
        "question_categories": question_categories,
        "todays_meetings_detail": todays_meetings_detail,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/faq", response_class=HTMLResponse)
async def faq_management(request: Request):
    """FAQç®¡ç†ç”»é¢"""
    # æ—¥ä»˜è¨ˆç®—
    from datetime import datetime, timedelta
    today = datetime.now().date()
    soon_date = today + timedelta(days=30)
    
    return templates.TemplateResponse("faq.html", {
        "request": request,
        "title": "AI-FAQç®¡ç†",
        "faqs": MOCK_DATA["faqs"],
        "data_sources": MOCK_DATA["data_sources"],
        "total_faqs": len(MOCK_DATA["faqs"]),
        "published_count": len([f for f in MOCK_DATA["faqs"] if f["status"] == "published"]),
        "current_version_count": len([f for f in MOCK_DATA["faqs"] if f["is_current"]]),
        "expiring_soon_count": len([f for f in MOCK_DATA["faqs"] if f["valid_until"] < str(soon_date)]),
        "today": str(today),
        "soon_date": str(soon_date)
    })

@app.get("/investors", response_class=HTMLResponse)
async def investor_management(request: Request):
    """æŠ•è³‡å®¶ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("investors.html", {
        "request": request,
        "title": "æŠ•è³‡å®¶ç®¡ç†",
        "investors": MOCK_DATA["investors"],
        "total_investors": len(MOCK_DATA["investors"])
    })

@app.get("/upload", response_class=HTMLResponse)
async def file_upload(request: Request):
    """ãƒ‡ãƒ¼ã‚¿å–è¾¼è¨­å®šç”»é¢"""
    return templates.TemplateResponse("upload.html", {
        "request": request,
        "title": "ãƒ‡ãƒ¼ã‚¿å–è¾¼è¨­å®š"
    })

@app.get("/upload-confirm", response_class=HTMLResponse)
async def upload_confirm(request: Request):
    """ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç¢ºèªãƒ»ãƒ¡ã‚¿æƒ…å ±ç™»éŒ²ç”»é¢"""
    # URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å–å¾—ï¼ˆãƒ¢ãƒƒã‚¯ç”¨ï¼‰
    file_name = request.query_params.get("file", "é‡æ‘AM_æŠ•è³‡å®¶é¢è«‡_20250715.mp4")
    file_type = request.query_params.get("type", "video")
    
    return templates.TemplateResponse("upload-confirm.html", {
        "request": request,
        "title": "ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç¢ºèªãƒ»ãƒ¡ã‚¿æƒ…å ±ç™»éŒ²",
        "file_name": file_name,
        "file_type": file_type,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/dialogue", response_class=HTMLResponse)
async def dialogue_management(request: Request):
    """å¯¾è©±è¨˜éŒ²ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("dialogue.html", {
        "request": request,
        "title": "å¯¾è©±è¨˜éŒ²ç®¡ç†"
    })

@app.get("/dialogue/analysis", response_class=HTMLResponse)
async def dialogue_analysis(request: Request):
    """AIè©³ç´°åˆ†æç”»é¢ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰"""
    # URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰IDã‚’å–å¾—
    record_id = request.query_params.get("id", "12345")
    
    return templates.TemplateResponse("dialogue-analysis.html", {
        "request": request,
        "title": "AIè©³ç´°åˆ†æ",
        "record_id": record_id,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/dialogue-analysis", response_class=HTMLResponse)
async def dialogue_analysis_alt(request: Request):
    """AIè©³ç´°åˆ†æç”»é¢ï¼ˆåˆ¥ãƒ«ãƒ¼ãƒˆï¼‰"""
    # URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰IDã‚’å–å¾—
    record_id = request.query_params.get("id", "12345")
    
    return templates.TemplateResponse("dialogue-analysis.html", {
        "request": request,
        "title": "AIè©³ç´°åˆ†æ",
        "record_id": record_id,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/dialogue/publish", response_class=HTMLResponse)
async def dialogue_publish(request: Request):
    """å¯¾è©±è¨˜éŒ²å…¬é–‹ç¢ºèªç”»é¢"""
    # URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰IDã‚’å–å¾—
    record_id = request.query_params.get("id", "12345")
    
    return templates.TemplateResponse("dialogue-publish.html", {
        "request": request,
        "title": "ç¢ºèªãƒ»å…¬é–‹è¨­å®š",
        "record_id": record_id,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/dialogue/edit", response_class=HTMLResponse)
async def dialogue_edit_unified(request: Request):
    """çµ±åˆè­°äº‹éŒ²ç·¨é›†ç”»é¢ï¼ˆæ®µéšé©å¿œå‹UIï¼‰"""
    # URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰IDã‚’å–å¾—
    meeting_id = request.query_params.get("id", "meeting_001")
    
    # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿéš›ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰å–å¾—ï¼‰
    # åŸºæœ¬ãƒ‡ãƒ¼ã‚¿ã‚’å…ˆã«å®šç¾©
    base_meeting_data = {
        "meeting_001": {
            "title": "é‡æ‘AMã¨ã®é¢è«‡è¨˜éŒ²",
            "investor_name": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "investor_type": "å¤§å£æ©Ÿé–¢æŠ•è³‡å®¶",
            "type": "å€‹åˆ¥é¢è«‡",
            "date": "2024-01-22 10:00",
            "formatted_date": "2024å¹´1æœˆ22æ—¥ 10:00",
            "participants": 4,
            "company_participants": ["CEO - ç”°ä¸­ä¸€éƒ", "CFO - ä½è—¤äºŒéƒ"],
            "tags": ["æ±ºç®—", "Q3", "AIäº‹æ¥­", "æˆé•·æˆ¦ç•¥"],
            "priority": "high",
            "days_elapsed": 2,
            "current_stage": "faq",
            "stages": {
                "upload": {
                    "status": "completed",
                    "files": ["ğŸ¥", "ğŸ¤", "ğŸ“„"]
                },
                "transcription": {
                    "status": "completed",
                    "duration": "15åˆ†",
                    "progress": 100
                },
                "ai_summary": {
                    "status": "completed"
                },
                "faq": {
                    "status": "in_progress",
                    "draft_count": 3,
                    "count": 0
                },
                "review": {
                    "status": "waiting"
                },
                "publish": {
                    "status": "waiting"
                }
            },
            "files": [
                {
                    "id": "file_001",
                    "name": "é‡æ‘AM_é¢è«‡_20240122.mp4",
                    "type": "video",
                    "size": "456.2MB",
                    "duration": "1æ™‚é–“30åˆ†"
                },
                {
                    "id": "file_002",
                    "name": "é‡æ‘AM_é¢è«‡_éŸ³å£°.mp3",
                    "type": "audio",
                    "size": "89.5MB",
                    "duration": "1æ™‚é–“30åˆ†"
                },
                {
                    "id": "file_003",
                    "name": "èª¬æ˜è³‡æ–™.pdf",
                    "type": "document",
                    "size": "12.3MB",
                    "duration": "-"
                }
            ],
            "transcript_preview": "ã€ç”°ä¸­ï¼ˆCEOï¼‰ã€‘æœ¬æ—¥ã¯ãŠå¿™ã—ã„ä¸­ã€ãŠæ™‚é–“ã‚’ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ç¬¬3å››åŠæœŸã®æ±ºç®—ã«ã¤ã„ã¦ã”èª¬æ˜ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚\n\nã€æŠ•è³‡å®¶ã€‘ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ç‰¹ã«AIäº‹æ¥­ã®é€²æ—ã«ã¤ã„ã¦è©³ã—ããŠèãã—ãŸã„ã§ã™ã€‚\n\nã€ç”°ä¸­ï¼ˆCEOï¼‰ã€‘AIäº‹æ¥­ã«ã¤ã„ã¦ã¯ã€äºˆæƒ³ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§æˆé•·ã—ã¦ãŠã‚Šã¾ã™ã€‚ç‰¹ã«é‡‘èæ©Ÿé–¢å‘ã‘ã®AIã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¥½èª¿ã§...",
            "transcript_stats": {
                "total_chars": 15680,
                "reading_time": 12
            },
            "investor_profile": {
                "investment_style": "é•·æœŸãƒãƒªãƒ¥ãƒ¼æŠ•è³‡",
                "esg_focus": "é«˜",
                "holding_period": "å¹³å‡3.2å¹´",
                "total_meetings": 12,
                "last_meeting_date": "2023-10-15",
                "satisfaction_trend": "å‘ä¸Š",
                "key_interests": ["æŠ€è¡“å„ªä½æ€§", "ESGæˆ¦ç•¥", "åç›Šæ€§"],
                "risk_tolerance": "ä¸­",
                "typical_concerns": ["ç«¶åˆå„ªä½æ€§", "é•·æœŸæˆé•·æ€§", "ãƒªã‚¹ã‚¯ç®¡ç†"]
            },
            "past_meetings": [
                {
                    "id": "meeting_20231015",
                    "date": "2023-10-15",
                    "title": "Q2æ±ºç®—èª¬æ˜ä¼š",
                    "topics": ["Q2æ¥­ç¸¾", "ä¸­æœŸæˆ¦ç•¥", "ESGé€²æ—"],
                    "investor_satisfaction": 8.5,
                    "key_concerns": ["AIæŠ•è³‡åŠ¹ç‡", "ç«¶åˆå¯¾å¿œ"]
                },
                {
                    "id": "meeting_20230715", 
                    "date": "2023-07-15",
                    "title": "ä¸­æœŸçµŒå–¶è¨ˆç”»èª¬æ˜",
                    "topics": ["3ãƒµå¹´è¨ˆç”»", "M&Aæˆ¦ç•¥", "DXæ¨é€²"],
                    "investor_satisfaction": 7.8,
                    "key_concerns": ["è¨ˆç”»å®Ÿç¾æ€§", "æŠ•è³‡å›å"]
                }
            ],
            "ai_analysis": {
                "sentiment_score": 78,
                "engagement_level": 8.2,
                "understanding_level": 6.5, 
                "satisfaction_level": 7.8,
                "key_topics": [
                    {"topic": "AIäº‹æ¥­æˆ¦ç•¥", "mentions": 23, "sentiment": "positive"},
                    {"topic": "ç«¶åˆå„ªä½æ€§", "mentions": 18, "sentiment": "concerned"},
                    {"topic": "ESGç›®æ¨™", "mentions": 15, "sentiment": "interested"},
                    {"topic": "åç›Šæ€§", "mentions": 12, "sentiment": "positive"}
                ],
                "concerns_detected": [
                    {
                        "topic": "AIäº‹æ¥­ã®ç«¶äº‰å„ªä½æ€§",
                        "confidence": 0.94,
                        "urgency": "high",
                        "detail": "ç«¶åˆä»–ç¤¾ã¨ã®æŠ€è¡“çš„å·®åˆ¥åŒ–ã«ã¤ã„ã¦è¤‡æ•°å›è³ªå•",
                        "suggested_response": "ç‰¹è¨±ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¨ç‹¬è‡ªæŠ€è¡“ã®è©³ç´°èª¬æ˜"
                    },
                    {
                        "topic": "ESGç›®æ¨™ã®å®Ÿç¾å¯èƒ½æ€§", 
                        "confidence": 0.87,
                        "urgency": "medium",
                        "detail": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ç›®æ¨™ã®å…·ä½“æ€§ã¸ã®ç–‘å•",
                        "suggested_response": "è©³ç´°ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã¨æŠ•è³‡è¨ˆç”»ã®æç¤º"
                    }
                ],
                "recommendations": [
                    "æ¬¡å›é¢è«‡æ™‚ã«ç‰¹è¨±æŠ€è¡“ã®è©³ç´°è³‡æ–™ã‚’æº–å‚™",
                    "ç«¶åˆæ¯”è¼ƒåˆ†æãƒ¬ãƒãƒ¼ãƒˆã®ä½œæˆ",
                    "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®æ—©æœŸå…¬è¡¨"
                ]
            },
            "ai_summary": {
                "executive_summary": "ç¬¬3å››åŠæœŸã®æ¥­ç¸¾ã¯å…¨ä½“çš„ã«å¥½èª¿ã§ã€ç‰¹ã«AIäº‹æ¥­ãŒäºˆæƒ³ã‚’ä¸Šå›ã‚‹æˆé•·ã‚’ç¤ºã—ã¾ã—ãŸã€‚æŠ•è³‡å®¶ã‹ã‚‰ã¯ä»Šå¾Œã®æˆé•·æ€§ã¨ç«¶äº‰å„ªä½æ€§ã«ã¤ã„ã¦é«˜ã„é–¢å¿ƒãŒå¯„ã›ã‚‰ã‚Œã¾ã—ãŸã€‚",
                "key_points": [
                    "AIäº‹æ¥­ã®å£²ä¸ŠãŒå‰å¹´åŒæœŸæ¯”150%æˆé•·",
                    "é‡‘èæ©Ÿé–¢å‘ã‘AIã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®å¥‘ç´„æ•°ãŒå€å¢—",
                    "2024å¹´åº¦ã®æ¥­ç¸¾äºˆæƒ³ã‚’ä¸Šæ–¹ä¿®æ­£ã®å¯èƒ½æ€§",
                    "ESGç›®æ¨™é”æˆã«å‘ã‘ãŸå…·ä½“çš„ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’ç­–å®šä¸­"
                ],
                "investor_concerns": [
                    {
                        "topic": "AIäº‹æ¥­ã®ç«¶äº‰å„ªä½æ€§",
                        "detail": "ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–è¦å› ã€æŠ€è¡“çš„å„ªä½æ€§ã®æŒç¶šå¯èƒ½æ€§"
                    },
                    {
                        "topic": "æŠ•è³‡åŠ¹ç‡",
                        "detail": "AIé–‹ç™ºã¸ã®æŠ•è³‡é¡ã¨ROIã®å…·ä½“çš„ãªæ•°å€¤"
                    },
                    {
                        "topic": "ESGç›®æ¨™",
                        "detail": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã®å®Ÿç¾å¯èƒ½æ€§ã¨ã‚³ã‚¹ãƒˆ"
                    }
                ],
                "recommended_actions": [
                    "AIäº‹æ¥­ã®è©³ç´°ãªäº‹æ¥­è¨ˆç”»ã¨KPIã‚’æ¬¡å›æ±ºç®—èª¬æ˜ä¼šã§å…¬è¡¨",
                    "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’2æœˆæœ«ã¾ã§ã«å…¬é–‹",
                    "ç«¶åˆåˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã€æŠ•è³‡å®¶å‘ã‘ã«å…±æœ‰"
                ]
            },
            "faq_drafts": [
                {
                    "id": "faq_001",
                    "question": "AIäº‹æ¥­ã®ä»Šå¾Œã®æˆé•·æ€§ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„",
                    "answer": "AIäº‹æ¥­ã¯å½“ç¤¾ã®æˆé•·æˆ¦ç•¥ã®ä¸­æ ¸ã§ã‚ã‚Šã€ç‰¹ã«é‡‘èæ©Ÿé–¢å‘ã‘ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§å¼·ã„ç«¶äº‰åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ä»ŠæœŸã¯å‰å¹´åŒæœŸæ¯”150%ã®æˆé•·ã‚’é”æˆã—ã€æ¥æœŸã‚‚100%ä»¥ä¸Šã®æˆé•·ã‚’è¦‹è¾¼ã‚“ã§ã„ã¾ã™ã€‚",
                    "ai_generated": True,
                    "confidence": 95
                },
                {
                    "id": "faq_002",
                    "question": "ESGç›®æ¨™ã®é€²æ—çŠ¶æ³ã¯ï¼Ÿ",
                    "answer": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ç›®æ¨™ã«å‘ã‘ã¦ã€ç¾åœ¨è©³ç´°ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’ç­–å®šä¸­ã§ã™ã€‚2æœˆæœ«ã¾ã§ã«å…·ä½“çš„ãªæ–½ç­–ã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚’å…¬è¡¨äºˆå®šã§ã™ã€‚",
                    "ai_generated": True,
                    "confidence": 88
                },
                {
                    "id": "faq_003",
                    "question": "é…å½“æ”¿ç­–ã«å¤‰æ›´ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
                    "answer": "ç¾æ™‚ç‚¹ã§é…å½“æ”¿ç­–ã«å¤‰æ›´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é…å½“æ€§åˆ30%ã‚’ç¶­æŒã—ã€å®‰å®šçš„ãªæ ªä¸»é‚„å…ƒã‚’ç¶™ç¶šã—ã¾ã™ã€‚",
                    "ai_generated": False,
                    "confidence": 100
                }
            ],
            "timeline": [
                {
                    "type": "success",
                    "title": "ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†",
                    "timestamp": "2024-01-22 11:35",
                    "user": "IRæ‹…å½“è€…A"
                },
                {
                    "type": "success",
                    "title": "æ–‡å­—èµ·ã“ã—å®Œäº†",
                    "timestamp": "2024-01-22 11:50",
                    "user": "AIè‡ªå‹•å‡¦ç†"
                },
                {
                    "type": "success",
                    "title": "AIè¦ç´„å®Œäº†",
                    "timestamp": "2024-01-22 12:05",
                    "user": "AIè‡ªå‹•å‡¦ç†"
                },
                {
                    "type": "processing",
                    "title": "FAQä½œæˆä¸­",
                    "timestamp": "2024-01-22 14:30",
                    "user": "IRæ‹…å½“è€…A"
                }
            ],
            "current_stage_info": {
                "action_required": True,
                "message": "FAQã®ä½œæˆãƒ»ç¢ºèªãŒå¿…è¦ã§ã™ã€‚AIãŒç”Ÿæˆã—ãŸ3ä»¶ã®FAQæ¡ˆã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦ç·¨é›†ãƒ»è¿½åŠ ã—ã¦ãã ã•ã„ã€‚",
                "action_label": "FAQã‚’ç·¨é›†",
                "action_function": "manageFAQs()"
            },
            "can_edit_basic_info": True,
            "can_generate_more_faqs": True,
            "can_upload_more": True,
            "can_save": True,
            "show_action_bar": True,
            "primary_action": {
                "label": "ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€²ã‚€",
                "function": "submitForReview()"
            },
            "total_processing_time": "2æ™‚é–“30åˆ†",
            "progress_percentage": 65,
            "last_updated": "2024-01-22 14:30",
            "action_items": [
                {"id": "action_001", "title": "ç‰¹è¨±ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®è©³ç´°è³‡æ–™ä½œæˆ", "assignee": "æ³•å‹™éƒ¨", "due_date": "2024-02-15", "priority": "high", "status": "pending", "estimated_hours": 16},
                {"id": "action_002", "title": "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã®æœ€çµ‚ç¢ºèªãƒ»å…¬è¡¨æº–å‚™", "assignee": "ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£éƒ¨", "due_date": "2024-02-28", "priority": "high", "status": "in_progress", "estimated_hours": 24},
                {"id": "action_003", "title": "ç«¶åˆä»–ç¤¾æ¯”è¼ƒåˆ†æãƒ¬ãƒãƒ¼ãƒˆä½œæˆ", "assignee": "æˆ¦ç•¥ä¼ç”»éƒ¨", "due_date": "2024-03-10", "priority": "medium", "status": "pending", "estimated_hours": 20}
            ],
            "next_meeting_suggestion": {
                "recommended_date": "2024-04-15", "reason": "Q4æ±ºç®—ç™ºè¡¨å¾Œã®ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—",
                "agenda_items": ["Q4æ¥­ç¸¾èª¬æ˜", "ESGé€²æ—å ±å‘Š", "ç‰¹è¨±æˆ¦ç•¥è©³ç´°", "ç«¶åˆåˆ†æçµæœ"],
                "preparation_materials": ["æ±ºç®—èª¬æ˜è³‡æ–™", "ESGãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—æ›´æ–°ç‰ˆ", "ç‰¹è¨±ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè©³ç´°ç‰ˆ", "ç«¶åˆæ¯”è¼ƒåˆ†æ"]
            },
            "comparison_data": {
                "previous_meeting": {
                    "date": "2023-10-15", "key_topics": ["Q2æ¥­ç¸¾", "ä¸€èˆ¬çš„ãªæŠ€è¡“èª¬æ˜", "ESGæ¤œè¨æ®µéš"],
                    "investor_satisfaction": 7.5, "concerns": ["æŠ€è¡“å„ªä½æ€§", "æˆé•·æŒç¶šæ€§"],
                    "changes_since": [
                        {"aspect": "æŠ€è¡“èª¬æ˜", "change": "ä¸€èˆ¬çš„â†’å…·ä½“çš„ç‰¹è¨±æŠ€è¡“", "trend": "positive"},
                        {"aspect": "æŠ•è³‡å®¶é–¢å¿ƒ", "change": "ä¸­ç¨‹åº¦â†’é«˜ã„é–¢å¿ƒ", "trend": "positive"},
                        {"aspect": "æ‡¸å¿µãƒ¬ãƒ™ãƒ«", "change": "ä½â†’ä¸­ç¨‹åº¦", "trend": "attention"}
                    ]
                }
            }
        },
        "meeting_002": {
            "title": "BlackRockå®šä¾‹ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°",
            "investor_name": "BlackRock Inc.",
            "investor_type": "æµ·å¤–æ©Ÿé–¢æŠ•è³‡å®¶",
            "type": "Webä¼šè­°",
            "date": "2024-01-21 17:00",
            "formatted_date": "2024å¹´1æœˆ21æ—¥ 17:00",
            "participants": 6,
            "company_participants": ["CFO - ä½è—¤äºŒéƒ", "IRéƒ¨é•· - å±±æœ¬ä¸‰éƒ"],
            "tags": ["ESG", "ã‚°ãƒ­ãƒ¼ãƒãƒ«æŠ•è³‡", "ã‚¬ãƒãƒŠãƒ³ã‚¹"],
            "priority": "high",
            "days_elapsed": 3,
            "current_stage": "transcription",
            "stages": {
                "upload": {
                    "status": "completed",
                    "files": ["ğŸ’»", "ğŸ¤"]
                },
                "transcription": {
                    "status": "processing",
                    "progress": 65
                },
                "ai_summary": {
                    "status": "waiting"
                },
                "faq": {
                    "status": "waiting"
                },
                "review": {
                    "status": "waiting"
                },
                "publish": {
                    "status": "waiting"
                }
            },
            "files": [
                {
                    "id": "file_004",
                    "name": "BlackRock_meeting_20240121.mp4",
                    "type": "video",
                    "size": "234.5MB",
                    "duration": "45åˆ†"
                },
                {
                    "id": "file_005",
                    "name": "BlackRock_meeting_audio.mp3",
                    "type": "audio",
                    "size": "45.2MB",
                    "duration": "45åˆ†"
                }
            ],
            "timeline": [
                {
                    "type": "success",
                    "title": "ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†",
                    "timestamp": "2024-01-21 18:00",
                    "user": "IRæ‹…å½“è€…B"
                },
                {
                    "type": "processing",
                    "title": "æ–‡å­—èµ·ã“ã—é–‹å§‹",
                    "timestamp": "2024-01-21 18:15",
                    "user": "AIè‡ªå‹•å‡¦ç†"
                }
            ],
            "current_stage_info": {
                "action_required": False,
                "message": "æ–‡å­—èµ·ã“ã—ã‚’å‡¦ç†ä¸­ã§ã™ã€‚å®Œäº†ã¾ã§ç´„ 15åˆ†ã‹ã‹ã‚Šã¾ã™ã€‚"
            },
            "can_edit_basic_info": True,
            "can_upload_more": False,
            "show_action_bar": False,
            "total_processing_time": "1æ™‚é–“",
            "progress_percentage": 30,
            "last_updated": "2024-01-21 18:15"
        },
        "activity-002": {
            "title": "BlackRockå€‹åˆ¥é¢è«‡",
            "investor_name": "BlackRock Inc.",
            "investor_type": "æµ·å¤–æ©Ÿé–¢æŠ•è³‡å®¶",
            "type": "å€‹åˆ¥é¢è«‡",
            "date": "2024-01-21 15:00",
            "formatted_date": "2024å¹´1æœˆ21æ—¥ 15:00",
            "participants": 2,
            "company_participants": ["CFO - ä½è—¤äºŒéƒ", "IRéƒ¨é•· - å±±æœ¬ä¸‰éƒ"],
            "tags": ["ESG", "å€‹åˆ¥é¢è«‡", "æµ·å¤–æŠ•è³‡å®¶"],
            "priority": "high",
            "days_elapsed": 3,
            "current_stage": "faq",
            "stages": {
                "upload": {"status": "completed"},
                "transcription": {"status": "completed"},
                "ai_summary": {"status": "completed"},
                "faq": {"status": "processing", "progress": 75},
                "review": {"status": "waiting"},
                "publish": {"status": "waiting"}
            },
            "files": [
                {
                    "id": "file_004",
                    "name": "BlackRock_meeting_20240121.mp4",
                    "type": "video",
                    "size": "234.5MB",
                    "duration": "45åˆ†"
                }
            ],
            "transcript_preview": "ã€ä½è—¤ï¼ˆCFOï¼‰ã€‘ESGç›®æ¨™ã®é€²æ—ã«ã¤ã„ã¦ã”èª¬æ˜ã„ãŸã—ã¾ã™ã€‚\n\nã€æŠ•è³‡å®¶ã€‘ç‰¹ã«ç’°å¢ƒç›®æ¨™ã®å…·ä½“çš„ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã«ã¤ã„ã¦è©³ã—ããŠèãã—ãŸã„ã§ã™ã€‚",
            "investor_profile": {
                "investment_style": "ESGé‡è¦–æŠ•è³‡",
                "esg_focus": "éå¸¸ã«é«˜",
                "total_meetings": 8,
                "satisfaction_trend": "å®‰å®š"
            },
            "current_stage_info": {
                "action_required": True,
                "message": "FAQä½œæˆãƒ»ç¢ºèªãŒå¿…è¦ã§ã™ã€‚"
            }
        }
    }
    
    # å¾ªç’°å‚ç…§ã‚’é¿ã‘ã‚‹ãŸã‚ã€activity-001ã¯åˆ¥é€”ä½œæˆ
    mock_meeting_data = base_meeting_data.copy()
    if "meeting_001" in base_meeting_data:
        activity_001_data = base_meeting_data["meeting_001"].copy()
        activity_001_data.update({
            "title": "é‡æ‘AMæ±ºç®—èª¬æ˜ä¼š",
            "current_stage": "ai_summary",
            "urgency": "urgent"
        })
        mock_meeting_data["activity-001"] = activity_001_data
    
    # æŒ‡å®šã•ã‚ŒãŸIDã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯meeting_001ï¼‰
    meeting_data = mock_meeting_data.get(meeting_id, mock_meeting_data["meeting_001"])
    
    return templates.TemplateResponse("dialogue-edit-unified.html", {
        "request": request,
        "title": f"{meeting_data['title']} - è­°äº‹éŒ²ç·¨é›†",
        "meeting_id": meeting_id,
        "meeting_data": meeting_data,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/analytics", response_class=HTMLResponse)
async def analytics(request: Request):
    """åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆç”»é¢"""
    return templates.TemplateResponse("analytics.html", {
        "request": request,
        "title": "åˆ†æãƒ»ãƒ¬ãƒãƒ¼ãƒˆ",
        "kpis": MOCK_DATA["kpis"]
    })

@app.get("/documents", response_class=HTMLResponse)
async def document_management(request: Request):
    """ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("documents.html", {
        "request": request,
        "title": "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†",
        "documents": MOCK_DATA["documents"],
        "total_documents": len(MOCK_DATA["documents"])
    })

@app.get("/news", response_class=HTMLResponse)
async def news_management(request: Request):
    """ãƒ‹ãƒ¥ãƒ¼ã‚¹ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("news.html", {
        "request": request,
        "title": "ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ãŠçŸ¥ã‚‰ã›ç®¡ç†",
        "news": MOCK_DATA["news"],
        "total_news": len(MOCK_DATA["news"])
    })

@app.get("/users", response_class=HTMLResponse)
async def user_management(request: Request):
    """ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("users.html", {
        "request": request,
        "title": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†",
        "users": MOCK_DATA["users"],
        "total_users": len(MOCK_DATA["users"])
    })

@app.get("/audit-logs", response_class=HTMLResponse)
async def audit_logs(request: Request):
    """ç›£æŸ»ãƒ­ã‚°ç”»é¢"""
    return templates.TemplateResponse("audit_logs.html", {
        "request": request,
        "title": "ç›£æŸ»ãƒ­ã‚°",
        "logs": MOCK_DATA["audit_logs"],
        "total_logs": len(MOCK_DATA["audit_logs"])
    })

@app.get("/settings", response_class=HTMLResponse)
async def settings(request: Request):
    """è¨­å®šç”»é¢"""
    return templates.TemplateResponse("settings.html", {
        "request": request,
        "title": "ã‚·ã‚¹ãƒ†ãƒ è¨­å®š"
    })

@app.get("/login", response_class=HTMLResponse)
async def login(request: Request):
    """ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢"""
    return templates.TemplateResponse("login.html", {
        "request": request,
        "title": "ãƒ­ã‚°ã‚¤ãƒ³"
    })

@app.get("/schedule", response_class=HTMLResponse)
async def schedule_management(request: Request):
    """ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ç”»é¢"""
    # ã‚¤ãƒ™ãƒ³ãƒˆçµ±è¨ˆã‚’è¨ˆç®—
    upcoming_events = len([e for e in MOCK_DATA["events"] if e["status"] in ["äºˆå®š", "æº–å‚™ä¸­"]])
    this_month_events = 2  # ãƒ¢ãƒƒã‚¯
    pending_tasks = 5  # ãƒ¢ãƒƒã‚¯
    
    return templates.TemplateResponse("schedule.html", {
        "request": request,
        "title": "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†",
        "events": MOCK_DATA["events"],
        "upcoming_events": upcoming_events,
        "this_month_events": this_month_events,
        "pending_tasks": pending_tasks
    })

@app.get("/email-campaigns", response_class=HTMLResponse)
async def email_campaigns(request: Request):
    """ãƒ¡ãƒ¼ãƒ«é…ä¿¡ç®¡ç†ç”»é¢"""
    # é…ä¿¡çµ±è¨ˆã‚’è¨ˆç®—
    total_recipients = sum(g["count"] for g in MOCK_DATA["mailing_groups"])
    sent_this_month = 3  # ãƒ¢ãƒƒã‚¯
    avg_open_rate = 72  # ãƒ¢ãƒƒã‚¯
    scheduled_campaigns = len([c for c in MOCK_DATA["email_campaigns"] if c["status"] == "é…ä¿¡äºˆç´„"])
    
    return templates.TemplateResponse("email_campaigns.html", {
        "request": request,
        "title": "ãƒ¡ãƒ¼ãƒ«é…ä¿¡ç®¡ç†",
        "campaigns": MOCK_DATA["email_campaigns"],
        "mailing_groups": MOCK_DATA["mailing_groups"],
        "total_recipients": total_recipients,
        "sent_this_month": sent_this_month,
        "avg_open_rate": avg_open_rate,
        "scheduled_campaigns": scheduled_campaigns
    })

@app.get("/permissions", response_class=HTMLResponse)
async def permissions_management(request: Request):
    """æ¨©é™ç®¡ç†ç”»é¢"""
    # æ¨©é™çµ±è¨ˆã‚’è¨ˆç®—
    total_roles = len(MOCK_DATA["roles"])
    total_permissions = len(MOCK_DATA["permissions"])
    active_sessions = 15  # ãƒ¢ãƒƒã‚¯
    
    return templates.TemplateResponse("permissions.html", {
        "request": request,
        "title": "æ¨©é™ç®¡ç†",
        "roles": MOCK_DATA["roles"],
        "permissions": MOCK_DATA["permissions"],
        "api_keys": MOCK_DATA["api_keys"],
        "total_roles": total_roles,
        "total_permissions": total_permissions,
        "active_sessions": active_sessions
    })

@app.get("/executive-dashboard", response_class=HTMLResponse)
async def executive_dashboard(request: Request):
    """çµŒå–¶é™£å‘ã‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢"""
    from datetime import datetime
    
    # ç·Šæ€¥å¯¾å¿œäº‹é …ã®æ•°ã‚’è¨ˆç®—
    urgent_items = len([c for c in MOCK_DATA["top_concerns"] if c["importance"] == "é«˜"])
    
    # ä»Šé€±ã®é¢è«‡æ•°ã‚’è¨ˆç®—
    meetings_this_week = len(MOCK_DATA["important_meetings"])
    
    return templates.TemplateResponse("executive-dashboard.html", {
        "request": request,
        "title": "çµŒå–¶é™£ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
        "top_concerns": MOCK_DATA["top_concerns"],
        "recommended_actions": MOCK_DATA["recommended_actions"],
        "important_meetings": MOCK_DATA["important_meetings"],
        "skill_tip": MOCK_DATA["skill_tip"],
        "recent_feedback": MOCK_DATA["recent_feedback"],
        "urgent_items": urgent_items,
        "meetings_this_week": meetings_this_week,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/director-dashboard", response_class=HTMLResponse)
async def director_dashboard(request: Request):
    """ç¤¾å¤–å–ç· å½¹å‘ã‘ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢"""
    from datetime import datetime
    import json
    
    # é‡è¦èª²é¡Œã®æ•°ã‚’è¨ˆç®—
    high_impact_issues = len([i for i in MOCK_DATA["strategic_issues"] if i["impact"] == "é«˜"])
    
    # ä»Šå¾Œã®å–ç· å½¹ä¼šã®æ•°
    upcoming_board_meetings = len(MOCK_DATA["board_agenda_items"])
    
    return templates.TemplateResponse("director-dashboard.html", {
        "request": request,
        "title": "ç¤¾å¤–å–ç· å½¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
        "company_info": MOCK_DATA["company_info"],
        "period_data": MOCK_DATA["period_data"],
        "governance_overview": MOCK_DATA["governance_overview"],
        "strategic_issues": MOCK_DATA["strategic_issues"],
        "quarterly_trends": MOCK_DATA["quarterly_trends"],
        "board_agenda_items": MOCK_DATA["board_agenda_items"],
        "external_evaluations": MOCK_DATA["external_evaluations"],
        "compliance_incidents": MOCK_DATA["compliance_incidents"],
        "investor_dialogue_summary": MOCK_DATA["investor_dialogue_summary"],
        "key_investor_meetings": MOCK_DATA["key_investor_meetings"],
        "risk_monitoring": MOCK_DATA["risk_monitoring"],
        "high_impact_issues": high_impact_issues,
        "upcoming_board_meetings": upcoming_board_meetings,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

# ===== API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒ¢ãƒƒã‚¯ï¼‰ =====

@app.get("/api/director/dashboard/{period}")
async def get_director_dashboard_data(period: str):
    """ç¤¾å¤–å–ç· å½¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®æœŸé–“åˆ¥ãƒ‡ãƒ¼ã‚¿å–å¾—API"""
    
    # æœŸé–“ã«å¿œã˜ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™
    period_info = MOCK_DATA["period_data"].get(period, MOCK_DATA["period_data"]["quarter"])
    
    # æœŸé–“ã«å¿œã˜ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯DBã‹ã‚‰å–å¾—ï¼‰
    response_data = {
        "period": period,
        "period_info": period_info,
        "governance_overview": MOCK_DATA["governance_overview"],
        "investor_dialogue_summary": {
            "total_meetings": period_info["investor_meetings"],
            "by_type": MOCK_DATA["investor_dialogue_summary"]["by_type"],
            "by_topic": MOCK_DATA["investor_dialogue_summary"]["by_topic"],
            "concern_themes": MOCK_DATA["investor_dialogue_summary"]["concern_themes"]
        },
        "strategic_issues": MOCK_DATA["strategic_issues"],
        "risk_monitoring": MOCK_DATA["risk_monitoring"]
    }
    
    return response_data

@app.get("/ir-feedback", response_class=HTMLResponse)
async def ir_feedback(request: Request):
    """æŠ•è³‡å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("ir-feedback.html", {
        "request": request,
        "title": "æŠ•è³‡å®¶ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ç®¡ç†"
    })

@app.get("/ir-meeting", response_class=HTMLResponse)
async def ir_meeting(request: Request):
    """IRãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("ir-meeting.html", {
        "request": request,
        "title": "IRãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç®¡ç†"
    })

@app.get("/ir-strategy", response_class=HTMLResponse)
async def ir_strategy(request: Request):
    """ä¸­é•·æœŸæˆ¦ç•¥é–‹ç¤ºç®¡ç†ç”»é¢"""
    return templates.TemplateResponse("ir-strategy.html", {
        "request": request,
        "title": "ä¸­é•·æœŸæˆ¦ç•¥é–‹ç¤ºç®¡ç†"
    })

@app.get("/strategy-disclosure-assistant", response_class=HTMLResponse)
async def strategy_disclosure_assistant(request: Request):
    """ä¸­é•·æœŸè¨ˆç”»é–‹ç¤ºæ”¯æ´ãƒ„ãƒ¼ãƒ«ç”»é¢"""
    return templates.TemplateResponse("strategy-disclosure-assistant.html", {
        "request": request,
        "title": "ä¸­é•·æœŸè¨ˆç”»é–‹ç¤ºæ”¯æ´ãƒ„ãƒ¼ãƒ«"
    })

@app.get("/ir-calendar-workspace", response_class=HTMLResponse)
async def ir_calendar_workspace(request: Request):
    """IRã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»é¢è«‡ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢"""
    from datetime import datetime, timedelta
    
    # ç¾åœ¨æ—¥æ™‚ã®å–å¾—
    current_time = datetime.now()
    today = current_time.date()
    
    # ãƒ¢ãƒƒã‚¯é¢è«‡ãƒ‡ãƒ¼ã‚¿
    meeting_data = {
        "meeting-001": {
            "id": "meeting-001",
            "investor": "åŒ—ç±³å¹´é‡‘åŸºé‡‘Cç¤¾",
            "avatar": "C",
            "title": "CEOé¢è«‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ",
            "status": "æ‰¿èªå¾…ã¡",
            "urgency": "urgent",
            "date": "2024-01-12",
            "time": "10:00-11:00",
            "format": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ (Zoom)",
            "participants": "CEOå¿…é ˆ",
            "theme": "é•·æœŸæˆé•·æˆ¦ç•¥",
            "priority": 4,
            "asset_size": "$50B",
            "investment_style": "ESGé‡è¦–",
            "last_meeting": "åˆå›",
            "deadline": "2æ™‚é–“å¾Œ"
        },
        "meeting-002": {
            "id": "meeting-002", 
            "investor": "BlackRock",
            "avatar": "B",
            "title": "ESGæˆ¦ç•¥å€‹åˆ¥é¢è«‡",
            "status": "å®Ÿæ–½æº–å‚™å®Œäº†",
            "urgency": "today",
            "date": "2024-12-26",
            "time": "14:00-15:00",
            "format": "å¯¾é¢ä¼šè­°",
            "participants": "CFOã€IRéƒ¨é•·",
            "theme": "ESGæˆ¦ç•¥ã€ã‚µã‚¹ãƒ†ãƒŠãƒ“ãƒªãƒ†ã‚£",
            "priority": 5,
            "asset_size": "$8.5T",
            "investment_style": "é•·æœŸæŠ•è³‡",
            "last_meeting": "2023-11-15"
        },
        "meeting-003": {
            "id": "meeting-003",
            "investor": "Vanguard", 
            "avatar": "V",
            "title": "æ±ºç®—èª¬æ˜ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—",
            "status": "è³‡æ–™æº–å‚™ä¸­",
            "urgency": "tomorrow",
            "date": "2024-12-27",
            "time": "10:00-11:00",
            "format": "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³",
            "participants": "CFOã€çµŒå–¶ä¼ç”»éƒ¨é•·",
            "theme": "Q3æ±ºç®—ã€æ¥­ç¸¾è¦‹é€šã—",
            "priority": 3,
            "asset_size": "$7.2T",
            "investment_style": "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æŠ•è³‡",
            "last_meeting": "2024-10-25"
        },
        "meeting-004": {
            "id": "meeting-004",
            "investor": "Fidelity",
            "avatar": "F", 
            "title": "ä¸­æœŸæˆ¦ç•¥ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³",
            "status": "æ‰¿èªæ¸ˆã¿",
            "urgency": "scheduled",
            "date": "2025-01-03",
            "time": "15:00-16:00",
            "format": "å¯¾é¢ä¼šè­°",
            "participants": "CEOã€CFO",
            "theme": "ä¸­æœŸçµŒå–¶è¨ˆç”»ã€M&Aæˆ¦ç•¥",
            "priority": 4,
            "asset_size": "$4.2T",
            "investment_style": "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æŠ•è³‡",
            "last_meeting": "2024-08-20"
        }
    }
    
    # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
    calendar_events = [
        {
            "date": "2024-12-26",
            "events": [
                {
                    "id": "meeting-002",
                    "title": "BlackRock 14:00",
                    "type": "approved",
                    "meeting_data": meeting_data["meeting-002"]
                }
            ]
        },
        {
            "date": "2024-12-27", 
            "events": [
                {
                    "id": "meeting-003",
                    "title": "Vanguard 10:00",
                    "type": "pending",
                    "meeting_data": meeting_data["meeting-003"]
                }
            ]
        },
        {
            "date": "2025-01-03",
            "events": [
                {
                    "id": "meeting-004", 
                    "title": "Fidelity 15:00",
                    "type": "approved",
                    "meeting_data": meeting_data["meeting-004"]
                }
            ]
        },
        {
            "date": "2025-01-12",
            "events": [
                {
                    "id": "meeting-001",
                    "title": "åŒ—ç±³å¹´é‡‘Cç¤¾ (æ‰¿èªå¾…ã¡)",
                    "type": "urgent", 
                    "meeting_data": meeting_data["meeting-001"]
                }
            ]
        }
    ]
    
    # çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
    statistics = {
        "today_meetings": 2,
        "pending_approvals": 3,
        "this_month_total": 24,
        "satisfaction_rate": 95
    }
    
    return templates.TemplateResponse("ir-calendar-workspace.html", {
        "request": request,
        "title": "IRã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»é¢è«‡ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹",
        "meeting_data": meeting_data,
        "calendar_events": calendar_events,
        "statistics": statistics,
        "current_time": current_time.strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M"),
        "today": today.strftime("%Y-%m-%d")
    })

@app.get("/dialogue-center", response_class=HTMLResponse)
async def dialogue_center(request: Request):
    """å¤–éƒ¨MTGè­°äº‹éŒ²ç”»é¢ï¼ˆçµ±åˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼‰"""
    from datetime import datetime, timedelta
    
    # ç¾åœ¨æ—¥æ™‚ã®å–å¾—
    current_time = datetime.now()
    today = current_time.date()
    
    # ãƒ¢ãƒƒã‚¯å¯¾è©±è¨˜éŒ²ãƒ‡ãƒ¼ã‚¿
    activity_data = {
        "activity-001": {
            "id": "activity-001",
            "title": "é‡æ‘AMæ±ºç®—èª¬æ˜ä¼š",
            "investor": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
            "type": "æ±ºç®—èª¬æ˜ä¼š",
            "duration": "90åˆ†",
            "timestamp": "2æ™‚é–“å‰",
            "status": "å‡¦ç†åœæ»",
            "urgency": "urgent",
            "progress": {
                "stage": "ai_summary",
                "percentage": 65,
                "stages": {
                    "upload": "completed",
                    "transcription": "completed", 
                    "ai_summary": "processing",
                    "faq": "waiting",
                    "review": "waiting",
                    "publish": "waiting"
                }
            },
            "meta": {
                "file_size": "234MB",
                "transcript_chars": 15680,
                "accuracy": 96,
                "assignee": "IRæ‹…å½“è€…A",
                "participants": ["CEO", "CFO", "IRéƒ¨é•·"]
            }
        },
        "activity-002": {
            "id": "activity-002",
            "title": "BlackRockå€‹åˆ¥é¢è«‡",
            "investor": "BlackRock Inc.",
            "type": "å€‹åˆ¥é¢è«‡",
            "duration": "45åˆ†",
            "timestamp": "5æ™‚é–“å‰",
            "status": "FAQä½œæˆä¸­",
            "urgency": "processing",
            "progress": {
                "stage": "faq",
                "percentage": 75,
                "stages": {
                    "upload": "completed",
                    "transcription": "completed",
                    "ai_summary": "completed",
                    "faq": "processing",
                    "review": "waiting",
                    "publish": "waiting"
                }
            },
            "meta": {
                "file_size": "123MB",
                "transcript_chars": 8240,
                "accuracy": 98,
                "assignee": "IRæ‹…å½“è€…B",
                "participants": ["CFO", "IRéƒ¨é•·"]
            }
        },
        "activity-003": {
            "id": "activity-003",
            "title": "å€‹äººæŠ•è³‡å®¶èª¬æ˜ä¼š",
            "investor": "å€‹äººæŠ•è³‡å®¶",
            "type": "èª¬æ˜ä¼š",
            "duration": "2æ™‚é–“",
            "timestamp": "1æ—¥å‰",
            "status": "å…¬é–‹æ¸ˆã¿",
            "urgency": "completed",
            "progress": {
                "stage": "publish",
                "percentage": 100,
                "stages": {
                    "upload": "completed",
                    "transcription": "completed",
                    "ai_summary": "completed",
                    "faq": "completed",
                    "review": "completed",
                    "publish": "completed"
                }
            },
            "meta": {
                "file_size": "456MB",
                "transcript_chars": 24560,
                "accuracy": 94,
                "assignee": "IRæ‹…å½“è€…C",
                "participants": ["CEO", "CFO", "IRéƒ¨é•·", "çµŒå–¶ä¼ç”»éƒ¨é•·"]
            }
        },
        "activity-004": {
            "id": "activity-004",
            "title": "Vanguardå®šæœŸé¢è«‡",
            "investor": "Vanguard",
            "type": "å®šæœŸé¢è«‡",
            "duration": "60åˆ†",
            "timestamp": "14:00äºˆå®š",
            "status": "æº–å‚™å®Œäº†",
            "urgency": "scheduled",
            "progress": {
                "stage": "upload",
                "percentage": 0,
                "stages": {
                    "upload": "waiting",
                    "transcription": "waiting",
                    "ai_summary": "waiting",
                    "faq": "waiting",
                    "review": "waiting",
                    "publish": "waiting"
                }
            },
            "meta": {
                "assignee": "IRæ‹…å½“è€…A",
                "participants": ["CFO", "IRéƒ¨é•·"]
            }
        }
    }
    
    # çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
    statistics = {
        "processing": 12,
        "urgent": 3,
        "completed_today": 8,
        "avg_processing_time": "2.3h",
        "ai_accuracy": 96,
        "efficiency_improvement": 20
    }
    
    # AIæ´å¯Ÿãƒ‡ãƒ¼ã‚¿
    ai_insights = [
        {
            "type": "improvement",
            "message": "ä»Šæ—¥ã®å‡¦ç†åŠ¹ç‡ãŒ20%å‘ä¸Šã—ã¦ã„ã¾ã™",
            "icon": "ğŸ’¡"
        },
        {
            "type": "warning",
            "message": "3ä»¶ã®è¨˜éŒ²ã§å‡¦ç†é…å»¶ãŒç™ºç”Ÿä¸­",
            "icon": "âš ï¸"
        },
        {
            "type": "trend",
            "message": "ESGé–¢é€£ã®è³ªå•ãŒæ€¥å¢—ã—ã¦ã„ã¾ã™",
            "icon": "ğŸ“ˆ"
        }
    ]
    
    # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 
    action_items = [
        {
            "title": "BlackRockã¸ã®å›ç­”",
            "priority": "high",
            "deadline": "ä»Šæ—¥",
            "assignee": "IRæ‹…å½“è€…A"
        },
        {
            "title": "FAQæ‰¿èª",
            "priority": "medium", 
            "deadline": "æ˜æ—¥",
            "assignee": "IRéƒ¨é•·"
        },
        {
            "title": "ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ",
            "priority": "low",
            "deadline": "æ¥é€±",
            "assignee": "IRæ‹…å½“è€…C"
        }
    ]
    
    return templates.TemplateResponse("dialogue-center-workspace.html", {
        "request": request,
        "title": "å¤–éƒ¨MTGè­°äº‹éŒ²",
        "activity_data": activity_data,
        "statistics": statistics,
        "ai_insights": ai_insights,
        "action_items": action_items,
        "current_time": current_time.strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M"),
        "today": today.strftime("%Y-%m-%d")
    })

@app.get("/investor-relations", response_class=HTMLResponse)
async def investor_relations(request: Request):
    """æŠ•è³‡å®¶ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯çµ±åˆç®¡ç†ç”»é¢"""
    from datetime import datetime
    
    # æŠ•è³‡å®¶ç®¡ç†ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’çµ±åˆã—ãŸç”»é¢ï¼ˆç¾åœ¨ã¯æŠ•è³‡å®¶ç®¡ç†ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºï¼‰
    return templates.TemplateResponse("investors.html", {
        "request": request,
        "title": "æŠ•è³‡å®¶ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯çµ±åˆç®¡ç†",
        "investors": MOCK_DATA["investors"],
        "total_investors": len(MOCK_DATA["investors"]),
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/strategy-workspace", response_class=HTMLResponse) 
async def strategy_workspace(request: Request):
    """æˆ¦ç•¥ãƒ»é–‹ç¤ºãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢"""
    from datetime import datetime
    
    # IRæˆ¦ç•¥ç®¡ç†ã¨é–‹ç¤ºæ”¯æ´ãƒ„ãƒ¼ãƒ«ã‚’çµ±åˆã—ãŸç”»é¢ï¼ˆç¾åœ¨ã¯IRæˆ¦ç•¥ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºï¼‰
    return templates.TemplateResponse("ir-strategy.html", {
        "request": request,
        "title": "æˆ¦ç•¥ãƒ»é–‹ç¤ºãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹",
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/ir-content-center", response_class=HTMLResponse)
async def ir_content_center(request: Request):
    """IRæƒ…å ±çµ±åˆã‚»ãƒ³ã‚¿ãƒ¼ç”»é¢"""
    from datetime import datetime, timedelta
    
    # ç¾åœ¨æ—¥æ™‚ã®å–å¾—
    current_time = datetime.now()
    today = current_time.date()
    
    # ãƒ¢ãƒƒã‚¯FAQãƒ‡ãƒ¼ã‚¿
    faq_data = [
        {
            "id": "faq-001",
            "title": "2024å¹´ç¬¬3å››åŠæœŸã®æ¥­ç¸¾è¦‹é€šã—ã«ã¤ã„ã¦",
            "category": "è²¡å‹™ãƒ»æ¥­ç¸¾",
            "answer": "ç¬¬3å››åŠæœŸã®å£²ä¸Šé«˜ã¯å‰å¹´åŒæœŸæ¯”15%å¢—ã®è¦‹è¾¼ã¿ã§ã™ã€‚ä¸»åŠ›äº‹æ¥­ã®å¥½èª¿ãªæ¨ç§»ã«ã‚ˆã‚Šã€é€šæœŸæ¥­ç¸¾äºˆæƒ³ã‚’ä¸Šæ–¹ä¿®æ­£ã„ãŸã—ã¾ã™ã€‚",
            "status": "published",
            "view_count": 128,
            "last_updated": "2æ™‚é–“å‰",
            "confidence": 94,
            "type": "faq"
        },
        {
            "id": "faq-002", 
            "title": "ESGçµŒå–¶ã®å–ã‚Šçµ„ã¿ã«ã¤ã„ã¦",
            "category": "ESG",
            "answer": "2030å¹´ã¾ã§ã«ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«é”æˆã‚’ç›®æŒ‡ã—ã€å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼å°å…¥ã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚",
            "status": "published",
            "view_count": 89,
            "last_updated": "2æ—¥å‰",
            "confidence": 96,
            "type": "faq"
        }
    ]
    
    # ãƒ¢ãƒƒã‚¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿
    document_data = [
        {
            "id": "doc-001",
            "title": "2024å¹´ç¬¬3å››åŠæœŸæ±ºç®—çŸ­ä¿¡",
            "category": "æ±ºç®—çŸ­ä¿¡",
            "file_size": "2.4MB",
            "download_count": 45,
            "uploaded": "5æ™‚é–“å‰",
            "status": "published",
            "type": "document"
        },
        {
            "id": "doc-002",
            "title": "ä¸­æœŸçµŒå–¶è¨ˆç”»èª¬æ˜è³‡æ–™",
            "category": "èª¬æ˜ä¼šè³‡æ–™", 
            "file_size": "8.7MB",
            "download_count": 167,
            "uploaded": "3æ—¥å‰",
            "status": "published",
            "type": "document"
        }
    ]
    
    # ãƒ¢ãƒƒã‚¯ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿
    news_data = [
        {
            "id": "news-001",
            "title": "ç¬¬3å››åŠæœŸæ±ºç®—èª¬æ˜ä¼šã®é–‹å‚¬ã«ã¤ã„ã¦",
            "category": "ã‚¤ãƒ™ãƒ³ãƒˆ",
            "published": "1æ—¥å‰",
            "view_count": 234,
            "status": "published",
            "type": "news"
        },
        {
            "id": "news-002",
            "title": "æ ªä¸»å„ªå¾…åˆ¶åº¦ã®å¤‰æ›´ã«ã¤ã„ã¦",
            "category": "æ ªä¸»é‚„å…ƒ",
            "published": "1é€±é–“å‰",
            "view_count": 456,
            "status": "published",
            "type": "news"
        }
    ]
    
    # çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
    statistics = {
        "total_faq": 156,
        "total_documents": 67,
        "total_news": 25,
        "total_views": 12547,
        "monthly_growth": {
            "faq": 12,
            "documents": 5,
            "news": 8,
            "views": 18
        }
    }
    
    # çµ±åˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒªã‚¹ãƒˆï¼ˆæ™‚ç³»åˆ—é †ï¼‰
    all_content = []
    
    # FAQã‚’è¿½åŠ 
    for faq in faq_data:
        all_content.append({
            **faq,
            "content_type": "faq",
            "timestamp": faq["last_updated"]
        })
    
    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ   
    for doc in document_data:
        all_content.append({
            **doc,
            "content_type": "document",
            "timestamp": doc["uploaded"]
        })
    
    # ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¿½åŠ 
    for news in news_data:
        all_content.append({
            **news,
            "content_type": "news", 
            "timestamp": news["published"]
        })
    
    # æ™‚ç³»åˆ—ã§ã‚½ãƒ¼ãƒˆï¼ˆæœ€æ–°é †ï¼‰
    all_content.sort(key=lambda x: x["timestamp"], reverse=True)
    
    return templates.TemplateResponse("ir-content-center.html", {
        "request": request,
        "title": "IRæƒ…å ±çµ±åˆã‚»ãƒ³ã‚¿ãƒ¼",
        "all_content": all_content,
        "faq_data": faq_data,
        "document_data": document_data,
        "news_data": news_data,
        "statistics": statistics,
        "current_time": current_time.strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M"),
        "today": today.strftime("%Y-%m-%d")
    })

@app.get("/dialogue/faq/{meeting_id}", response_class=HTMLResponse)
async def dialogue_faq_edit(request: Request, meeting_id: str):
    """ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°FAQç·¨é›†ç”»é¢"""
    from datetime import datetime
    
    # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
    meeting_data = {
        "title": "é‡æ‘AMã¨ã®é¢è«‡è¨˜éŒ²",
        "investor_name": "é‡æ‘ã‚¢ã‚»ãƒƒãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ",
        "date": "2024-01-22 10:00"
    }
    
    # AIãƒˆãƒ”ãƒƒã‚¯åˆ†æ
    ai_topics = [
        {"id": "ai_business", "name": "AIäº‹æ¥­ã®æˆé•·æ€§", "mention_count": 8, "has_faq": True},
        {"id": "esg", "name": "ESGç›®æ¨™", "mention_count": 5, "has_faq": True},
        {"id": "dividend", "name": "é…å½“æ”¿ç­–", "mention_count": 3, "has_faq": True},
        {"id": "competition", "name": "ç«¶äº‰å„ªä½æ€§", "mention_count": 4, "has_faq": False},
        {"id": "global_expansion", "name": "ã‚°ãƒ­ãƒ¼ãƒãƒ«å±•é–‹", "mention_count": 2, "has_faq": False}
    ]
    
    # FAQãƒªã‚¹ãƒˆ
    faqs = [
        {
            "id": "faq_001",
            "question": "AIäº‹æ¥­ã®ä»Šå¾Œã®æˆé•·æ€§ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„",
            "answer": "AIäº‹æ¥­ã¯å½“ç¤¾ã®æˆé•·æˆ¦ç•¥ã®ä¸­æ ¸ã§ã‚ã‚Šã€ç‰¹ã«é‡‘èæ©Ÿé–¢å‘ã‘ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§å¼·ã„ç«¶äº‰åŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ä»ŠæœŸã¯å‰å¹´åŒæœŸæ¯”150%ã®æˆé•·ã‚’é”æˆã—ã€æ¥æœŸã‚‚100%ä»¥ä¸Šã®æˆé•·ã‚’è¦‹è¾¼ã‚“ã§ã„ã¾ã™ã€‚",
            "status": "approved",
            "ai_generated": True,
            "confidence": 95,
            "has_source": True,
            "category": "äº‹æ¥­æˆ¦ç•¥"
        },
        {
            "id": "faq_002",
            "question": "ESGç›®æ¨™ã®é€²æ—çŠ¶æ³ã¯ï¼Ÿ",
            "answer": "2030å¹´ã‚«ãƒ¼ãƒœãƒ³ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ç›®æ¨™ã«å‘ã‘ã¦ã€ç¾åœ¨è©³ç´°ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’ç­–å®šä¸­ã§ã™ã€‚2æœˆæœ«ã¾ã§ã«å…·ä½“çš„ãªæ–½ç­–ã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã‚’å…¬è¡¨äºˆå®šã§ã™ã€‚",
            "status": "draft",
            "ai_generated": True,
            "confidence": 88,
            "has_source": True,
            "category": "ESG"
        },
        {
            "id": "faq_003",
            "question": "é…å½“æ”¿ç­–ã«å¤‰æ›´ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
            "answer": "ç¾æ™‚ç‚¹ã§é…å½“æ”¿ç­–ã«å¤‰æ›´ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é…å½“æ€§åˆ30%ã‚’ç¶­æŒã—ã€å®‰å®šçš„ãªæ ªä¸»é‚„å…ƒã‚’ç¶™ç¶šã—ã¾ã™ã€‚",
            "status": "published",
            "ai_generated": False,
            "confidence": 100,
            "has_source": False,
            "category": "æ ªä¸»é‚„å…ƒ"
        }
    ]
    
    # æ–‡å­—èµ·ã“ã—ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ
    transcript_segments = [
        {
            "id": "seg_001",
            "speaker": "ç”°ä¸­ï¼ˆCEOï¼‰",
            "timestamp": "00:05:23",
            "formatted_time": "5:23",
            "text": "AIäº‹æ¥­ã«ã¤ã„ã¦ã¯ã€äºˆæƒ³ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§æˆé•·ã—ã¦ãŠã‚Šã¾ã™ã€‚ç‰¹ã«é‡‘èæ©Ÿé–¢å‘ã‘ã®AIã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¥½èª¿ã§ã€å‰å¹´åŒæœŸæ¯”150%ã®æˆé•·ã‚’é”æˆã—ã¾ã—ãŸã€‚",
            "is_important": True,
            "is_highlighted": False,
            "tags": ["AIäº‹æ¥­", "æˆé•·ç‡"]
        },
        {
            "id": "seg_002",
            "speaker": "æŠ•è³‡å®¶",
            "timestamp": "00:06:45",
            "formatted_time": "6:45",
            "text": "ãã®æˆé•·ã¯æŒç¶šå¯èƒ½ã§ã—ã‚‡ã†ã‹ï¼Ÿç«¶åˆä»–ç¤¾ã‚‚åŒæ§˜ã®åˆ†é‡ã«å‚å…¥ã—ã¦ãã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ãŒã€‚",
            "is_important": True,
            "is_highlighted": False,
            "tags": ["ç«¶äº‰å„ªä½æ€§"]
        },
        {
            "id": "seg_003",
            "speaker": "ç”°ä¸­ï¼ˆCEOï¼‰",
            "timestamp": "00:07:12",
            "formatted_time": "7:12",
            "text": "ãã®ã”æ‡¸å¿µã¯ã”ã‚‚ã£ã¨ã‚‚ã§ã™ã€‚ç§ãŸã¡ã¯æŠ€è¡“çš„å„ªä½æ€§ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã€ç ”ç©¶é–‹ç™ºã¸ã®æŠ•è³‡ã‚’å¼·åŒ–ã—ã¦ã„ã¾ã™ã€‚ç‰¹ã«ã€ç‰¹è¨±å–å¾—æ¸ˆã¿ã®ç‹¬è‡ªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒå¼·ã¿ã§ã™ã€‚",
            "is_important": True,
            "is_highlighted": True,
            "tags": ["ç«¶äº‰å„ªä½æ€§", "æŠ€è¡“"]
        },
        {
            "id": "seg_004",
            "speaker": "ä½è—¤ï¼ˆCFOï¼‰",
            "timestamp": "00:15:30",
            "formatted_time": "15:30",
            "text": "ESGã«é–¢ã—ã¦ã¯ã€ç¾åœ¨è©³ç´°ãªãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ã‚’ç­–å®šä¸­ã§ã™ã€‚2æœˆæœ«ã«ã¯å…·ä½“çš„ãªãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã¨äºˆç®—ã‚’å…¬è¡¨ã§ãã‚‹äºˆå®šã§ã™ã€‚",
            "is_important": True,
            "is_highlighted": False,
            "tags": ["ESG", "ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—"]
        }
    ]
    
    # é¡ä¼¼FAQ
    similar_faqs = [
        {
            "id": "faq_legacy_001",
            "question": "AIäº‹æ¥­ã®åç›Šæ€§ã«ã¤ã„ã¦æ•™ãˆã¦ãã ã•ã„",
            "similarity": 85,
            "last_updated": "2023-10-20"
        },
        {
            "id": "faq_legacy_002",
            "question": "ç’°å¢ƒç›®æ¨™ã®é€²æ—ã¯ã©ã†ã§ã™ã‹ï¼Ÿ",
            "similarity": 78,
            "last_updated": "2023-07-15"
        }
    ]
    
    # é¸æŠã•ã‚ŒãŸFAQ
    selected_faq_id = request.query_params.get("selected", "faq_001")
    selected_faq = next((f for f in faqs if f["id"] == selected_faq_id), faqs[0] if faqs else None)
    
    if selected_faq:
        selected_faq["source_quotes"] = [
            {
                "text": "AIäº‹æ¥­ã«ã¤ã„ã¦ã¯ã€äºˆæƒ³ã‚’ä¸Šå›ã‚‹ãƒšãƒ¼ã‚¹ã§æˆé•·ã—ã¦ãŠã‚Šã¾ã™ã€‚",
                "speaker": "ç”°ä¸­ï¼ˆCEOï¼‰",
                "timestamp": "5:23"
            }
        ]
    
    return templates.TemplateResponse("dialogue-faq.html", {
        "request": request,
        "title": f"FAQç·¨é›† - {meeting_data['title']}",
        "meeting_id": meeting_id,
        "meeting_data": meeting_data,
        "ai_topics": ai_topics,
        "faqs": faqs,
        "total_faqs": len(faqs),
        "ai_generated_count": len([f for f in faqs if f.get("ai_generated")]),
        "selected_faq_id": selected_faq_id,
        "selected_faq": selected_faq,
        "transcript_segments": transcript_segments,
        "similar_faqs": similar_faqs,
        "current_time": datetime.now().strftime("%Yå¹´%mæœˆ%dæ—¥ %H:%M")
    })

@app.get("/api/faqs")
async def get_faqs():
    """FAQä¸€è¦§å–å¾—API"""
    return {"faqs": MOCK_DATA["faqs"], "total": len(MOCK_DATA["faqs"])}

@app.post("/api/faqs")
async def create_faq(request: Request):
    """FAQä½œæˆAPIï¼ˆãƒ¢ãƒƒã‚¯ï¼‰"""
    return {"status": "success", "message": "FAQã‚’ä½œæˆã—ã¾ã—ãŸ"}

@app.get("/api/faqs/{faq_id}/versions")
async def get_faq_versions(faq_id: int):
    """FAQãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´å–å¾—API"""
    versions = [v for v in MOCK_DATA["faq_versions"] if v["faq_id"] == faq_id]
    return {"versions": versions}

@app.get("/api/faqs/{faq_id}/data-sources")
async def get_faq_data_sources(faq_id: int):
    """FAQãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å–å¾—API"""
    faq = next((f for f in MOCK_DATA["faqs"] if f["id"] == faq_id), None)
    if faq:
        return {"data_sources": faq.get("data_sources", [])}
    return {"data_sources": []}

@app.get("/api/data-sources")
async def get_data_sources():
    """ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ä¸€è¦§å–å¾—API"""
    return {"data_sources": MOCK_DATA["data_sources"]}

@app.post("/api/faqs/{faq_id}/update-version")
async def update_faq_version(faq_id: int, request: Request):
    """FAQãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°API"""
    return {"status": "success", "message": "FAQãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¾ã—ãŸ"}

@app.get("/api/faqs/expiring-soon")
async def get_expiring_faqs():
    """æœŸé™åˆ‡ã‚Œé–“è¿‘ã®FAQå–å¾—API"""
    from datetime import datetime, timedelta
    soon_date = datetime.now().date() + timedelta(days=30)
    expiring_faqs = [f for f in MOCK_DATA["faqs"] if f["valid_until"] < str(soon_date)]
    return {"faqs": expiring_faqs}

@app.post("/api/faqs/bulk-generate")
async def bulk_generate_faqs(request: Request):
    """AIä¸€æ‹¬ç”ŸæˆAPI"""
    return {"status": "success", "message": "AIä¸€æ‹¬ç”Ÿæˆã‚’é–‹å§‹ã—ã¾ã—ãŸ"}

@app.get("/api/faqs/export")
async def export_faqs():
    """FAQã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆAPI"""
    return {"status": "success", "data": MOCK_DATA["faqs"]}

@app.post("/api/faqs/import")
async def import_faqs(request: Request):
    """FAQã‚¤ãƒ³ãƒãƒ¼ãƒˆAPI"""
    return {"status": "success", "message": "FAQã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ"}

# é‡è¤‡ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå‰Šé™¤ - dialogue/edit ã«çµ±åˆ

# ===== ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹• =====
if __name__ == "__main__":
    import uvicorn
    uvicorn.run("app:app", host="0.0.0.0", port=8000, reload=True)
