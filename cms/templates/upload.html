{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<!-- ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
<div class="flex gap-md mb-lg" style="border-bottom: 2px solid var(--gray-200);">
    <button class="btn btn-secondary" onclick="showSection('voice')" id="tab-voice" style="border-radius: 0; border-bottom: 2px solid transparent;">
        ğŸ™ï¸ éŸ³å£°ãƒ»å‹•ç”»
    </button>
    <button class="btn btn-secondary" onclick="showSection('meeting')" id="tab-meeting" style="border-radius: 0; border-bottom: 2px solid transparent;">
        ğŸ’» Webä¼šè­°
    </button>
    <button class="btn btn-secondary" onclick="showSection('email')" id="tab-email" style="border-radius: 0; border-bottom: 2px solid transparent;">
        ğŸ“§ ãƒ¡ãƒ¼ãƒ«
    </button>
    <button class="btn btn-secondary" onclick="showSection('document')" id="tab-document" style="border-radius: 0; border-bottom: 2px solid transparent;">
        ğŸ“„ æ–‡æ›¸
    </button>
</div>

<!-- éŸ³å£°ãƒ»å‹•ç”»ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div id="section-voice" class="upload-section">
    <div class="card">
        <div class="card-header">
            <h3 class="text-lg font-semibold">éŸ³å£°ãƒ»å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h3>
        </div>
        <div class="card-body">
            <div class="upload-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" onclick="selectFile()">
                <div class="upload-icon">ğŸ™ï¸</div>
                <h3 class="text-xl mb-sm">éŸ³å£°ãƒ»å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—</h3>
                <p class="upload-text">ã¾ãŸã¯ ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</p>
                <p class="text-sm text-muted">å¯¾å¿œå½¢å¼: MP3, WAV, MP4, MOV (æœ€å¤§500MB)</p>
                <input type="file" id="fileInput" style="display: none;" accept="audio/*,video/*" multiple onchange="handleFileSelect(event)">
            </div>
            
            <!-- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ« -->
            <div class="mt-lg">
                <h4 class="text-lg font-semibold mb-md">å‡¦ç†ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«</h4>
                <div class="flex flex-col gap-md">
                    <div class="card">
                        <div class="card-body">
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="flex items-center gap-md mb-sm">
                                        <span class="text-2xl">ğŸ™ï¸</span>
                                        <div>
                                            <div class="font-semibold">æ±ºç®—èª¬æ˜ä¼š_2024Q3.mp3</div>
                                            <div class="text-sm text-muted">45.2MB â€¢ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰: 5åˆ†å‰</div>
                                        </div>
                                    </div>
                                    <div class="progress mb-sm">
                                        <div class="progress-bar" style="width: 75%;"></div>
                                    </div>
                                    <div class="text-sm">æ–‡å­—èµ·ã“ã—å‡¦ç†ä¸­... 75%</div>
                                </div>
                                <button class="btn btn-sm btn-danger">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-body">
                            <div class="flex justify-between items-center">
                                <div class="flex items-center gap-md">
                                    <span class="text-2xl">âœ…</span>
                                    <div>
                                        <div class="font-semibold">æŠ•è³‡å®¶é¢è«‡_20240115.wav</div>
                                        <div class="text-sm text-muted">32.1MB â€¢ å‡¦ç†å®Œäº†</div>
                                        <div class="flex gap-sm mt-sm">
                                            <span class="badge badge-success">æ–‡å­—èµ·ã“ã—å®Œäº†</span>
                                            <span class="badge badge-success">FAQå€™è£œ: 5ä»¶</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex gap-sm">
                                    <button class="btn btn-sm btn-secondary">çµæœç¢ºèª</button>
                                    <button class="btn btn-sm btn-secondary">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Webä¼šè­°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div id="section-meeting" class="upload-section" style="display: none;">
    <div class="card">
        <div class="card-header">
            <h3 class="text-lg font-semibold">Webä¼šè­°é€£æº</h3>
        </div>
        <div class="card-body">
            <div class="dashboard-grid mb-lg">
                <div class="card">
                    <div class="card-body text-center">
                        <div class="text-3xl mb-md">ğŸ”·</div>
                        <h4 class="font-semibold mb-sm">Zoom</h4>
                        <p class="text-sm text-muted mb-md">ZoomãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®éŒ²ç”»ã‚’è‡ªå‹•å–è¾¼</p>
                        <button class="btn btn-primary btn-sm">é€£æºè¨­å®š</button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-body text-center">
                        <div class="text-3xl mb-md">ğŸ“¹</div>
                        <h4 class="font-semibold mb-sm">Teams</h4>
                        <p class="text-sm text-muted mb-md">Microsoft Teamsã®ä¼šè­°éŒ²ç”»ã‚’å–è¾¼</p>
                        <button class="btn btn-secondary btn-sm">é€£æºè¨­å®š</button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-body text-center">
                        <div class="text-3xl mb-md">ğŸŸ¢</div>
                        <h4 class="font-semibold mb-sm">Webex</h4>
                        <p class="text-sm text-muted mb-md">Cisco Webexã®éŒ²ç”»ã‚’è‡ªå‹•å‡¦ç†</p>
                        <button class="btn btn-secondary btn-sm">é€£æºè¨­å®š</button>
                    </div>
                </div>
            </div>
            
            <div class="alert alert-info">
                <span>ğŸ’¡</span>
                <span>Webä¼šè­°ã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºã™ã‚‹ã¨ã€éŒ²ç”»ãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã«æ–‡å­—èµ·ã“ã—ã•ã‚Œã€è­°äº‹éŒ²ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚</span>
            </div>
        </div>
    </div>
</div>

<!-- ãƒ¡ãƒ¼ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div id="section-email" class="upload-section" style="display: none;">
    <div class="card">
        <div class="card-header">
            <h3 class="text-lg font-semibold">ãƒ¡ãƒ¼ãƒ«å–è¾¼</h3>
        </div>
        <div class="card-body">
            <div class="form-group">
                <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š</label>
                <div class="flex gap-md">
                    <input type="email" class="form-control" placeholder="ir@company.com">
                    <button class="btn btn-primary">æ¥ç¶šãƒ†ã‚¹ãƒˆ</button>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">å–è¾¼ãƒ«ãƒ¼ãƒ«</label>
                <div class="flex flex-col gap-sm">
                    <label class="flex items-center gap-sm">
                        <input type="checkbox" checked>
                        <span>æŠ•è³‡å®¶ã‹ã‚‰ã®å•ã„åˆã‚ã›ãƒ¡ãƒ¼ãƒ«ã‚’è‡ªå‹•å–è¾¼</span>
                    </label>
                    <label class="flex items-center gap-sm">
                        <input type="checkbox" checked>
                        <span>FAQå€™è£œã‚’è‡ªå‹•ç”Ÿæˆ</span>
                    </label>
                    <label class="flex items-center gap-sm">
                        <input type="checkbox">
                        <span>é‡è¦åº¦ã®é«˜ã„ãƒ¡ãƒ¼ãƒ«ã‚’å„ªå…ˆå‡¦ç†</span>
                    </label>
                </div>
            </div>
            
            <button class="btn btn-primary">è¨­å®šã‚’ä¿å­˜</button>
        </div>
    </div>
</div>

<!-- æ–‡æ›¸ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div id="section-document" class="upload-section" style="display: none;">
    <div class="card">
        <div class="card-header">
            <h3 class="text-lg font-semibold">æ–‡æ›¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</h3>
        </div>
        <div class="card-body">
            <div class="upload-area" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" onclick="selectDocumentFile()">
                <div class="upload-icon">ğŸ“„</div>
                <h3 class="text-xl mb-sm">æ–‡æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—</h3>
                <p class="upload-text">ã¾ãŸã¯ ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ</p>
                <p class="text-sm text-muted">å¯¾å¿œå½¢å¼: PDF, Word, Excel, PowerPoint (æœ€å¤§50MB)</p>
                <input type="file" id="documentInput" style="display: none;" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx" multiple>
            </div>
            
            <div class="mt-lg">
                <h4 class="font-semibold mb-md">æ–‡æ›¸ã‚«ãƒ†ã‚´ãƒª</h4>
                <div class="flex gap-md flex-wrap">
                    <label class="flex items-center gap-sm">
                        <input type="radio" name="doc-category" checked>
                        <span>æ±ºç®—è³‡æ–™</span>
                    </label>
                    <label class="flex items-center gap-sm">
                        <input type="radio" name="doc-category">
                        <span>èª¬æ˜ä¼šè³‡æ–™</span>
                    </label>
                    <label class="flex items-center gap-sm">
                        <input type="radio" name="doc-category">
                        <span>é©æ™‚é–‹ç¤º</span>
                    </label>
                    <label class="flex items-center gap-sm">
                        <input type="radio" name="doc-category">
                        <span>ãã®ä»–</span>
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
// ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
function showSection(section) {
    // ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
    document.querySelectorAll('.upload-section').forEach(s => {
        s.style.display = 'none';
    });
    
    // ã™ã¹ã¦ã®ã‚¿ãƒ–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
    document.querySelectorAll('[id^="tab-"]').forEach(t => {
        t.style.borderBottomColor = 'transparent';
        t.style.color = 'var(--gray-700)';
    });
    
    // é¸æŠã•ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
    document.getElementById(`section-${section}`).style.display = 'block';
    
    // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
    const activeTab = document.getElementById(`tab-${section}`);
    activeTab.style.borderBottomColor = 'var(--kagami-blue)';
    activeTab.style.color = 'var(--kagami-blue)';
}

// ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å‡¦ç†
function handleDragOver(e) {
    e.preventDefault();
    e.currentTarget.classList.add('active');
}

function handleDrop(e) {
    e.preventDefault();
    e.currentTarget.classList.remove('active');
    
    const files = e.dataTransfer.files;
    handleFiles(files);
}

// ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
function selectFile() {
    document.getElementById('fileInput').click();
}

function selectDocumentFile() {
    document.getElementById('documentInput').click();
}

function handleFileSelect(e) {
    const files = e.target.files;
    handleFiles(files);
}

// ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰
function handleFiles(files) {
    alert(`${files.length}å€‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ï¼ˆãƒ‡ãƒ¢ï¼‰`);
}

// åˆæœŸè¡¨ç¤º
showSection('voice');
</script>
{% endblock %}
