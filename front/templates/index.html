{% extends "base.html" %}

{% block title %}ホーム{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6">
                AI技術で社会に新たな価値を
            </h1>
            <p class="text-xl mb-8 text-blue-100">
                株式会社KAGAMIは、最先端のAI技術を活用して、企業と社会に革新的なソリューションを提供しています
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <a href="/ir-library" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                    最新の決算資料
                </a>
                <a href="/ai-assistant" class="border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition">
                    <i class="fas fa-robot mr-2"></i>AIに質問する
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Key Metrics -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">主要経営指標</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
            <div class="bg-gray-50 rounded-lg p-6 text-center">
                <div class="text-sm text-gray-600 mb-2">売上高（前年同期比）</div>
                <div class="text-3xl font-bold text-gray-900 mb-1">152.3億円</div>
                <div class="text-green-600 font-semibold">
                    <i class="fas fa-arrow-up"></i> +35.2%
                </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-6 text-center">
                <div class="text-sm text-gray-600 mb-2">営業利益（前年同期比）</div>
                <div class="text-3xl font-bold text-gray-900 mb-1">34.6億円</div>
                <div class="text-green-600 font-semibold">
                    <i class="fas fa-arrow-up"></i> +42.1%
                </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-6 text-center">
                <div class="text-sm text-gray-600 mb-2">株価</div>
                <div class="text-3xl font-bold text-gray-900 mb-1">3,456円</div>
                <div class="text-green-600 font-semibold">
                    <i class="fas fa-arrow-up"></i> +2.3%
                </div>
            </div>
            <div class="bg-gray-50 rounded-lg p-6 text-center">
                <div class="text-sm text-gray-600 mb-2">時価総額</div>
                <div class="text-3xl font-bold text-gray-900 mb-1">3,456億円</div>
                <div class="text-gray-600 text-sm">
                    2025年7月30日時点
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest News -->
<section class="py-16">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-3xl font-bold">最新ニュース</h2>
            <a href="/news" class="text-blue-600 hover:text-blue-700 font-medium">
                すべて見る <i class="fas fa-arrow-right ml-1"></i>
            </a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <article class="bg-white rounded-lg shadow-sm hover:shadow-md transition p-6">
                <div class="flex items-center text-sm text-gray-600 mb-3">
                    <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs font-semibold mr-3">決算</span>
                    <time>2025年7月30日</time>
                </div>
                <h3 class="text-lg font-semibold mb-2">
                    <a href="#" class="hover:text-blue-600 transition">
                        2025年3月期第1四半期決算を発表
                    </a>
                </h3>
                <p class="text-gray-600 text-sm">
                    売上高は前年同期比35.2%増の152.3億円、営業利益は42.1%増の34.6億円となりました。
                </p>
            </article>
            
            <article class="bg-white rounded-lg shadow-sm hover:shadow-md transition p-6">
                <div class="flex items-center text-sm text-gray-600 mb-3">
                    <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-semibold mr-3">事業</span>
                    <time>2025年7月25日</time>
                </div>
                <h3 class="text-lg font-semibold mb-2">
                    <a href="#" class="hover:text-blue-600 transition">
                        新AI製品「KAGAMI Vision」を発表
                    </a>
                </h3>
                <p class="text-gray-600 text-sm">
                    製造業向けの画像認識AIソリューション「KAGAMI Vision」の提供を開始しました。
                </p>
            </article>
            
            <article class="bg-white rounded-lg shadow-sm hover:shadow-md transition p-6">
                <div class="flex items-center text-sm text-gray-600 mb-3">
                    <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs font-semibold mr-3">IR</span>
                    <time>2025年7月20日</time>
                </div>
                <h3 class="text-lg font-semibold mb-2">
                    <a href="#" class="hover:text-blue-600 transition">
                        個人投資家向け説明会を開催
                    </a>
                </h3>
                <p class="text-gray-600 text-sm">
                    8月10日にオンラインで個人投資家向け会社説明会を開催します。参加申込受付中。
                </p>
            </article>
        </div>
    </div>
</section>

<!-- Quick Access -->
<section class="py-16 bg-gray-100">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">クイックアクセス</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto">
            <a href="/ir-library" class="bg-white rounded-lg p-6 hover:shadow-lg transition group">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-blue-600 transition">
                    <i class="fas fa-file-alt text-blue-600 text-xl group-hover:text-white transition"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">IR資料室</h3>
                <p class="text-gray-600 text-sm mb-4">
                    決算資料、有価証券報告書、統合報告書などをご覧いただけます
                </p>
                <span class="text-blue-600 font-medium group-hover:underline">
                    資料を見る <i class="fas fa-arrow-right ml-1"></i>
                </span>
            </a>
            
            <a href="/financial-data" class="bg-white rounded-lg p-6 hover:shadow-lg transition group">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-600 transition">
                    <i class="fas fa-chart-line text-green-600 text-xl group-hover:text-white transition"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">業績・財務データ</h3>
                <p class="text-gray-600 text-sm mb-4">
                    過去の業績推移や財務データをグラフでわかりやすく表示
                </p>
                <span class="text-blue-600 font-medium group-hover:underline">
                    データを見る <i class="fas fa-arrow-right ml-1"></i>
                </span>
            </a>
            
            <a href="/faq" class="bg-white rounded-lg p-6 hover:shadow-lg transition group">
                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-600 transition">
                    <i class="fas fa-question-circle text-purple-600 text-xl group-hover:text-white transition"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">よくあるご質問</h3>
                <p class="text-gray-600 text-sm mb-4">
                    投資家の皆様からよくいただくご質問と回答をまとめています
                </p>
                <span class="text-blue-600 font-medium group-hover:underline">
                    FAQを見る <i class="fas fa-arrow-right ml-1"></i>
                </span>
            </a>
        </div>
    </div>
</section>

<!-- Popular FAQs -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12">よくあるご質問</h2>
            
            <div class="space-y-4">
                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="flex items-start">
                        <div class="bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mr-4">
                            <span class="text-blue-600 font-semibold">Q</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold mb-2">AI事業の成長率35%を達成した要因は何ですか？</h3>
                            <p class="text-gray-600">
                                エンタープライズSaaSの好調、新製品の市場投入、既存顧客のアップセルが主な要因です。特に大手企業向けのカスタマイズソリューションが好評を得ています。
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="flex items-start">
                        <div class="bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mr-4">
                            <span class="text-blue-600 font-semibold">Q</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold mb-2">今期の業績予想を上方修正した理由は？</h3>
                            <p class="text-gray-600">
                                AI事業の想定以上の成長と、新規顧客獲得の加速により、通期業績予想を上方修正しました。売上高は前回予想比10%増の見込みです。
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="flex items-start">
                        <div class="bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mr-4">
                            <span class="text-blue-600 font-semibold">Q</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold mb-2">配当政策について教えてください</h3>
                            <p class="text-gray-600">
                                当社は成長投資と株主還元のバランスを重視し、配当性向30%を目標としています。今期は1株当たり年間50円の配当を予定しています。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <a href="/faq" class="text-blue-600 hover:text-blue-700 font-medium">
                    その他のFAQを見る <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-gradient-to-r from-blue-600 to-blue-700 text-white">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-4">IR情報をもっと便利に</h2>
        <p class="text-xl mb-8 text-blue-100">
            AIアシスタントが、あなたの質問に24時間365日お答えします
        </p>
        <button onclick="toggleAIAssistant()" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition inline-flex items-center">
            <i class="fas fa-robot mr-2"></i>
            AIアシスタントを起動
        </button>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// ページ固有のスクリプト
document.addEventListener('DOMContentLoaded', function() {
    // 数値のアニメーション
    animateNumbers();
});

function animateNumbers() {
    const numbers = document.querySelectorAll('[data-animate-number]');
    numbers.forEach(num => {
        const target = parseInt(num.getAttribute('data-animate-number'));
        animateValue(num, 0, target, 2000);
    });
}

function animateValue(obj, start, end, duration) {
    let startTimestamp = null;
    const step = (timestamp) => {
        if (!startTimestamp) startTimestamp = timestamp;
        const progress = Math.min((timestamp - startTimestamp) / duration, 1);
        obj.innerHTML = Math.floor(progress * (end - start) + start).toLocaleString();
        if (progress < 1) {
            window.requestAnimationFrame(step);
        }
    };
    window.requestAnimationFrame(step);
}
</script>
{% endblock %}
